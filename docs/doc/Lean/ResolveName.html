<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href=".././style.css"></link><link rel="icon" href=".././favicon.svg"></link><link rel="mask-icon" href=".././favicon.svg" color="#000000"></link><link rel="prefetch" href=".././/declarations/declaration-data.bmp" as="image"></link><title>Lean.ResolveName</title><script defer="true" src=".././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT=".././";</script><script>const MODULE_NAME="Lean.ResolveName";</script><script type="module" src=".././jump-src.js"></script><script type="module" src=".././search.js"></script><script type="module" src=".././expand-nav.js"></script><script type="module" src=".././how-about.js"></script><script type="module" src=".././instances.js"></script><script type="module" src=".././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">ResolveName</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href=".././Lean/Exception.html">Lean.Exception</a></li><li><a href=".././Lean/Hygiene.html">Lean.Hygiene</a></li><li><a href=".././Lean/Modifiers.html">Lean.Modifiers</a></li><li><a href=".././Lean/Namespace.html">Lean.Namespace</a></li><li><a href=".././Lean/Data/OpenDecl.html">Lean.Data.OpenDecl</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.ResolveName" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.throwReservedNameNotAvailable"><span class="name">Lean</span>.<span class="name">throwReservedNameNotAvailable</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ensureReservedNameAvailable"><span class="name">Lean</span>.<span class="name">ensureReservedNameAvailable</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.reservedNamePredicatesRef"><span class="name">Lean</span>.<span class="name">reservedNamePredicatesRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.registerReservedNamePredicate"><span class="name">Lean</span>.<span class="name">registerReservedNamePredicate</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.reservedNamePredicatesExt"><span class="name">Lean</span>.<span class="name">reservedNamePredicatesExt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.isReservedName"><span class="name">Lean</span>.<span class="name">isReservedName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.AliasState"><span class="name">Lean</span>.<span class="name">AliasState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.AliasEntry"><span class="name">Lean</span>.<span class="name">AliasEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.addAliasEntry"><span class="name">Lean</span>.<span class="name">addAliasEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.aliasExtension"><span class="name">Lean</span>.<span class="name">aliasExtension</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.addAlias"><span class="name">Lean</span>.<span class="name">addAlias</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.getAliasState"><span class="name">Lean</span>.<span class="name">getAliasState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.getAliases"><span class="name">Lean</span>.<span class="name">getAliases</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.getRevAliases"><span class="name">Lean</span>.<span class="name">getRevAliases</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ResolveName.resolveGlobalName"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveGlobalName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ResolveName.resolveGlobalName.loop"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveGlobalName</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ResolveName.resolveNamespaceUsingScope?"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespaceUsingScope?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ResolveName.resolveNamespaceUsingOpenDecls"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespaceUsingOpenDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ResolveName.resolveNamespace"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespace</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MonadResolveName"><span class="name">Lean</span>.<span class="name">MonadResolveName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instMonadResolveNameOfMonadLift"><span class="name">Lean</span>.<span class="name">instMonadResolveNameOfMonadLift</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveGlobalName"><span class="name">Lean</span>.<span class="name">resolveGlobalName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveNamespaceCore"><span class="name">Lean</span>.<span class="name">resolveNamespaceCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveNamespace"><span class="name">Lean</span>.<span class="name">resolveNamespace</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveUniqueNamespace"><span class="name">Lean</span>.<span class="name">resolveUniqueNamespace</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.filterFieldList"><span class="name">Lean</span>.<span class="name">filterFieldList</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ensureNoOverload"><span class="name">Lean</span>.<span class="name">ensureNoOverload</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveGlobalConstNoOverloadCore"><span class="name">Lean</span>.<span class="name">resolveGlobalConstNoOverloadCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.preprocessSyntaxAndResolve"><span class="name">Lean</span>.<span class="name">preprocessSyntaxAndResolve</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveGlobalConst"><span class="name">Lean</span>.<span class="name">resolveGlobalConst</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ensureNonAmbiguous"><span class="name">Lean</span>.<span class="name">ensureNonAmbiguous</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveGlobalConstNoOverload"><span class="name">Lean</span>.<span class="name">resolveGlobalConstNoOverload</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveLocalName"><span class="name">Lean</span>.<span class="name">resolveLocalName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveLocalName.go"><span class="name">Lean</span>.<span class="name">resolveLocalName</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.resolveLocalName.loop"><span class="name">Lean</span>.<span class="name">resolveLocalName</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unresolveNameGlobal"><span class="name">Lean</span>.<span class="name">unresolveNameGlobal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unresolveNameGlobal.unresolveNameCore"><span class="name">Lean</span>.<span class="name">unresolveNameGlobal</span>.<span class="name">unresolveNameCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unresolveNameGlobalAvoidingLocals"><span class="name">Lean</span>.<span class="name">unresolveNameGlobalAvoidingLocals</span></a></div></nav><main>
<div class="mod_doc"><p>Reserved names.</p><p>We use reserved names for automatically generated theorems (e.g., equational theorems).
Automation may register new reserved name predicates.
In this module, we just check the registered predicates, but do not trigger actions associated with them.
For example, give a definition <code>foo</code>, we flag <code>foo.def</code> as reserved symbol.</p></div><div class="decl" id="Lean.throwReservedNameNotAvailable"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L23-L24">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.throwReservedNameNotAvailable"><span class="name">Lean</span>.<span class="name">throwReservedNameNotAvailable</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declName </span><span class="fn">reservedName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.throwReservedNameNotAvailable" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ensureReservedNameAvailable"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L26-L29">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ensureReservedNameAvailable"><span class="name">Lean</span>.<span class="name">ensureReservedNameAvailable</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">suffix</span> : <a href=".././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.ensureReservedNameAvailable" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.reservedNamePredicatesRef"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L31-L32">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.reservedNamePredicatesRef"><span class="name">Lean</span>.<span class="name">reservedNamePredicatesRef</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href=".././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href=".././Lean/Environment.html#Lean.Environment">Environment</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span>)</span></span></div></div><p>Global reference containing all reserved name predicates.</p></div></div><div class="decl" id="Lean.registerReservedNamePredicate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L34-L40">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.registerReservedNamePredicate"><span class="name">Lean</span>.<span class="name">registerReservedNamePredicate</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href=".././Lean/Environment.html#Lean.Environment">Environment</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/System/IO.html#IO">IO</a> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Registers a new reserved name predicate.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.registerReservedNamePredicate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.reservedNamePredicatesExt"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L42-L43">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.reservedNamePredicatesExt"><span class="name">Lean</span>.<span class="name">reservedNamePredicatesExt</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Environment.html#Lean.EnvExtension">EnvExtension</a> <span class="fn">(<a href=".././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href=".././Lean/Environment.html#Lean.Environment">Environment</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span>)</span></span></div></div></div></div><div class="decl" id="Lean.isReservedName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L45-L50">source</a></div><div class="attributes">@[export lean_is_reserved_name]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.isReservedName"><span class="name">Lean</span>.<span class="name">isReservedName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if <code>name</code> is a reserved name.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.isReservedName">Lean.isReservedName</a> <span class="fn">env</span> <span class="fn">name</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><a href=".././Lean/ResolveName.html#Lean.reservedNamePredicatesExt">Lean.reservedNamePredicatesExt</a>.<a href=".././Lean/Environment.html#Lean.EnvExtension.getState">getState</a></span> <span class="fn">env</span>)</span>.<a href=".././Init/Data/Array/Basic.html#Array.any">any</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href=".././Lean/Environment.html#Lean.Environment">Lean.Environment</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></span>) =&gt; <span class="fn"><span class="fn">x</span> <span class="fn">env</span> <span class="fn">name</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.isReservedName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>We use aliases to implement the <code>export &lt;id&gt; (&lt;id&gt;+)</code> command.
An <code>export A (x)</code> in the namespace <code>B</code> produces an alias <code>B.x ~&gt; A.x</code>.</p></div><div class="decl" id="Lean.AliasState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L57-L57">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.AliasState"><span class="name">Lean</span>.<span class="name">AliasState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/ResolveName.html#Lean.AliasState">Lean.AliasState</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Data/SMap.html#Lean.SMap">Lean.SMap</a> <a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.AliasState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.AliasEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L58-L58">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.AliasEntry"><span class="name">Lean</span>.<span class="name">AliasEntry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/ResolveName.html#Lean.AliasEntry">Lean.AliasEntry</a> <a href=".././Init/Prelude.html#Eq">=</a> (<a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a>)</li></ul></details><details id="instances-for-list-Lean.AliasEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.addAliasEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L60-L63">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.addAliasEntry"><span class="name">Lean</span>.<span class="name">addAliasEntry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href=".././Lean/ResolveName.html#Lean.AliasState">AliasState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/ResolveName.html#Lean.AliasEntry">AliasEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/ResolveName.html#Lean.AliasState">AliasState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.addAliasEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.aliasExtension"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L65-L69">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.aliasExtension"><span class="name">Lean</span>.<span class="name">aliasExtension</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/EnvExtension.html#Lean.SimplePersistentEnvExtension">SimplePersistentEnvExtension</a> <a href=".././Lean/ResolveName.html#Lean.AliasEntry">AliasEntry</a> <a href=".././Lean/ResolveName.html#Lean.AliasState">AliasState</a></span></div></div></div></div><div class="decl" id="Lean.addAlias"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L71-L73">source</a></div><div class="attributes">@[export lean_add_alias]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.addAlias"><span class="name">Lean</span>.<span class="name">addAlias</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">e</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Environment.html#Lean.Environment">Environment</a></div></div><p>Add alias <code>a</code> for <code>e</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.addAlias">Lean.addAlias</a> <span class="fn">env</span> <span class="fn">a</span> <span class="fn">e</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Environment.html#Lean.PersistentEnvExtension.addEntry">Lean.PersistentEnvExtension.addEntry</a> <a href=".././Lean/ResolveName.html#Lean.aliasExtension">Lean.aliasExtension</a> <span class="fn">env</span> <a href=".././Init/Prelude.html#Prod.mk">(</a><span class="fn">a</span><a href=".././Init/Prelude.html#Prod.mk">,</a> <span class="fn">e</span><a href=".././Init/Prelude.html#Prod.mk">)</a></span></li></ul></details><details id="instances-for-list-Lean.addAlias" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.getAliasState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L75-L76">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.getAliasState"><span class="name">Lean</span>.<span class="name">getAliasState</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/ResolveName.html#Lean.AliasState">AliasState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.getAliasState">Lean.getAliasState</a> <span class="fn">env</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.aliasExtension">Lean.aliasExtension</a>.<a href=".././Lean/EnvExtension.html#Lean.SimplePersistentEnvExtension.getState">getState</a></span> <span class="fn">env</span></span></li></ul></details><details id="instances-for-list-Lean.getAliasState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.getAliases"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L78-L89">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.getAliases"><span class="name">Lean</span>.<span class="name">getAliases</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">skipProtected</span> : <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Retrieve aliases for <code>a</code>. If <code>skipProtected</code> is <code>true</code>, then the resulting list only includes
declarations that are not marked as <code>protected</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.getAliases" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.getRevAliases"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L92-L93">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.getRevAliases"><span class="name">Lean</span>.<span class="name">getRevAliases</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.getRevAliases" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Global-name-resolution">Global name resolution <a class="hover-link" href="#Global-name-resolution">#</a></h1></div><div class="decl" id="Lean.ResolveName.resolveGlobalName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L159-L189">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveGlobalName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ns</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">openDecls</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Lean/Data/OpenDecl.html#Lean.OpenDecl">OpenDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> (<a href=".././Init/Prelude.html#Lean.Name">Name</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>)</span></div></div><p>Primitive global name resolution procedure. It does not trigger actions associated with reserved names.
Recall that Lean has reserved names. For example, a definition <code>foo</code> has a reserved name <code>foo.def</code> for theorem
containing stating that <code>foo</code> is equal to its definition. The action associated with <code>foo.def</code>
automatically proves the theorem. At the macro level, the name is resolved, but the action is not
executed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">Lean.ResolveName.resolveGlobalName</a> <span class="fn">env</span> <span class="fn">ns</span> <span class="fn">openDecls</span> <span class="fn">id</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName.loop">Lean.ResolveName.resolveGlobalName.loop</a> <span class="fn">env</span> <span class="fn">ns</span> <span class="fn">openDecls</span> <span class="fn">(<a href=".././Init/Prelude.html#Lean.extractMacroScopes">Lean.extractMacroScopes</a> <span class="fn">id</span>)</span>
    <span class="fn"><span class="fn">(<a href=".././Init/Prelude.html#Lean.extractMacroScopes">Lean.extractMacroScopes</a> <span class="fn">id</span>)</span>.<a href=".././Init/Prelude.html#Lean.MacroScopesView.name">name</a></span> <a href=".././Init/Prelude.html#List.nil">[</a><a href=".././Init/Prelude.html#List.nil">]</a></span></li></ul></details><details id="instances-for-list-Lean.ResolveName.resolveGlobalName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ResolveName.resolveGlobalName.loop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L169-L188">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName.loop"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveGlobalName</span>.<span class="name">loop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ns</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">openDecls</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Lean/Data/OpenDecl.html#Lean.OpenDecl">OpenDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">extractionResult</span> : <a href=".././Init/Prelude.html#Lean.MacroScopesView">MacroScopesView</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">projs</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> (<a href=".././Init/Prelude.html#Lean.Name">Name</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName.loop">Lean.ResolveName.resolveGlobalName.loop</a> <span class="fn">env</span> <span class="fn">ns</span> <span class="fn">openDecls</span> <span class="fn">extractionResult</span> <span class="fn">id</span> <span class="fn">projs</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#List.nil">[</a><a href=".././Init/Prelude.html#List.nil">]</a></li></ul></details><details id="instances-for-list-Lean.ResolveName.resolveGlobalName.loop" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Namespace-resolution">Namespace resolution <a class="hover-link" href="#Namespace-resolution">#</a></h1></div><div class="decl" id="Lean.ResolveName.resolveNamespaceUsingScope?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L193-L203">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingScope?"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespaceUsingScope?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">ns</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingScope?">Lean.ResolveName.resolveNamespaceUsingScope?</a> <span class="fn">env</span> <span class="fn">n</span> <span class="fn">(<span class="fn"><span class="fn">p</span>.<a href=".././Init/Prelude.html#Lean.Name.str">str</a></span> <span class="fn">str</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">env</span>.<a href=".././Lean/Namespace.html#Lean.Environment.isNamespace">isNamespace</a></span> (<span class="fn"><span class="fn"><span class="fn">p</span>.<a href=".././Init/Prelude.html#Lean.Name.str">str</a></span> <span class="fn">str</span></span> <a href=".././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">n</span>)</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> (<span class="fn"><span class="fn"><span class="fn">p</span>.<a href=".././Init/Prelude.html#Lean.Name.str">str</a></span> <span class="fn">str</span></span> <a href=".././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">n</span>)</span>
  <a href=".././Init/Prelude.html#ite">else</a> <span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingScope?">Lean.ResolveName.resolveNamespaceUsingScope?</a> <span class="fn">env</span> <span class="fn">n</span> <span class="fn">p</span></span></li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingScope?">Lean.ResolveName.resolveNamespaceUsingScope?</a> <span class="fn">env</span> <span class="fn">n</span> <span class="fn">ns</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.ResolveName&quot;</span> <span class="fn">&quot;Lean.ResolveName.resolveNamespaceUsingScope?&quot;</span> <span class="fn">203</span> <span class="fn">9</span>
    <span class="fn">&quot;unreachable code has been reached&quot;</span></span></li></ul></details><details id="instances-for-list-Lean.ResolveName.resolveNamespaceUsingScope?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ResolveName.resolveNamespaceUsingOpenDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L205-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingOpenDecls"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespaceUsingOpenDecls</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Lean/Data/OpenDecl.html#Lean.OpenDecl">OpenDecl</a></span> → <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingOpenDecls">Lean.ResolveName.resolveNamespaceUsingOpenDecls</a> <span class="fn">env</span> <span class="fn">n</span> <a href=".././Init/Prelude.html#List.nil">[</a><a href=".././Init/Prelude.html#List.nil">]</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#List.nil">[</a><a href=".././Init/Prelude.html#List.nil">]</a></li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingOpenDecls">Lean.ResolveName.resolveNamespaceUsingOpenDecls</a> <span class="fn">env</span> <span class="fn">n</span> (<span class="fn">head</span> <a href=".././Init/Prelude.html#List.cons">::</a> <span class="fn">ds</span>)</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespaceUsingOpenDecls">Lean.ResolveName.resolveNamespaceUsingOpenDecls</a> <span class="fn">env</span> <span class="fn">n</span> <span class="fn">ds</span></span></li></ul></details><details id="instances-for-list-Lean.ResolveName.resolveNamespaceUsingOpenDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ResolveName.resolveNamespace"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L214-L228">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespace"><span class="name">Lean</span>.<span class="name">ResolveName</span>.<span class="name">resolveNamespace</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href=".././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ns</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">openDecls</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Lean/Data/OpenDecl.html#Lean.OpenDecl">OpenDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Given a name <code><a href=".././Init/Prelude.html#id">id</a></code> try to find namespaces it may refer to. The resolution procedure works as follows</p><p>1- If <code><a href=".././Init/Prelude.html#id">id</a></code> is in the scope of <code>namespace</code> commands the namespace <code>s_1. ... . s_n</code>,
then we include <code>s_1 . ... . s_i ++ n</code> in the result if it is the name of an existing namespace.
We search &quot;backwards&quot;, and include at most one of the in the list of resulting namespaces.</p><p>2- If <code><a href=".././Init/Prelude.html#id">id</a></code> is the exact name of an existing namespace, then include <code><a href=".././Init/Prelude.html#id">id</a></code></p><p>3- Finally, for each command <code>open N</code>, include in the result <code>N ++ n</code> if it is the name of an existing namespace.
We only consider simple <code>open</code> commands.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.ResolveName.resolveNamespace" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MonadResolveName"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L232-L234">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.MonadResolveName"><span class="name">Lean</span>.<span class="name">MonadResolveName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.MonadResolveName.mk"><li id="Lean.MonadResolveName.getCurrNamespace" class="structure_field"><div class="structure_field_info">getCurrNamespace : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></li><li id="Lean.MonadResolveName.getOpenDecls" class="structure_field"><div class="structure_field_info">getOpenDecls : <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Lean/Data/OpenDecl.html#Lean.OpenDecl">OpenDecl</a>)</span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.MonadResolveName" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.instMonadResolveNameOfMonadLift"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L238-L240">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.instMonadResolveNameOfMonadLift"><span class="name">Lean</span>.<span class="name">instMonadResolveNameOfMonadLift</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m </span><span class="fn">n</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#MonadLift">MonadLift</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.instMonadResolveNameOfMonadLift">Lean.instMonadResolveNameOfMonadLift</a> <span class="fn">m</span> <span class="fn">n</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Lean/ResolveName.html#Lean.MonadResolveName.mk">{</a> <span class="fn">getCurrNamespace</span> := <span class="fn"><a href=".././Init/Prelude.html#liftM">liftM</a> <a href=".././Lean/ResolveName.html#Lean.MonadResolveName.getCurrNamespace">Lean.getCurrNamespace</a></span>, <span class="fn">getOpenDecls</span> := <span class="fn"><a href=".././Init/Prelude.html#liftM">liftM</a> <a href=".././Lean/ResolveName.html#Lean.MonadResolveName.getOpenDecls">Lean.getOpenDecls</a></span> <a href=".././Lean/ResolveName.html#Lean.MonadResolveName.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.resolveGlobalName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L242-L266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveGlobalName"><span class="name">Lean</span>.<span class="name">resolveGlobalName</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> (<a href=".././Init/Prelude.html#Lean.Name">Name</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>))</span></span></div></div><p>Given a name <code>n</code>, return a list of possible interpretations.
Each interpretation is a pair <code>(declName, fieldList)</code>, where <code>declName</code>
is the name of a declaration in the current environment, and <code>fieldList</code> are
(potential) field names.
The pair is needed because in Lean <code>.</code> may be part of a qualified name or
a field (aka dot-notation).
As an example, consider the following definitions</p><pre><code>def Boo.x   := 1
def Foo.x   := 2
def Foo.x.y := 3
</code></pre><p>After <code>open Foo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x</code>     =&gt; <code>[(Foo.x, [])]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x.y</code>   =&gt; <code>[(Foo.x.y, [])]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x.z.w</code> =&gt; <code>[(Foo.x, [z, w])]</code></li>
</ul><p>After <code>open Foo open Boo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x</code>     =&gt; <code>[(Foo.x, []), (Boo.x, [])]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x.y</code>   =&gt; <code>[(Foo.x.y, [])]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveGlobalName">resolveGlobalName</a> x.z.w</code> =&gt; <code>[(Foo.x, [z, w]), (Boo.x, [z, w])]</code></li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveGlobalName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveNamespaceCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L268-L276">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveNamespaceCore"><span class="name">Lean</span>.<span class="name">resolveNamespaceCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">allowEmpty</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><p>Given a namespace name, return a list of possible interpretations.
Names extracted from syntax should be passed to <code><a href=".././Lean/ResolveName.html#Lean.ResolveName.resolveNamespace">resolveNamespace</a></code> instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveNamespaceCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveNamespace"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L278-L288">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveNamespace"><span class="name">Lean</span>.<span class="name">resolveNamespace</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Meta.html#Lean.Syntax.Ident">Ident</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></span></div></div><p>Given a namespace identifier, return a list of possible interpretations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveNamespace">Lean.resolveNamespace</a> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/Exception.html#Lean.throwErrorAt">Lean.throwErrorAt</a> <span class="fn"><span class="fn">x✝</span>.<a href=".././Init/Prelude.html#Lean.TSyntax.raw">raw</a></span> <span class="fn">((<a href=".././Lean/Message.html#Lean.MessageData.ofFormat">Lean.MessageData.ofFormat</a> <a href=".././Init/Prelude.html#Function.comp">∘</a> <a href=".././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a>) <span class="fn">(<a href=".././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;expected identifier&quot;</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.resolveNamespace" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveUniqueNamespace"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L290-L294">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveUniqueNamespace"><span class="name">Lean</span>.<span class="name">resolveUniqueNamespace</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Meta.html#Lean.Syntax.Ident">Ident</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Given a namespace identifier, return the unique interpretation or else fail.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveUniqueNamespace" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.filterFieldList"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L296-L300">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.filterFieldList"><span class="name">Lean</span>.<span class="name">filterFieldList</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> (<a href=".././Init/Prelude.html#Lean.Name">Name</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><p>Helper function for <code>resolveGlobalConstCore</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.filterFieldList" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ensureNoOverload"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L310-L314">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ensureNoOverload"><span class="name">Lean</span>.<span class="name">ensureNoOverload</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Helper function for <code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverloadCore">resolveGlobalConstNoOverloadCore</a></code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ensureNoOverload">Lean.ensureNoOverload</a> <span class="fn">n</span> <a href=".././Init/Prelude.html#List.cons">[</a><span class="fn">ns</span><a href=".././Init/Prelude.html#List.cons">]</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">ns</span></span></li></ul></details><details id="instances-for-list-Lean.ensureNoOverload" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveGlobalConstNoOverloadCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L316-L318">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverloadCore"><span class="name">Lean</span>.<span class="name">resolveGlobalConstNoOverloadCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>For identifiers taken from syntax, use <code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a></code> instead, which respects preresolved names.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverloadCore">Lean.resolveGlobalConstNoOverloadCore</a> <span class="fn">n</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href=".././Lean/ResolveName.html#_private.Lean.ResolveName.0.Lean.resolveGlobalConstCore">Lean.resolveGlobalConstCore✝</a> <span class="fn">n</span></span>
  <span class="fn"><a href=".././Lean/ResolveName.html#Lean.ensureNoOverload">Lean.ensureNoOverload</a> <span class="fn">n</span> <span class="fn">__do_lift</span></span></span></li></ul></details><details id="instances-for-list-Lean.resolveGlobalConstNoOverloadCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.preprocessSyntaxAndResolve"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L320-L330">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.preprocessSyntaxAndResolve"><span class="name">Lean</span>.<span class="name">preprocessSyntaxAndResolve</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.preprocessSyntaxAndResolve">Lean.preprocessSyntaxAndResolve</a> <span class="fn">stx</span> <span class="fn">k</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/Exception.html#Lean.throwErrorAt">Lean.throwErrorAt</a> <span class="fn">stx</span> <span class="fn">((<a href=".././Lean/Message.html#Lean.MessageData.ofFormat">Lean.MessageData.ofFormat</a> <a href=".././Init/Prelude.html#Function.comp">∘</a> <a href=".././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a>) <span class="fn">(<a href=".././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">&quot;expected identifier&quot;</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.preprocessSyntaxAndResolve" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveGlobalConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L332-L358">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveGlobalConst"><span class="name">Lean</span>.<span class="name">resolveGlobalConst</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><p>Interprets the syntax <code>n</code> as an identifier for a global constant, and returns a list of resolved
constant names that it could be referring to based on the currently open namespaces.
This should be used instead of <code>resolveGlobalConstCore</code> for identifiers taken from syntax
because <code>Syntax</code> objects may have names that have already been resolved.</p><p>Consider using <code>realizeGlobalConst</code> if you need to handle reserved names, and
<code>realizeGlobalConstWithInfo</code> if you want the syntax to show the resulting name's info on hover.</p><h2 class="markdown-heading" id="Example">Example: <a class="hover-link" href="#Example">#</a></h2><pre><code>def Boo.x   := 1
def Foo.x   := 2
def Foo.x.y := 3
</code></pre><p>After <code>open Foo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x</code>     =&gt; <code>[Foo.x]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x.y</code>   =&gt; <code>[Foo.x.y]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x.z.w</code> =&gt; error: unknown constant</li>
</ul><p>After <code>open Foo open Boo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x</code>     =&gt; <code>[Foo.x, Boo.x]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x.y</code>   =&gt; <code>[Foo.x.y]</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a> x.z.w</code> =&gt; error: unknown constant</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">Lean.resolveGlobalConst</a> <span class="fn">stx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/ResolveName.html#Lean.preprocessSyntaxAndResolve">Lean.preprocessSyntaxAndResolve</a> <span class="fn">stx</span> <a href=".././Lean/ResolveName.html#_private.Lean.ResolveName.0.Lean.resolveGlobalConstCore">Lean.resolveGlobalConstCore✝</a></span></li></ul></details><details id="instances-for-list-Lean.resolveGlobalConst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ensureNonAmbiguous"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L360-L369">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.ensureNonAmbiguous"><span class="name">Lean</span>.<span class="name">ensureNonAmbiguous</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Given a list of names produced by <code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a></code>, throws an error if the list does not contain
exactly one element.
Recall that <code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">resolveGlobalConst</a></code> does not return empty lists.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ensureNonAmbiguous">Lean.ensureNonAmbiguous</a> <span class="fn">id</span> <a href=".././Init/Prelude.html#List.nil">[</a><a href=".././Init/Prelude.html#List.nil">]</a></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.ResolveName&quot;</span> <span class="fn">&quot;Lean.ensureNonAmbiguous&quot;</span> <span class="fn">367</span> <span class="fn">11</span> <span class="fn">&quot;unreachable code has been reached&quot;</span></span></li><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.ensureNonAmbiguous">Lean.ensureNonAmbiguous</a> <span class="fn">id</span> <a href=".././Init/Prelude.html#List.cons">[</a><span class="fn">c</span><a href=".././Init/Prelude.html#List.cons">]</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">c</span></span></li></ul></details><details id="instances-for-list-Lean.ensureNonAmbiguous" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveGlobalConstNoOverload"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L371-L395">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload"><span class="name">Lean</span>.<span class="name">resolveGlobalConstNoOverload</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Interprets the syntax <code>n</code> as an identifier for a global constant, and return a resolved
constant name. If there are multiple possible interpretations it will throw.</p><p>Consider using <code>realizeGlobalConstNoOverload</code> if you need to handle reserved names, and
<code>realizeGlobalConstNoOverloadWithInfo</code> if you
want the syntax to show the resulting name's info on hover.</p><h2 class="markdown-heading" id="Example">Example: <a class="hover-link" href="#Example">#</a></h2><pre><code>def Boo.x   := 1
def Foo.x   := 2
def Foo.x.y := 3
</code></pre><p>After <code>open Foo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x</code>     =&gt; <code>Foo.x</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x.y</code>   =&gt; <code>Foo.x.y</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x.z.w</code> =&gt; error: unknown constant</li>
</ul><p>After <code>open Foo open Boo</code>, we have</p><ul>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x</code>     =&gt; error: ambiguous identifier</li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x.y</code>   =&gt; <code>Foo.x.y</code></li>
<li><code><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">resolveGlobalConstNoOverload</a> x.z.w</code> =&gt; error: unknown constant</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConstNoOverload">Lean.resolveGlobalConstNoOverload</a> <span class="fn">id</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveGlobalConst">Lean.resolveGlobalConst</a> <span class="fn">id</span></span>
  <span class="fn"><a href=".././Lean/ResolveName.html#Lean.ensureNonAmbiguous">Lean.ensureNonAmbiguous</a> <span class="fn">id</span> <span class="fn">__do_lift</span></span></span></li></ul></details><details id="instances-for-list-Lean.resolveGlobalConstNoOverload" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveLocalName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L397-L560">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveLocalName"><span class="name">Lean</span>.<span class="name">resolveLocalName</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> (<a href=".././Lean/Expr.html#Lean.Expr">Expr</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>))</span></span></div></div><p>Resolves the name <code>n</code> in the local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveLocalName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveLocalName.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L482-L487">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveLocalName.go"><span class="name">Lean</span>.<span class="name">resolveLocalName</span>.<span class="name">go</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">localDecl</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">givenNameView</span> : <a href=".././Init/Prelude.html#Lean.MacroScopesView">MacroScopesView</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fullDeclName </span><span class="fn">ns</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveLocalName.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.resolveLocalName.loop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L533-L559">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.resolveLocalName.loop"><span class="name">Lean</span>.<span class="name">resolveLocalName</span>.<span class="name">loop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">view</span> : <a href=".././Init/Prelude.html#Lean.MacroScopesView">MacroScopesView</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">findLocalDecl?</span> : <span class="fn"><a href=".././Init/Prelude.html#Lean.MacroScopesView">MacroScopesView</a> → <span class="fn"><a href=".././Init/Prelude.html#Bool">Bool</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">projs</span> : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">globalDeclFound</span> : <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> (<a href=".././Lean/Expr.html#Lean.Expr">Expr</a> <a href=".././Init/Prelude.html#Prod">×</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#String">String</a></span>))</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.resolveLocalName.loop" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unresolveNameGlobal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L562-L605">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.unresolveNameGlobal"><span class="name">Lean</span>.<span class="name">unresolveNameGlobal</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n₀</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fullNames </span><span class="fn">allowHorizAliases</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">filter</span> : <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></span> := <span class="fn">fun (<span class="fn">x</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Finds a name that unambiguously resolves to the given name <code>n₀</code>.
Considers suffixes of <code>n₀</code> and suffixes of aliases of <code>n₀</code> when &quot;unresolving&quot;.
Aliases are considered first.</p><p>When <code>fullNames</code> is true, returns either <code>n₀</code> or <code>_root_.n₀</code>.</p><p>When <code>allowHorizAliases</code> is false, then &quot;horizontal aliases&quot; (ones that are not put into a parent namespace) are filtered out.
The assumption is that non-horizontal aliases are &quot;API exports&quot; (i.e., intentional exports that should be considered to be the new canonical name).
&quot;Non-API exports&quot; arise from (1) using <code>export</code> to add names to a namespace for dot notation or (2) projects that want names to be conveniently and permanently accessible in their own namespaces.</p><p><code>filter</code> specifies a predicate that the unresolved name must additionally satisfy.</p><p>This function is meant to be used for pretty printing.
If <code>n₀</code> is an accessible name, then the result will be an accessible name.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.unresolveNameGlobal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unresolveNameGlobal.unresolveNameCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L595-L605">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.unresolveNameGlobal.unresolveNameCore"><span class="name">Lean</span>.<span class="name">unresolveNameGlobal</span>.<span class="name">unresolveNameCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n₀</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">filter</span> : <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></span> := <span class="fn">fun (<span class="fn">x</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.unresolveNameGlobal.unresolveNameCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unresolveNameGlobalAvoidingLocals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/ResolveName.lean#L607-L610">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/ResolveName.html#Lean.unresolveNameGlobalAvoidingLocals"><span class="name">Lean</span>.<span class="name">unresolveNameGlobalAvoidingLocals</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/ResolveName.html#Lean.MonadResolveName">MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n₀</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fullNames</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Like <code><a href=".././Lean/ResolveName.html#Lean.unresolveNameGlobal">Lean.unresolveNameGlobal</a></code>, but also ensures that the unresolved name does not conflict
with the names of any local declarations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/ResolveName.html#Lean.unresolveNameGlobalAvoidingLocals">Lean.unresolveNameGlobalAvoidingLocals</a> <span class="fn">n₀</span> <span class="fn">fullNames</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/ResolveName.html#Lean.unresolveNameGlobal">Lean.unresolveNameGlobal</a> <span class="fn">n₀</span> <span class="fn">fullNames</span> <a href=".././Init/Prelude.html#Bool.false">false</a> <span class="fn">fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Lean.Name">Lean.Name</a>) =&gt; <a href=".././Init/Data/Option/Basic.html#Option.isNone">Option.isNone</a> <a href=".././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><a href=".././Lean/ResolveName.html#Lean.resolveLocalName">Lean.resolveLocalName</a> <span class="fn">n</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.unresolveNameGlobalAvoidingLocals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src=".././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>