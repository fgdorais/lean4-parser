<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Meta.Basic</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Meta.Basic";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Basic</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Lean/Class.html">Lean.Class</a></li><li><a href="../.././Lean/Environment.html">Lean.Environment</a></li><li><a href="../.././Lean/ReducibilityAttrs.html">Lean.ReducibilityAttrs</a></li><li><a href="../.././Lean/Compiler/InlineAttrs.html">Lean.Compiler.InlineAttrs</a></li><li><a href="../.././Lean/Data/LOption.html">Lean.Data.LOption</a></li><li><a href="../.././Lean/Meta/TransparencyMode.html">Lean.Meta.TransparencyMode</a></li><li><a href="../.././Lean/Util/MonadBacktrack.html">Lean.Util.MonadBacktrack</a></li><li><a href="../.././Lean/Util/ReplaceExpr.html">Lean.Util.ReplaceExpr</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Meta.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqStuckExceptionId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqStuckExceptionId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.TransparencyMode.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">TransparencyMode</span>.<span class="name">toUInt64</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.EtaStructMode.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">EtaStructMode</span>.<span class="name">toUInt64</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ProjReductionKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instDecidableEqProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instDecidableEqProjReductionKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedProjReductionKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instReprProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instReprProjReductionKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ProjReductionKind.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ProjReductionKind</span>.<span class="name">toUInt64</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Config"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Config</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedConfig</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instReprConfig_2"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instReprConfig_2</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ConfigWithKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedConfigWithKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Config.toConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Config</span>.<span class="name">toConfigWithKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedParamInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isImplicit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isInstImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isInstImplicit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isStrictImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isStrictImplicit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isExplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isExplicit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.FunInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">FunInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.InfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">InfoCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedInfoCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqInfoCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instHashableInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableInfoCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SynthInstanceCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instHashableSynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableSynthInstanceCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqSynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqSynthInstanceCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.AbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">AbstractMVarsResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedAbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedAbstractMVarsResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqAbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqAbstractMVarsResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SynthInstanceCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SynthInstanceCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ExprConfigCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedExprConfigCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqExprConfigCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instHashableExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableExprConfigCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.InferTypeCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">InferTypeCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.FunInfoCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">FunInfoCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.WhnfCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">WhnfCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.DefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedDefEqCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqDefEqCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instHashableDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableDefEqCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.DefEqCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Cache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Cache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.DefEqContext"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.PostponedEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">PostponedEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedPostponedEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedPostponedEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Diagnostics"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Diagnostics</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedDiagnostics"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedDiagnostics</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.State"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">State</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SavedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SavedState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instNonemptySavedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instNonemptySavedState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.maxSynthPendingDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">maxSynthPendingDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Context"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Context</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadLCtxMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadLCtxMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadMCtxMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadMCtxMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadEnvMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadEnvMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instAddMessageContextMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instAddMessageContextMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.saveState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">saveState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SavedState.restore"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SavedState</span>.<span class="name">restore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withRestoreOrSaveFull"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withRestoreOrSaveFull</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadBacktrackSavedStateMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadBacktrackSavedStateMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.run"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">run</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.run'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">run'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.toIO"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">toIO</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.throwIsDefEqStuck"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">throwIsDefEqStuck</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.liftMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">liftMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.map1MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map1MetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.map2MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map2MetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.map3MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map3MetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resetCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyInferTypeCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyInferTypeCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyDefEqTransientCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDefEqTransientCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyDefEqPermCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDefEqPermCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkExprConfigCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkDefEqCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkInfoCacheKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resetDefEqPermCaches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetDefEqPermCaches</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resetSynthInstanceCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetSynthInstanceCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyDiag"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDiag</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.recordUnfold"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordUnfold</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.recordDefEqHeuristic"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordDefEqHeuristic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.recordInstance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordInstance</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.recordSynthPendingFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordSynthPendingFailure</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getLocalInstances</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getConfig</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getConfigWithKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resetZetaDeltaFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetZetaDeltaFVarIds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getZetaDeltaFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getZetaDeltaFVarIds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">setPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.useEtaStruct"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">useEtaStruct</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnf"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnf</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.inferType"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">inferType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEqAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isLevelDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isLevelDefEqAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.synthPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">synthPending</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfForall"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfForall</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withIncRecDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withIncRecDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVarAt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVarAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshTypeMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshTypeMVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVarWithId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVarWithId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVarsFor"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVarsFor</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkConstWithFreshMVarLevels"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkConstWithFreshMVarLevels</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getTransparency</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.shouldReduceAll"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">shouldReduceAll</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.shouldReduceReducibleOnly"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">shouldReduceReducibleOnly</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.findDecl?"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">findDecl?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.getDecl"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">getDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.getKind"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">getKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isSyntheticMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isSyntheticMVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setKind"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setType"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.isReadOnly"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">isReadOnly</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.isReadOnlyOrSyntheticOpaque"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">isReadOnlyOrSyntheticOpaque</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LMVarId.getLevel"><span class="name">Lean</span>.<span class="name">LMVarId</span>.<span class="name">getLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LMVarId.isReadOnly"><span class="name">Lean</span>.<span class="name">LMVarId</span>.<span class="name">isReadOnly</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setUserName"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.throwUnknown"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">throwUnknown</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.findDecl?"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">findDecl?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getDecl"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getType"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getBinderInfo"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getBinderInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getValue?"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getValue?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getUserName"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.isLetVar"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">isLetVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getFVarLocalDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getFVarLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.hasForwardDeps"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">hasForwardDeps</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLocalDeclFromUserName"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getLocalDeclFromUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getFVarFromUserName"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getFVarFromUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.liftMkBindingM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">liftMkBindingM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Expr.abstractRangeM"><span class="name">Lean</span>.<span class="name">Expr</span>.<span class="name">abstractRangeM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Expr.abstractM"><span class="name">Lean</span>.<span class="name">Expr</span>.<span class="name">abstractM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.collectForwardDeps"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">collectForwardDeps</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkForallFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkForallFVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLambdaFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLambdaFVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLetFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLetFVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFunUnit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFunUnit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.elimMVarDeps"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">elimMVarDeps</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withConfig</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withConfigWithKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withCanUnfoldPred"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withCanUnfoldPred</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withIncSynthPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withIncSynthPending</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withInTypeClassResolution"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withInTypeClassResolution</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withFreshCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withFreshCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withTrackingZetaDelta"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTrackingZetaDelta</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withZetaDeltaSet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withZetaDeltaSet</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withTrackingZetaDeltaSet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTrackingZetaDeltaSet</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withoutProofIrrelevance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withoutProofIrrelevance</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTransparency</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withDefault"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withDefault</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withReducible"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReducible</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withReducibleAndInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReducibleAndInstances</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withAtLeastTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAtLeastTransparency</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withAssignableSyntheticOpaque"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAssignableSyntheticOpaque</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.savingCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">savingCache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getTheoremInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getTheoremInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewLocalInstance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewLocalInstance</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isClass?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isClass?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewLocalInstances</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapForallTelescope'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapForallTelescope'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapForallTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapForallTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallTelescopeReducing"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallTelescopeReducing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallBoundedTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaLetTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaLetTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaBoundedTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getParamNames"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getParamNames</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaTelescopeReducing"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaTelescopeReducing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaBoundedTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaMetaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaMetaTelescope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaMetaTelescope.process"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaMetaTelescope</span>.<span class="name">process</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclD</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclNoLocalInstanceUpdate"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclNoLocalInstanceUpdate</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecls"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecls.loop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecls</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclsD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclsD</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclsDND"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclsDND</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withAuxDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAuxDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewBinderInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewBinderInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withInstImplicitAsImplict"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withInstImplicitAsImplict</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLetDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLetDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalInstancesImp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalInstancesImp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalInstances</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withExistingLocalDecls"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withExistingLocalDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withReplaceFVarId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReplaceFVarId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewMCtxDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewMCtxDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLCtx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLCtx'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLCtx'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withErasedFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withErasedFVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.withContext"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">withContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withMCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withMCtx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withoutModifyingMCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withoutModifyingMCtx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.approxDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">approxDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.fullApproxDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">fullApproxDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.normalizeLevel"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">normalizeLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfR"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfR</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfD</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfI"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfI</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfAtMostI"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfAtMostI</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setInlineAttribute"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">setInlineAttribute</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateForall"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateForall</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateLambda"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateLambda</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ExprParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ExprParamInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedExprParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedExprParamInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateForallWithParamInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateForallWithParamInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateLambdaWithParamInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateLambdaWithParamInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ppExprWithInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ppExprWithInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ppExpr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ppExpr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.orElse"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">orElse</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instOrElseMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instOrElseMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instAlternativeMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instAlternativeMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.orelseMergeErrors"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">orelseMergeErrors</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapErrorImp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapErrorImp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapError"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapError</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.sortFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">sortFVarIds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isInductivePredicate?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isInductivePredicate?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isInductivePredicate"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isInductivePredicate</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isListLevelDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isListLevelDefEqAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getNumPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getNumPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getResetPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getResetPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLevelStuckErrorMessage"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLevelStuckErrorMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLevelErrorMessage"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLevelErrorMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.processPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">processPostponed</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.processPostponed.loop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">processPostponed</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.checkpointDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">checkpointDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isLevelDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isLevelDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEqGuarded"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEqGuarded</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqGuarded"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqGuarded</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqNoConstantApprox"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqNoConstantApprox</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.checkedAssign"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">checkedAssign</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.etaExpand"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">etaExpand</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateMVarsIfMVarApp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateMVarsIfMVarApp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instTypeNameRealizeConstantResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instTypeNameRealizeConstantResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.realizeConst"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">realizeConst</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.realizeConst.realizeAndReport"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">realizeConst</span>.<span class="name">realizeAndReport</span></a></div></nav><main>
<div class="mod_doc"><p>This module provides four (mutually dependent) goodies that are needed for building the elaborator and tactic frameworks.
1- Weak head normal form computation with support for metavariables and transparency modes.
2- Definitionally equality checking with support for metavariables (aka unification modulo definitional equality).
3- Type inference.
4- Type class resolution.</p><p>They are packed into the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.</p></div><div class="decl" id="Lean.Meta.isDefEqStuckExceptionId"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L28-L28">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqStuckExceptionId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqStuckExceptionId</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/InternalExceptionId.html#Lean.InternalExceptionId">InternalExceptionId</a></div></div></div></div><div class="decl" id="Lean.Meta.TransparencyMode.toUInt64"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L30-L34">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.TransparencyMode.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">TransparencyMode</span>.<span class="name">toUInt64</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode">TransparencyMode</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.all">Lean.Meta.TransparencyMode.all</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.TransparencyMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.TransparencyMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></li><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.TransparencyMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">2</span></li><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.instances">Lean.Meta.TransparencyMode.instances</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.TransparencyMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">3</span></li></ul></details><details id="instances-for-list-Lean.Meta.TransparencyMode.toUInt64" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.EtaStructMode.toUInt64"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L36-L39">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.EtaStructMode.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">EtaStructMode</span>.<span class="name">toUInt64</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.EtaStructMode">EtaStructMode</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.EtaStructMode.all">Lean.Meta.EtaStructMode.all</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.EtaStructMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.EtaStructMode.notClasses">Lean.Meta.EtaStructMode.notClasses</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.EtaStructMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></li><li class="equation"><span class="fn"><a href="../.././Init/MetaTypes.html#Lean.Meta.EtaStructMode.none">Lean.Meta.EtaStructMode.none</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.EtaStructMode.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">2</span></li></ul></details><details id="instances-for-list-Lean.Meta.EtaStructMode.toUInt64" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ProjReductionKind"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L41-L67">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ProjReductionKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Configuration for projection reduction. See <code>whnfCore</code>.</p><ul class="constructors"><li class="constructor" id="Lean.Meta.ProjReductionKind.no">no : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a><div class="inductive_ctor_doc"><p>Projections <code>s.i</code> are not reduced at <code>whnfCore</code>.</p></div></li><li class="constructor" id="Lean.Meta.ProjReductionKind.yes">yes : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a><div class="inductive_ctor_doc"><p>Projections <code>s.i</code> are reduced at <code>whnfCore</code>, and <code>whnfCore</code> is used at <code>s</code> during the process.
Recall that <code>whnfCore</code> does not perform <code>delta</code> reduction (i.e., it will not unfold constant declarations).</p></div></li><li class="constructor" id="Lean.Meta.ProjReductionKind.yesWithDelta">yesWithDelta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a><div class="inductive_ctor_doc"><p>Projections <code>s.i</code> are reduced at <code>whnfCore</code>, and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> is used at <code>s</code> during the process.
Recall that <code>whnfCore</code> does not perform <code>delta</code> reduction (i.e., it will not unfold constant declarations), but <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> does.</p></div></li><li class="constructor" id="Lean.Meta.ProjReductionKind.yesWithDeltaI">yesWithDeltaI : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a><div class="inductive_ctor_doc"><p>Projections <code>s.i</code> are reduced at <code>whnfCore</code>, and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfAtMostI">whnfAtMostI</a></code> is used at <code>s</code> during the process.
Recall that <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfAtMostI">whnfAtMostI</a></code> is like <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> but uses transparency at most <code>instances</code>.
This option is stronger than <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.yes">yes</a></code>, but weaker than <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.yesWithDelta">yesWithDelta</a></code>.
We use this option to ensure we reduce projections to prevent expensive defeq checks when unifying TC operations.
When unifying e.g. <code>(@Field.toNeg α inst1).1 =?= (@Field.toNeg α inst2).1</code>,
we only want to unify negation (and not all other field operations as well).
Unifying the field instances slowed down unification: <a href="https://github.com/leanprover/lean4/issues/1986">https://github.com/leanprover/lean4/issues/1986</a></p></div></li></ul><details id="instances-for-list-Lean.Meta.ProjReductionKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instDecidableEqProjReductionKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L67-L67">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instDecidableEqProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instDecidableEqProjReductionKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instDecidableEqProjReductionKind">Lean.Meta.instDecidableEqProjReductionKind</a> <span class="fn">x✝</span> <span class="fn">y✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">if h : <span class="fn"><span class="fn">x✝</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toCtorIdx">toCtorIdx</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y✝</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toCtorIdx">toCtorIdx</a></span> then <span class="fn"><a href="../.././Init/Prelude.html#Decidable.isTrue">isTrue</a> <span class="fn">⋯</span></span> else <span class="fn"><a href="../.././Init/Prelude.html#Decidable.isFalse">isFalse</a> <span class="fn">⋯</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedProjReductionKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L67-L67">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedProjReductionKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedProjReductionKind">Lean.Meta.instInhabitedProjReductionKind</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.no">Lean.Meta.ProjReductionKind.no</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instReprProjReductionKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L67-L67">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instReprProjReductionKind"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instReprProjReductionKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instReprProjReductionKind">Lean.Meta.instReprProjReductionKind</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.reprProjReductionKind._@.Lean.Meta.Basic._hyg.210">Lean.Meta.reprProjReductionKind✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.ProjReductionKind.toUInt64"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L69-L73">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toUInt64"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ProjReductionKind</span>.<span class="name">toUInt64</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.no">Lean.Meta.ProjReductionKind.no</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.yes">Lean.Meta.ProjReductionKind.yes</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.yesWithDelta">Lean.Meta.ProjReductionKind.yesWithDelta</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">2</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.yesWithDeltaI">Lean.Meta.ProjReductionKind.yesWithDeltaI</a>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind.toUInt64">toUInt64</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">3</span></li></ul></details><details id="instances-for-list-Lean.Meta.ProjReductionKind.toUInt64" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.Config"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L75-L183">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Config"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Config</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Configuration flags for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.
Many of them are used to control the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> function that checks whether two terms are definitionally equal or not.
Recall that when <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> is trying to check whether
<code>?m@C a₁ ... aₙ</code> and <code>t</code> are definitionally equal (<code>?m@C a₁ ... aₙ =?= t</code>), where
<code>?m@C</code> as a shorthand for <code>C |- ?m : t</code> where <code>t</code> is the type of <code>?m</code>.
We solve it using the assignment <code>?m := fun a₁ ... aₙ =&gt; t</code> if</p><ol>
<li><code>a₁ ... aₙ</code> are pairwise distinct free variables that are ​<em>not</em>​ let-variables.</li>
<li><code>a₁ ... aₙ</code> are not in <code>C</code></li>
<li><code>t</code> only contains free variables in <code>C</code> and/or <code>{a₁, ..., aₙ}</code></li>
<li>For every metavariable <code>?m'@C'</code> occurring in <code>t</code>, <code>C'</code> is a subprefix of <code>C</code></li>
<li><code>?m</code> does not occur in <code>t</code></li>
</ol><ul class="structure_fields" id="Lean.Meta.Config.mk"><li id="Lean.Meta.Config.foApprox" class="structure_field"><div class="structure_field_info">foApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.foApprox">foApprox</a></code> is set to true, and some <code>aᵢ</code> is not a free variable,
then we use first-order unification</p><pre><code>  ?m a_1 ... a_i a_{i+1} ... a_{i+k} =?= f b_1 ... b_k
</code></pre><p>reduces to</p><pre><code>  ?m a_1 ... a_i =?= f
  a_{i+1}        =?= b_1
  ...
  a_{i+k}        =?= b_k
</code></pre></div></li><li id="Lean.Meta.Config.ctxApprox" class="structure_field"><div class="structure_field_info">ctxApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.ctxApprox">ctxApprox</a></code> is set to true, we relax condition 4, by creating an
auxiliary metavariable <code>?n'</code> with a smaller context than <code>?m'</code>.</p></div></li><li id="Lean.Meta.Config.quasiPatternApprox" class="structure_field"><div class="structure_field_info">quasiPatternApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.quasiPatternApprox">quasiPatternApprox</a></code> is set to true, we ignore condition 2.</p></div></li><li id="Lean.Meta.Config.constApprox" class="structure_field"><div class="structure_field_info">constApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.constApprox">constApprox</a></code> is set to true,
we solve <code>?m t =?= c</code> using
<code>?m := fun _ =&gt; c</code>
when <code>?m t</code> is not a higher-order pattern and <code>c</code> is not an application as</p></div></li><li id="Lean.Meta.Config.isDefEqStuckEx" class="structure_field"><div class="structure_field_info">isDefEqStuckEx : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When the following flag is set,
<code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> throws the exception <code>Exception.isDefEqStuck</code>
whenever it encounters a constraint <code>?m ... =?= t</code> where
<code>?m</code> is read only.
This feature is useful for type class resolution where
we may want to notify the caller that the TC problem may be solvable
later after it assigns <code>?m</code>.</p></div></li><li id="Lean.Meta.Config.unificationHints" class="structure_field"><div class="structure_field_info">unificationHints : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Enable/disable the unification hints feature.</p></div></li><li id="Lean.Meta.Config.proofIrrelevance" class="structure_field"><div class="structure_field_info">proofIrrelevance : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Enables proof irrelevance at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code></p></div></li><li id="Lean.Meta.Config.assignSyntheticOpaque" class="structure_field"><div class="structure_field_info">assignSyntheticOpaque : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>By default synthetic opaque metavariables are not assigned by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>. Motivation: we want to make
sure typing constraints resolved during elaboration should not &quot;fill&quot; holes that are supposed to be filled using tactics.
However, this restriction is too restrictive for tactics such as <code>exact t</code>. When elaborating <code>t</code>, we dot not fill
named holes when solving typing constraints or TC resolution. But, we ignore the restriction when we try to unify
the type of <code>t</code> with the goal target type. We claim this is not a hack and is defensible behavior because
this last unification step is not really part of the term elaboration.</p></div></li><li id="Lean.Meta.Config.offsetCnstrs" class="structure_field"><div class="structure_field_info">offsetCnstrs : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Enable/Disable support for offset constraints such as <code>?x + 1 =?= e</code></p></div></li><li id="Lean.Meta.Config.transparency" class="structure_field"><div class="structure_field_info">transparency : <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode">TransparencyMode</a></div><div class="structure_field_doc"><p>Controls which definitions and theorems can be unfolded by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code>.</p></div></li><li id="Lean.Meta.Config.etaStruct" class="structure_field"><div class="structure_field_info">etaStruct : <a href="../.././Init/MetaTypes.html#Lean.Meta.EtaStructMode">EtaStructMode</a></div><div class="structure_field_doc"><p>Eta for structures configuration mode.</p></div></li><li id="Lean.Meta.Config.univApprox" class="structure_field"><div class="structure_field_info">univApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.univApprox">univApprox</a></code> is set to true,
we use approximations when solving postponed universe constraints.
Examples:</p><ul>
<li><code>max u ?v =?= u</code> is solved with <code>?v := u</code> and ignoring the solution <code>?v := 0</code>.</li>
<li><code>max u w =?= mav u ?v</code> is solved with <code>?v := w</code> ignoring the solution <code>?v := max u w</code></li>
</ul></div></li><li id="Lean.Meta.Config.iota" class="structure_field"><div class="structure_field_info">iota : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code>true</code>, reduce recursor/matcher applications, e.g., <code><a href="../.././Init/Prelude.html#Nat.rec">Nat.rec</a> true (fun _ _ =&gt; false) <a href="../.././Init/Prelude.html#Nat.zero">Nat.zero</a></code> reduces to <code>true</code></p></div></li><li id="Lean.Meta.Config.beta" class="structure_field"><div class="structure_field_info">beta : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code>true</code>, reduce terms such as <code>(fun x =&gt; t[x]) a</code> into <code>t[a]</code></p></div></li><li id="Lean.Meta.Config.proj" class="structure_field"><div class="structure_field_info">proj : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ProjReductionKind">ProjReductionKind</a></div><div class="structure_field_doc"><p>Control projection reduction at <code>whnfCore</code>.</p></div></li><li id="Lean.Meta.Config.zeta" class="structure_field"><div class="structure_field_info">zeta : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Zeta reduction: <code>let x := v; e[x]</code> reduces to <code>e[v]</code>.
We say a let-declaration <code>let x := v; e</code> is non dependent if it is equivalent to <code>(fun x =&gt; e) v</code>.
Recall that</p><pre><code>fun x : <a href="../.././Init/Prelude.html#BitVec">BitVec</a> 5 =&gt; let n := 5; fun y : <a href="../.././Init/Prelude.html#BitVec">BitVec</a> n =&gt; x = y
</code></pre><p>is type correct, but</p><pre><code>fun x : <a href="../.././Init/Prelude.html#BitVec">BitVec</a> 5 =&gt; (fun n =&gt; fun y : <a href="../.././Init/Prelude.html#BitVec">BitVec</a> n =&gt; x = y) 5
</code></pre><p>is not.</p></div></li><li id="Lean.Meta.Config.zetaDelta" class="structure_field"><div class="structure_field_info">zetaDelta : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Zeta-delta reduction: given a local context containing entry <code>x : t := e</code>, free variable <code>x</code> reduces to <code>e</code>.</p></div></li><li id="Lean.Meta.Config.zetaUnused" class="structure_field"><div class="structure_field_info">zetaUnused : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Zeta reduction for unused let-declarations: <code>let x := v; e</code> reduces to <code>e</code> when <code>x</code> does not occur
in <code>e</code>.</p></div></li></ul><details id="instances-for-list-Lean.Meta.Config" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedConfig"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L183-L183">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedConfig</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instReprConfig_2"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L183-L183">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instReprConfig_2"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instReprConfig_2</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instReprConfig_2">Lean.Meta.instReprConfig_2</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.reprConfig._@.Lean.Meta.Basic._hyg.589">Lean.Meta.reprConfig✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.ConfigWithKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L205-L210">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ConfigWithKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Configuration with key produced by <code>Config.toKey</code>.</p><ul class="structure_fields" id="_private.Lean.Meta.Basic.0.Lean.Meta.ConfigWithKey.mk"><li id="Lean.Meta.ConfigWithKey.config" class="structure_field"><div class="structure_field_info">config : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></div></li><li id="Lean.Meta.ConfigWithKey.key" class="structure_field"><div class="structure_field_info">key : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div></li></ul><details id="instances-for-list-Lean.Meta.ConfigWithKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedConfigWithKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L210-L210">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedConfigWithKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ConfigWithKey">ConfigWithKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedConfigWithKey">Lean.Meta.instInhabitedConfigWithKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ConfigWithKey.mk">{</a> <span class="fn">config</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">key</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ConfigWithKey.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.Config.toConfigWithKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L212-L213">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.toConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Config</span>.<span class="name">toConfigWithKey</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ConfigWithKey">ConfigWithKey</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">c</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.toConfigWithKey">toConfigWithKey</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ConfigWithKey.mk">{</a> <span class="fn">config</span> := <span class="fn">c</span>, <span class="fn">key</span> := <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.Config.toKey">Lean.Meta.Config.toKey✝</a> <span class="fn">c</span></span> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ConfigWithKey.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.Config.toConfigWithKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L215-L260">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Function parameter information cache.</p><ul class="structure_fields" id="Lean.Meta.ParamInfo.mk"><li id="Lean.Meta.ParamInfo.binderInfo" class="structure_field"><div class="structure_field_info">binderInfo : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></div><div class="structure_field_doc"><p>The binder annotation for the parameter.</p></div></li><li id="Lean.Meta.ParamInfo.hasFwdDeps" class="structure_field"><div class="structure_field_info">hasFwdDeps : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.hasFwdDeps">hasFwdDeps</a></code> is true if there is another parameter whose type depends on this one.</p></div></li><li id="Lean.Meta.ParamInfo.backDeps" class="structure_field"><div class="structure_field_info">backDeps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.backDeps">backDeps</a></code> contains the backwards dependencies. That is, the (0-indexed) position of previous parameters that this one depends on.</p></div></li><li id="Lean.Meta.ParamInfo.isProp" class="structure_field"><div class="structure_field_info">isProp : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isProp">isProp</a></code> is true if the parameter type is always a proposition.</p></div></li><li id="Lean.Meta.ParamInfo.isDecInst" class="structure_field"><div class="structure_field_info">isDecInst : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isDecInst">isDecInst</a></code> is true if the parameter's type is of the form <code><a href="../.././Init/Prelude.html#Decidable">Decidable</a> ...</code>.
This information affects the generation of congruence theorems.</p></div></li><li id="Lean.Meta.ParamInfo.higherOrderOutParam" class="structure_field"><div class="structure_field_info">higherOrderOutParam : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.higherOrderOutParam">higherOrderOutParam</a></code> is true if this parameter is a higher-order output parameter
of local instance.
Example:</p><pre><code>getElem :
  {cont : Type u_1} → {idx : Type u_2} → {elem : Type u_3} →
  {dom : cont → idx → Prop} → [self : <a href="../.././Init/GetElem.html#GetElem">GetElem</a> cont idx elem dom] →
  (xs : cont) → (i : idx) → dom xs i → elem
</code></pre><p>This flag is true for the parameter <code>dom</code> because it is output parameter of
<code>[self : <a href="../.././Init/GetElem.html#GetElem">GetElem</a> cont idx elem dom]</code></p></div></li><li id="Lean.Meta.ParamInfo.dependsOnHigherOrderOutParam" class="structure_field"><div class="structure_field_info">dependsOnHigherOrderOutParam : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.dependsOnHigherOrderOutParam">dependsOnHigherOrderOutParam</a></code> is true if the type of this parameter depends on
the higher-order output parameter of a previous local instance.
Example:</p><pre><code>getElem :
  {cont : Type u_1} → {idx : Type u_2} → {elem : Type u_3} →
  {dom : cont → idx → Prop} → [self : <a href="../.././Init/GetElem.html#GetElem">GetElem</a> cont idx elem dom] →
  (xs : cont) → (i : idx) → dom xs i → elem
</code></pre><p>This flag is true for the parameter with type <code>dom xs i</code> since <code>dom</code> is an output parameter
of the instance <code>[self : <a href="../.././Init/GetElem.html#GetElem">GetElem</a> cont idx elem dom]</code></p></div></li></ul><details id="instances-for-list-Lean.Meta.ParamInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedParamInfo"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L260-L260">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedParamInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L262-L263">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isImplicit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isImplicit">isImplicit</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.binderInfo">binderInfo</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">Lean.BinderInfo.implicit</a>)</li></ul></details><details id="instances-for-list-Lean.Meta.ParamInfo.isImplicit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isInstImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L265-L266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isInstImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isInstImplicit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isInstImplicit">isInstImplicit</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.binderInfo">binderInfo</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.instImplicit">Lean.BinderInfo.instImplicit</a>)</li></ul></details><details id="instances-for-list-Lean.Meta.ParamInfo.isInstImplicit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isStrictImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L268-L269">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isStrictImplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isStrictImplicit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isStrictImplicit">isStrictImplicit</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.binderInfo">binderInfo</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.strictImplicit">Lean.BinderInfo.strictImplicit</a>)</li></ul></details><details id="instances-for-list-Lean.Meta.ParamInfo.isStrictImplicit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isExplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L271-L272">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isExplicit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ParamInfo</span>.<span class="name">isExplicit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isExplicit">isExplicit</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">p</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.binderInfo">binderInfo</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a>)</li></ul></details><details id="instances-for-list-Lean.Meta.ParamInfo.isExplicit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.FunInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L274-L284">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">FunInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Function information cache. See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></code>.</p><ul class="structure_fields" id="Lean.Meta.FunInfo.mk"><li id="Lean.Meta.FunInfo.paramInfo" class="structure_field"><div class="structure_field_info">paramInfo : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></span></div><div class="structure_field_doc"><p>Parameter information cache.</p></div></li><li id="Lean.Meta.FunInfo.resultDeps" class="structure_field"><div class="structure_field_info">resultDeps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo.resultDeps">resultDeps</a></code> contains the function result type backwards dependencies.
That is, the (0-indexed) position of parameters that the result type depends on.</p></div></li></ul><details id="instances-for-list-Lean.Meta.FunInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.InfoCacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L286-L301">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">InfoCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Key for the function information cache.</p><ul class="structure_fields" id="_private.Lean.Meta.Basic.0.Lean.Meta.InfoCacheKey.mk"><li id="Lean.Meta.InfoCacheKey.configKey" class="structure_field"><div class="structure_field_info">configKey : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div><div class="structure_field_doc"><p>key produced using <code>Config.toKey</code>.</p></div></li><li id="Lean.Meta.InfoCacheKey.expr" class="structure_field"><div class="structure_field_info">expr : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div><div class="structure_field_doc"><p>The function being cached information about. It is quite often an <code>Expr.const</code>.</p></div></li><li id="Lean.Meta.InfoCacheKey.nargs?" class="structure_field"><div class="structure_field_info">nargs? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey.nargs?">nargs?</a> = some n</code> if the cached information was computed assuming the function has arity <code>n</code>.
If <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey.nargs?">nargs?</a> = none</code>, then the cache information consumed the arrow type as much as possible
using the current transparency setting.
X</p></div></li></ul><details id="instances-for-list-Lean.Meta.InfoCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L301-L301">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedInfoCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedInfoCacheKey">Lean.Meta.instInhabitedInfoCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.InfoCacheKey.mk">{</a> <span class="fn">configKey</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">expr</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">nargs?</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.InfoCacheKey.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L301-L301">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqInfoCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqInfoCacheKey">Lean.Meta.instBEqInfoCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.beqInfoCacheKey._@.Lean.Meta.Basic._hyg.1324">Lean.Meta.beqInfoCacheKey✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instHashableInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L303-L304">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instHashableInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableInfoCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.SynthInstanceCacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L307-L315">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SynthInstanceCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Meta.SynthInstanceCacheKey.mk"><li id="Lean.Meta.SynthInstanceCacheKey.localInsts" class="structure_field"><div class="structure_field_info">localInsts : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a></div></li><li id="Lean.Meta.SynthInstanceCacheKey.type" class="structure_field"><div class="structure_field_info">type : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.SynthInstanceCacheKey.synthPendingDepth" class="structure_field"><div class="structure_field_info">synthPendingDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>Value of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.synthPendingDepth">synthPendingDepth</a></code> when instance was synthesized or failed to be synthesized.
See issue #2522.</p></div></li></ul><details id="instances-for-list-Lean.Meta.SynthInstanceCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instHashableSynthInstanceCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L315-L315">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instHashableSynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableSynthInstanceCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey">SynthInstanceCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instHashableSynthInstanceCacheKey">Lean.Meta.instHashableSynthInstanceCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.hashSynthInstanceCacheKey._@.Lean.Meta.Basic._hyg.1496">Lean.Meta.hashSynthInstanceCacheKey✝</a> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqSynthInstanceCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L315-L315">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqSynthInstanceCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqSynthInstanceCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey">SynthInstanceCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqSynthInstanceCacheKey">Lean.Meta.instBEqSynthInstanceCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.beqSynthInstanceCacheKey._@.Lean.Meta.Basic._hyg.1546">Lean.Meta.beqSynthInstanceCacheKey✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.AbstractMVarsResult"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L317-L322">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">AbstractMVarsResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Resulting type for <code>abstractMVars</code></p><ul class="structure_fields" id="Lean.Meta.AbstractMVarsResult.mk"><li id="Lean.Meta.AbstractMVarsResult.paramNames" class="structure_field"><div class="structure_field_info">paramNames : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a></span></div></li><li id="Lean.Meta.AbstractMVarsResult.numMVars" class="structure_field"><div class="structure_field_info">numMVars : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Meta.AbstractMVarsResult.expr" class="structure_field"><div class="structure_field_info">expr : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li></ul><details id="instances-for-list-Lean.Meta.AbstractMVarsResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedAbstractMVarsResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L322-L322">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedAbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedAbstractMVarsResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult">AbstractMVarsResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedAbstractMVarsResult">Lean.Meta.instInhabitedAbstractMVarsResult</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult.mk">{</a> <span class="fn">paramNames</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">numMVars</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">expr</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqAbstractMVarsResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L322-L322">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqAbstractMVarsResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqAbstractMVarsResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult">AbstractMVarsResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqAbstractMVarsResult">Lean.Meta.instBEqAbstractMVarsResult</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.beqAbstractMVarsResult._@.Lean.Meta.Basic._hyg.1677">Lean.Meta.beqAbstractMVarsResult✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.SynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L324-L324">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SynthInstanceCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey">Lean.Meta.SynthInstanceCacheKey</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.AbstractMVarsResult">Lean.Meta.AbstractMVarsResult</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.SynthInstanceCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ExprConfigCacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L327-L331">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ExprConfigCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="_private.Lean.Meta.Basic.0.Lean.Meta.ExprConfigCacheKey.mk"><li id="Lean.Meta.ExprConfigCacheKey.expr" class="structure_field"><div class="structure_field_info">expr : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.ExprConfigCacheKey.configKey" class="structure_field"><div class="structure_field_info">configKey : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div></li></ul><details id="instances-for-list-Lean.Meta.ExprConfigCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedExprConfigCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L331-L331">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedExprConfigCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">ExprConfigCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedExprConfigCacheKey">Lean.Meta.instInhabitedExprConfigCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ExprConfigCacheKey.mk">{</a> <span class="fn">expr</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">configKey</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ExprConfigCacheKey.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqExprConfigCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L333-L336">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqExprConfigCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">ExprConfigCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqExprConfigCacheKey">Lean.Meta.instBEqExprConfigCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <span class="fn">fun (<span class="fn">a</span> <span class="fn">b</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">Lean.Meta.ExprConfigCacheKey</a>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey.expr">expr</a></span>.<a href="../.././Lean/Expr.html#Lean.Expr.equal">equal</a></span> <span class="fn"><span class="fn">b</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey.expr">expr</a></span></span> <a href="../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn">a</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey.configKey">configKey</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">b</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey.configKey">configKey</a></span></span> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instHashableExprConfigCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L338-L339">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instHashableExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableExprConfigCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">ExprConfigCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.InferTypeCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L341-L341">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">InferTypeCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">Lean.Meta.ExprConfigCacheKey</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.InferTypeCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.FunInfoCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L342-L342">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">FunInfoCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache">Lean.Meta.FunInfoCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo">Lean.Meta.FunInfo</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.FunInfoCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.WhnfCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L343-L343">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">WhnfCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">Lean.Meta.ExprConfigCacheKey</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.WhnfCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.DefEqCacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L345-L350">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="_private.Lean.Meta.Basic.0.Lean.Meta.DefEqCacheKey.mk"><li id="Lean.Meta.DefEqCacheKey.lhs" class="structure_field"><div class="structure_field_info">lhs : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.DefEqCacheKey.rhs" class="structure_field"><div class="structure_field_info">rhs : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.DefEqCacheKey.configKey" class="structure_field"><div class="structure_field_info">configKey : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div></li></ul><details id="instances-for-list-Lean.Meta.DefEqCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedDefEqCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L350-L350">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedDefEqCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey">DefEqCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedDefEqCacheKey">Lean.Meta.instInhabitedDefEqCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.DefEqCacheKey.mk">{</a> <span class="fn">lhs</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">rhs</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">configKey</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.DefEqCacheKey.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqDefEqCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L350-L350">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instBEqDefEqCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey">DefEqCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqDefEqCacheKey">Lean.Meta.instBEqDefEqCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.beqDefEqCacheKey._@.Lean.Meta.Basic._hyg.1932">Lean.Meta.beqDefEqCacheKey✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instHashableDefEqCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L352-L353">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instHashableDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instHashableDefEqCacheKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey">DefEqCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.DefEqCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L355-L360">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A mapping <code>(s, t) ↦ <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a> s t</code>.
TODO: consider more efficient representations (e.g., a proper set) and caching policies (e.g., imperfect cache).
We should also investigate the impact on memory consumption.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey">Lean.Meta.DefEqCacheKey</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.DefEqCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.Cache"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L362-L372">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Cache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Cache datastructures for type inference, type class resolution, whnf, and definitional equality.</p><ul class="structure_fields" id="Lean.Meta.Cache.mk"><li id="Lean.Meta.Cache.inferType" class="structure_field"><div class="structure_field_info">inferType : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">InferTypeCache</a></div></li><li id="Lean.Meta.Cache.funInfo" class="structure_field"><div class="structure_field_info">funInfo : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache">FunInfoCache</a></div></li><li id="Lean.Meta.Cache.synthInstance" class="structure_field"><div class="structure_field_info">synthInstance : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">SynthInstanceCache</a></div></li><li id="Lean.Meta.Cache.whnf" class="structure_field"><div class="structure_field_info">whnf : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">WhnfCache</a></div></li><li id="Lean.Meta.Cache.defEqTrans" class="structure_field"><div class="structure_field_info">defEqTrans : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a></div></li><li id="Lean.Meta.Cache.defEqPerm" class="structure_field"><div class="structure_field_info">defEqPerm : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a></div></li></ul><details id="instances-for-list-Lean.Meta.Cache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedCache"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L372-L372">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Cache</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedCache">Lean.Meta.instInhabitedCache</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a>     <span class="fn">default</span> :=
      <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">{</a> <span class="fn">inferType</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">funInfo</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">synthInstance</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">whnf</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">defEqTrans</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>,
        <span class="fn">defEqPerm</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.DefEqContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L374-L382">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">DefEqContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>&quot;Context&quot; for a postponed universe constraint.
<code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey.lhs">lhs</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey.rhs">rhs</a></code> are the surrounding <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> call when the postponed constraint was created.</p><ul class="structure_fields" id="Lean.Meta.DefEqContext.mk"><li id="Lean.Meta.DefEqContext.lhs" class="structure_field"><div class="structure_field_info">lhs : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.DefEqContext.rhs" class="structure_field"><div class="structure_field_info">rhs : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Meta.DefEqContext.lctx" class="structure_field"><div class="structure_field_info">lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></li><li id="Lean.Meta.DefEqContext.localInstances" class="structure_field"><div class="structure_field_info">localInstances : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a></div></li></ul><details id="instances-for-list-Lean.Meta.DefEqContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.PostponedEntry"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L384-L396">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">PostponedEntry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Auxiliary structure for representing postponed universe constraints.
Remark: the fields <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry.ref">ref</a></code> and <code>rootDefEq?</code> are used for error message generation only.
Remark: we may consider improving the error message generation in the future.</p><ul class="structure_fields" id="Lean.Meta.PostponedEntry.mk"><li id="Lean.Meta.PostponedEntry.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a></div><div class="structure_field_doc"><p>We save the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry.ref">ref</a></code> at entry creation time. This is used for reporting errors back to the user.</p></div></li><li id="Lean.Meta.PostponedEntry.lhs" class="structure_field"><div class="structure_field_info">lhs : <a href="../.././Lean/Level.html#Lean.Level">Level</a></div></li><li id="Lean.Meta.PostponedEntry.rhs" class="structure_field"><div class="structure_field_info">rhs : <a href="../.././Lean/Level.html#Lean.Level">Level</a></div></li><li id="Lean.Meta.PostponedEntry.ctx?" class="structure_field"><div class="structure_field_info">ctx? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext">DefEqContext</a></span></div><div class="structure_field_doc"><p>Context for the surrounding <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> call when the entry was created.</p></div></li></ul><details id="instances-for-list-Lean.Meta.PostponedEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedPostponedEntry"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L396-L396">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedPostponedEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedPostponedEntry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedPostponedEntry">Lean.Meta.instInhabitedPostponedEntry</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry.mk">{</a> <span class="fn">ref</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">lhs</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">rhs</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">ctx?</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.Diagnostics"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L398-L407">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Diagnostics</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Meta.Diagnostics.mk"><li id="Lean.Meta.Diagnostics.unfoldCounter" class="structure_field"><div class="structure_field_info">unfoldCounter : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">PHashMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p>Number of times each declaration has been unfolded</p></div></li><li id="Lean.Meta.Diagnostics.heuristicCounter" class="structure_field"><div class="structure_field_info">heuristicCounter : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">PHashMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p>Number of times <code>f a =?= f b</code> heuristic has been used per function <code>f</code>.</p></div></li><li id="Lean.Meta.Diagnostics.instanceCounter" class="structure_field"><div class="structure_field_info">instanceCounter : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">PHashMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p>Number of times a TC instance is used.</p></div></li><li id="Lean.Meta.Diagnostics.synthPendingFailures" class="structure_field"><div class="structure_field_info">synthPendingFailures : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">PHashMap</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span></div><div class="structure_field_doc"><p>Pending instances that were not synthesized because <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.maxSynthPendingDepth">maxSynthPendingDepth</a></code> has been reached.</p></div></li></ul><details id="instances-for-list-Lean.Meta.Diagnostics" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedDiagnostics"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L407-L407">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedDiagnostics"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedDiagnostics</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics">Diagnostics</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedDiagnostics">Lean.Meta.instInhabitedDiagnostics</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a>     <span class="fn">default</span> :=
      <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics.mk">{</a> <span class="fn">unfoldCounter</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">heuristicCounter</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">instanceCounter</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>,
        <span class="fn">synthPendingFailures</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L409-L420">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.State"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">State</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad state.</p><ul class="structure_fields" id="Lean.Meta.State.mk"><li id="Lean.Meta.State.mctx" class="structure_field"><div class="structure_field_info">mctx : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">MetavarContext</a></div></li><li id="Lean.Meta.State.cache" class="structure_field"><div class="structure_field_info">cache : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Cache</a></div></li><li id="Lean.Meta.State.zetaDeltaFVarIds" class="structure_field"><div class="structure_field_info">zetaDeltaFVarIds : <a href="../.././Lean/Expr.html#Lean.FVarIdSet">FVarIdSet</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.trackZetaDelta">Context.trackZetaDelta</a> == true</code>, then any let-decl free variable that is zetaDelta-expanded by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> is stored in <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">zetaDeltaFVarIds</a></code>.</p></div></li><li id="Lean.Meta.State.postponed" class="structure_field"><div class="structure_field_info">postponed : <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></span></div><div class="structure_field_doc"><p>Array of postponed universe level constraints</p></div></li><li id="Lean.Meta.State.diag" class="structure_field"><div class="structure_field_info">diag : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics">Diagnostics</a></div></li></ul><details id="instances-for-list-Lean.Meta.State" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L420-L420">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedState">Lean.Meta.instInhabitedState</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a>     <span class="fn">default</span> :=
      <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <span class="fn">mctx</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">cache</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">zetaDeltaFVarIds</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">postponed</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">diag</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.SavedState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L422-L428">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SavedState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Backtrackable state for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.</p><ul class="structure_fields" id="Lean.Meta.SavedState.mk"><li id="Lean.Meta.SavedState.core" class="structure_field"><div class="structure_field_info">core : <a href="../.././Lean/CoreM.html#Lean.Core.SavedState">Core.SavedState</a></div></li><li id="Lean.Meta.SavedState.meta" class="structure_field"><div class="structure_field_info">meta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a></div></li></ul><details id="instances-for-list-Lean.Meta.SavedState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instNonemptySavedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L428-L428">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instNonemptySavedState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instNonemptySavedState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nonempty">Nonempty</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a></span></div></div></div></div><div class="decl" id="Lean.Meta.maxSynthPendingDepth"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L430-L433">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.maxSynthPendingDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">maxSynthPendingDepth</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div></div></div><div class="decl" id="Lean.Meta.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L435-L490">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Context"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">Context</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Contextual information for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.</p><ul class="structure_fields" id="Lean.Meta.Context.mk"><li id="_private.Lean.Meta.Basic.0.Lean.Meta.Context.config" class="structure_field"><div class="structure_field_info">config : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a></div></li><li id="_private.Lean.Meta.Basic.0.Lean.Meta.Context.configKey" class="structure_field"><div class="structure_field_info">configKey : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div></li><li id="Lean.Meta.Context.trackZetaDelta" class="structure_field"><div class="structure_field_info">trackZetaDelta : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.trackZetaDelta">trackZetaDelta</a> = true</code>, we track all free variables that have been zetaDelta-expanded.
That is, suppose the local context contains
the declaration <code>x : t := v</code>, and we reduce <code>x</code> to <code>v</code>, then we insert <code>x</code> into <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">State.zetaDeltaFVarIds</a></code>.
We use <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.trackZetaDelta">trackZetaDelta</a></code> to discover which let-declarations <code>let x := v; e</code> can be represented as <code>(fun x =&gt; e) v</code>.
When we find these declarations we set their <code>nonDep</code> flag with <code>true</code>.
To find these let-declarations in a given term <code>s</code>, we
1- Reset <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">State.zetaDeltaFVarIds</a></code>
2- Set <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.trackZetaDelta">trackZetaDelta</a> := true</code>
3- Type-check <code>s</code>.</p><p>Note that, we do not include this field in the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></code> structure because this field is not
taken into account while caching results. See also field <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.zetaDeltaSet">zetaDeltaSet</a></code>.</p></div></li><li id="Lean.Meta.Context.zetaDeltaSet" class="structure_field"><div class="structure_field_info">zetaDeltaSet : <a href="../.././Lean/Expr.html#Lean.FVarIdSet">FVarIdSet</a></div><div class="structure_field_doc"><p>If <code>config.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.zetaDelta">zetaDelta</a> := false</code>, we may select specific local declarations to be unfolded using
the field <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.zetaDeltaSet">zetaDeltaSet</a></code>. Note that, we do not include this field in the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></code> structure
because this field is not taken into account while caching results.
Moreover, we reset all caches whenever setting it.</p></div></li><li id="Lean.Meta.Context.lctx" class="structure_field"><div class="structure_field_info">lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div><div class="structure_field_doc"><p>Local context</p></div></li><li id="Lean.Meta.Context.localInstances" class="structure_field"><div class="structure_field_info">localInstances : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a></div><div class="structure_field_doc"><p>Local instances in <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext.lctx">lctx</a></code>.</p></div></li><li id="Lean.Meta.Context.defEqCtx?" class="structure_field"><div class="structure_field_info">defEqCtx? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext">DefEqContext</a></span></div><div class="structure_field_doc"><p>Not <code>none</code> when inside of an <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> test. See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></code>.</p></div></li><li id="Lean.Meta.Context.synthPendingDepth" class="structure_field"><div class="structure_field_info">synthPendingDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>Track the number of nested <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code> invocations. Nested invocations can happen
when the type class resolution invokes <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code>.</p><p>Remark: <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code> fails if <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.synthPendingDepth">synthPendingDepth</a> &gt; <a href="../.././Lean/Meta/Basic.html#Lean.Meta.maxSynthPendingDepth">maxSynthPendingDepth</a></code>.</p></div></li><li id="Lean.Meta.Context.canUnfold?" class="structure_field"><div class="structure_field_info">canUnfold? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span></div><div class="structure_field_doc"><p>A predicate to control whether a constant can be unfolded or not at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code>.
Note that we do not cache results at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> when <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.canUnfold?">canUnfold?</a></code> is not <code>none</code>.</p></div></li><li id="Lean.Meta.Context.univApprox" class="structure_field"><div class="structure_field_info">univApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.univApprox">Config.univApprox</a> := true</code>, this flag is set to <code>true</code> when there is no
progress processing universe constraints.</p></div></li><li id="Lean.Meta.Context.inTypeClassResolution" class="structure_field"><div class="structure_field_info">inTypeClassResolution : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.inTypeClassResolution">inTypeClassResolution</a> := true</code> when <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> is invoked at <code>tryResolve</code> in the type class
resolution module. We don't use <code>isDefEqProjDelta</code> when performing TC resolution due to performance issues.
This is not a great solution, but a proper solution would require a more sophisticased caching mechanism.</p></div></li></ul><details id="instances-for-list-Lean.Meta.Context" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L492-L530">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad is a core component of Lean's metaprogramming framework, facilitating the
construction and manipulation of expressions (<code><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></code>) within Lean.</p><p>It builds on top of <code>CoreM</code> and additionally provides:</p><ul>
<li>A <code>LocalContext</code> for managing free variables.</li>
<li>A <code>MetavarContext</code> for managing metavariables.</li>
<li>A <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Cache</a></code> for caching results of the key <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> operations.</li>
</ul><p>The key operations provided by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> are:</p><ul>
<li><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code>, which attempts to automatically infer the type of a given expression.</li>
<li><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code>, which reduces an expression to the point where the outermost part is no longer reducible
but the inside may still contain unreduced expression.</li>
<li><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>, which determines whether two expressions are definitionally equal, possibly assigning
meta variables in the process.</li>
<li><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope">forallTelescope</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope">lambdaTelescope</a></code>, which make it possible to automatically move into
(nested) binders while updating the local context.</li>
</ul><p>The following is a small example that demonstrates how to obtain and manipulate the type of a
<code><a href="../.././Init/Prelude.html#Fin">Fin</a></code> expression:</p><pre><code>import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Meta

def getFinBound (e : Expr) : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (Option Expr) := do
  let <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a> (← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a> e)
  let_expr <a href="../.././Init/Prelude.html#Fin">Fin</a> bound := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> | return none
  return bound

def a : <a href="../.././Init/Prelude.html#Fin">Fin</a> 100 := 42

run_meta
  match ← getFinBound (.const ``a []) with
  | some limit =&gt; <a href="../.././Init/System/IO.html#IO.println">IO.println</a> (← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExpr">ppExpr</a> limit)
  | none =&gt; <a href="../.././Init/System/IO.html#IO.println">IO.println</a> &quot;no limit found&quot;
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a> <span class="fn">(<a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a> <a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.MetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L534-L535">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L537-L538">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedMetaM">Lean.Meta.instInhabitedMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>) (<span class="fn">x</span> : <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref">ST.Ref</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span>) =&gt; <a href="../.././Init/Prelude.html#Inhabited.default">default</a></span> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadLCtxMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L540-L541">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadLCtxMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadLCtxMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadLCtxMetaM">Lean.Meta.instMonadLCtxMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Lean/LocalContext.html#Lean.MonadLCtx.mk">{</a>     <span class="fn">getLCtx</span> := <span class="fn">do
      let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadReader.read">read</a>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.lctx">lctx</a></span></span></span> <a href="../.././Lean/LocalContext.html#Lean.MonadLCtx.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadMCtxMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L543-L545">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadMCtxMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadMCtxMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">MonadMCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadEnvMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L547-L549">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadEnvMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadEnvMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instAddMessageContextMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L551-L552">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instAddMessageContextMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instAddMessageContextMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">AddMessageContext</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instAddMessageContextMetaM">Lean.Meta.instAddMessageContextMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Message.html#Lean.AddMessageContext.mk">{</a> <span class="fn">addMessageContext</span> := <a href="../.././Lean/Message.html#Lean.addMessageContextFull">Lean.addMessageContextFull</a> <a href="../.././Lean/Message.html#Lean.AddMessageContext.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.saveState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L554-L555">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">saveState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Lean/CoreM.html#Lean.Core.saveState">Lean.Core.saveState</a></span>
  let <span class="fn">__do_lift_1</span> ← <a href="../.././Init/Prelude.html#MonadState.get">get</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.mk">{</a> <span class="fn">core</span> := <span class="fn">__do_lift</span>, <span class="fn">meta</span> := <span class="fn">__do_lift_1</span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.saveState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.SavedState.restore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L557-L560">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">SavedState</span>.<span class="name">restore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Restore backtrackable parts of the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.SavedState.restore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withRestoreOrSaveFull"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L562-L570">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withRestoreOrSaveFull"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withRestoreOrSaveFull</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">reusableResult?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a>)</span></div></div><p>Incremental reuse primitive: if <code>reusableResult?</code> is <code>none</code>, runs <code>act</code> and returns its result
together with the saved monadic state after <code>act</code> including the heartbeats used by it. If
<code>reusableResult?</code> on the other hand is <code>some (a, state)</code>, restores full <code>state</code> including heartbeats
used and returns <code>(a, state)</code>.</p><p>The intention is for steps that support incremental reuse to initially pass <code>none</code> as
<code>reusableResult?</code> and store the result and state in a snapshot. In a further run, if reuse is
possible, <code>reusableResult?</code> should be set to the previous result and state, ensuring that the state
after running <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withRestoreOrSaveFull">withRestoreOrSaveFull</a></code> is identical in both runs. Note however that necessarily this
is only an approximation in the case of heartbeats as heartbeats used by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withRestoreOrSaveFull">withRestoreOrSaveFull</a></code>
itself after calling <code>act</code> as well as by reuse-handling code such as the one supplying
<code>reusableResult?</code> are not accounted for.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withRestoreOrSaveFull" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadBacktrackSavedStateMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L572-L574">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadBacktrackSavedStateMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instMonadBacktrackSavedStateMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack">MonadBacktrack</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">SavedState</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadBacktrackSavedStateMetaM">Lean.Meta.instMonadBacktrackSavedStateMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.mk">{</a> <span class="fn">saveState</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a>, <span class="fn">restoreState</span> := <span class="fn">fun (<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a>) =&gt; <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore">restore</a></span></span> <a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L576-L577">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">run</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ctx</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Context</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">}</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> (<span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">run</a></span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">x</span> <span class="fn">ctx</span>)</span>.<a href="../.././Init/Control/StateRef.html#StateRefT'.run">run</a></span> <span class="fn">s</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.MetaM.run" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.run'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L579-L580">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">run'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ctx</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Context</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">}</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run'">run'</a></span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Prod.fst">Prod.fst</a> <a href="../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">run</a></span> <span class="fn">ctx</span> <span class="fn">s</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.MetaM.run'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.toIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L582-L584">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.toIO"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">MetaM</span>.<span class="name">toIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ctxCore</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sCore</span> : <a href="../.././Lean/CoreM.html#Lean.Core.State">Core.State</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ctx</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Context</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.mk">}</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/CoreM.html#Lean.Core.State">Core.State</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">State</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.toIO">toIO</a></span> <span class="fn">ctxCore</span> <span class="fn">sCore</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">run</a></span> <span class="fn">ctx</span> <span class="fn">s</span>)</span>.<a href="../.././Lean/CoreM.html#Lean.Core.CoreM.toIO">toIO</a></span> <span class="fn">ctxCore</span> <span class="fn">sCore</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">a</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">s</span><a href="../.././Init/Prelude.html#Prod.mk">)</a><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">sCore</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">a</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">sCore</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">s</span><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.MetaM.toIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.throwIsDefEqStuck"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L586-L587">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.throwIsDefEqStuck"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">throwIsDefEqStuck</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.throwIsDefEqStuck">Lean.Meta.throwIsDefEqStuck</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">(<a href="../.././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqStuckExceptionId">Lean.Meta.isDefEqStuckExceptionId</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.throwIsDefEqStuck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.liftMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L595-L596">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">liftMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMetaM">Lean.Meta.liftMetaM</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.liftMetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mapMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L598-L599">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">f</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun (<span class="fn">runInBase</span> : <span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">β</span>)</span></span></span></span>) =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn">runInBase</span> <span class="fn">x</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mapMetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.map1MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L601-L602">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map1MetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Sort</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn">(<span class="fn">β</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> <span class="fn">f</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun (<span class="fn">runInBase</span> : <span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">β</span>)</span></span></span></span>) =&gt;
    <span class="fn"><span class="fn">f</span> <span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn">runInBase</span> <span class="fn">(<span class="fn">k</span> <span class="fn">b</span>)</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.map1MetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.map2MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L604-L605">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map2MetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Sort</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../.././foundational_types.html">Sort</a> u_3}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn">(<span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span>)</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> <span class="fn">f</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun (<span class="fn">runInBase</span> : <span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">β</span>)</span></span></span></span>) =&gt;
    <span class="fn"><span class="fn">f</span> <span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) (<span class="fn">c</span> : <span class="fn">γ</span>) =&gt; <span class="fn"><span class="fn">runInBase</span> <span class="fn">(<span class="fn">k</span> <span class="fn">b</span> <span class="fn">c</span>)</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.map2MetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.map3MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L607-L608">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.map3MetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">map3MetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Sort</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../.././foundational_types.html">Sort</a> u_3}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">δ</span> : <a href="../.././foundational_types.html">Sort</a> u_4}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn">(<span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">δ</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></span>)</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">δ</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map3MetaM">Lean.Meta.map3MetaM</a> <span class="fn">f</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun (<span class="fn">runInBase</span> : <span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">β</span>)</span></span></span></span>) =&gt;
    <span class="fn"><span class="fn">f</span> <span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) (<span class="fn">c</span> : <span class="fn">γ</span>) (<span class="fn">d</span> : <span class="fn">δ</span>) =&gt; <span class="fn"><span class="fn">runInBase</span> <span class="fn">(<span class="fn">k</span> <span class="fn">b</span> <span class="fn">c</span> <span class="fn">d</span>)</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.map3MetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L613-L614">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyCache</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Cache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Cache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.modifyCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.resetCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L616-L617">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resetCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resetCache">Lean.Meta.resetCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyCache">Lean.Meta.modifyCache</a> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a>) =&gt; <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.resetCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyInferTypeCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L619-L620">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyInferTypeCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyInferTypeCache</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">InferTypeCache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">InferTypeCache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.modifyInferTypeCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyDefEqTransientCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L622-L623">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyDefEqTransientCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDefEqTransientCache</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.modifyDefEqTransientCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyDefEqPermCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L625-L626">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyDefEqPermCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDefEqPermCache</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">DefEqCache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.modifyDefEqPermCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkExprConfigCacheKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L628-L629">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkExprConfigCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkExprConfigCacheKey</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">expr</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprConfigCacheKey">ExprConfigCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkExprConfigCacheKey">Lean.Meta.mkExprConfigCacheKey</a> <span class="fn">expr</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadReader.read">read</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ExprConfigCacheKey.mk">{</a> <span class="fn">expr</span> := <span class="fn">expr</span>, <span class="fn">configKey</span> := <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.Context.configKey">Lean.Meta.Context.configKey✝</a> <span class="fn">__do_lift</span></span> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.ExprConfigCacheKey.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkExprConfigCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkDefEqCacheKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L631-L636">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkDefEqCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkDefEqCacheKey</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lhs </span><span class="fn">rhs</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCacheKey">DefEqCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.mkDefEqCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkInfoCacheKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L638-L639">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkInfoCacheKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkInfoCacheKey</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">expr</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">nargs?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkInfoCacheKey">Lean.Meta.mkInfoCacheKey</a> <span class="fn">expr</span> <span class="fn">nargs?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadReader.read">read</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.InfoCacheKey.mk">{</a> <span class="fn">configKey</span> := <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.Context.configKey">Lean.Meta.Context.configKey✝</a> <span class="fn">__do_lift</span></span>, <span class="fn">expr</span> := <span class="fn">expr</span>, <span class="fn">nargs?</span> := <span class="fn">nargs?</span> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.InfoCacheKey.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkInfoCacheKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.resetDefEqPermCaches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L641-L642">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resetDefEqPermCaches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetDefEqPermCaches</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resetDefEqPermCaches">Lean.Meta.resetDefEqPermCaches</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyDefEqPermCache">Lean.Meta.modifyDefEqPermCache</a> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a>) =&gt; <a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.mk">{</a> <a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.resetDefEqPermCaches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.resetSynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L644-L645">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resetSynthInstanceCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetSynthInstanceCache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.resetSynthInstanceCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyDiag"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L647-L649">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyDiag"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyDiag</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics">Diagnostics</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Diagnostics">Diagnostics</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.modifyDiag" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.recordUnfold"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L651-L655">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.recordUnfold"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordUnfold</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If diagnostics are enabled, record that <code>declName</code> has been unfolded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.recordUnfold" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.recordDefEqHeuristic"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L657-L661">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.recordDefEqHeuristic"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordDefEqHeuristic</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If diagnostics are enabled, record that heuristic for solving <code>f a =?= f b</code> has been used.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.recordDefEqHeuristic" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.recordInstance"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L663-L667">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.recordInstance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordInstance</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If diagnostics are enabled, record that instance <code>declName</code> was used during TC resolution.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.recordInstance" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.recordSynthPendingFailure"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L669-L676">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.recordSynthPendingFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">recordSynthPendingFailure</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If diagnostics are enabled, record that synth pending failures.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.recordSynthPendingFailure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L678-L679">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getLocalInstances</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalInstances">Lean.Meta.getLocalInstances</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadReader.read">read</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.localInstances">localInstances</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getLocalInstances" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getConfig"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L681-L682">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getConfig</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadReader.read">read</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.Context.config">Lean.Meta.Context.config✝</a> <span class="fn">__do_lift</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getConfig" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getConfigWithKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L684-L685">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getConfigWithKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ConfigWithKey">ConfigWithKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfigWithKey">Lean.Meta.getConfigWithKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.toConfigWithKey">toConfigWithKey</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getConfigWithKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.resetZetaDeltaFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L687-L688">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resetZetaDeltaFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">resetZetaDeltaFVarIds</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resetZetaDeltaFVarIds">Lean.Meta.resetZetaDeltaFVarIds</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>) =&gt; <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mctx">mctx</a></span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.cache">cache</a></span>, <span class="fn">postponed</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.postponed">postponed</a></span>, <span class="fn">diag</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.diag">diag</a></span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.resetZetaDeltaFVarIds" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getZetaDeltaFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L690-L691">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getZetaDeltaFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getZetaDeltaFVarIds</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.FVarIdSet">FVarIdSet</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getZetaDeltaFVarIds">Lean.Meta.getZetaDeltaFVarIds</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadState.get">get</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">zetaDeltaFVarIds</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getZetaDeltaFVarIds" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L693-L695">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getPostponed</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a>)</span></span></div></div><p>Return the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Init/Prelude.html#MonadState.get">get</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.postponed">postponed</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.setPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L697-L699">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">setPostponed</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">postponed</span> : <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setPostponed">Lean.Meta.setPostponed</a> <span class="fn">postponed</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>) =&gt;
    <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mctx">mctx</a></span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.cache">cache</a></span>, <span class="fn">zetaDeltaFVarIds</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">zetaDeltaFVarIds</a></span>, <span class="fn">postponed</span> := <span class="fn">postponed</span>, <span class="fn">diag</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.diag">diag</a></span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.setPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.modifyPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L701-L703">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">modifyPostponed</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></span> → <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Modify the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyPostponed">Lean.Meta.modifyPostponed</a> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>) =&gt;
    <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">{</a> <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mctx">mctx</a></span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.cache">cache</a></span>, <span class="fn">zetaDeltaFVarIds</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.zetaDeltaFVarIds">zetaDeltaFVarIds</a></span>, <span class="fn">postponed</span> := <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.postponed">postponed</a></span></span>,
      <span class="fn">diag</span> := <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.diag">diag</a></span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.modifyPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.useEtaStruct"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L705-L718">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.useEtaStruct"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">useEtaStruct</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">inductName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.useEtaStruct">useEtaStruct</a> inductName</code> return <code>true</code> if we eta for structures is enabled for
for the inductive datatype <code>inductName</code>.</p><p>Recall we have three different settings: <code>.none</code> (never use it), <code>.all</code> (always use it), <code>.notClasses</code>
(enabled only for structure-like inductive types that are not classes).</p><p>The parameter <code>inductName</code> affects the result only if the current setting is <code>.notClasses</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.useEtaStruct" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>WARNING: The following 4 constants are a hack for simulating forward declarations.
They are defined later using the <code>export</code> attribute. This is hackish because we
have to hard-code the true arity of these definitions here, and make sure the C names match.
We have used another hack based on <code><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a></code>s in the past, it was safer but less efficient.</p></div><div class="decl" id="Lean.Meta.whnf"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L727-L734">source</a></div><div class="attributes">@[extern 6 lean_whnf]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnf</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></span></div></div><p>Reduces an expression to its <em>weak head normal form</em>.
This is when the &quot;head&quot; of the top-level expression has been fully reduced.
The result may contain subexpressions that have not been reduced.</p><p>See <code><a href="../.././Lean/Meta/WHNF.html#Lean.Meta.whnfImp">Lean.Meta.whnfImp</a></code> for the implementation.</p></div></div><div class="decl" id="Lean.Meta.inferType"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L735-L786">source</a></div><div class="attributes">@[extern 6 lean_infer_type]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.inferType"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">inferType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></span></div></div><p>Returns the inferred type of the given expression. Assumes the expression is type-correct.</p><p>The type inference algorithm does not do general type checking.
Type inference only looks at subterms that are necessary for determining an expression's type,
and as such if <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code> succeeds it does <em>not</em> mean the term is type-correct.
If an expression is sufficiently ill-formed that it prevents <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code> from computing a type,
then it will fail with a type error.</p><p>For typechecking during elaboration, see <code><a href="../.././Lean/Meta/Check.html#Lean.Meta.check">Lean.Meta.check</a></code>.
(Note that we do not guarantee that the elaborator typechecker is as correct or as efficient as
the kernel typechecker. The kernel typechecker is invoked when a definition is added to the environment.)</p><p>Here are examples of type-incorrect terms for which <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code> succeeds:</p><pre><code class="language-lean">import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Meta

/--
`@id.{1} <a href="../.././Init/Prelude.html#Bool">Bool</a> Nat.zero`.
In general, the <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> of `@id α x` is `α`.
-/
def e1 : Expr := mkApp2 (.const ``id [1]) (.const ``Bool []) (.const ``Nat.zero [])
#eval <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a> e1
-- <a href="../.././Lean/Expr.html#Lean.Expr.const">Lean.Expr.const</a> `Bool []
#eval check e1
-- error: application <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> mismatch

/--
`let x : <a href="../.././Init/Data/Int/Basic.html#Int">Int</a> := Nat.zero; true`.
In general, the <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> of `let x := v; e`, if `e` does not reference `x`, is the <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a> of `e`.
-/
def e2 : Expr := .letE `x (.const ``Int []) (.const ``Nat.zero []) (.const ``true []) false
#eval <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a> e2
-- <a href="../.././Lean/Expr.html#Lean.Expr.const">Lean.Expr.const</a> `Bool []
#eval check e2
-- error: invalid let declaration
</code></pre><p>Here is an example of a type-incorrect term that makes <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code> fail:</p><pre><code class="language-lean">/--
`Nat.zero Nat.zero`
-/
def e3 : Expr := .app (.const ``Nat.zero []) (.const ``Nat.zero [])
#eval <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a> e3
-- error: function expected
</code></pre><p>See <code><a href="../.././Lean/Meta/InferType.html#Lean.Meta.inferTypeImp">Lean.Meta.inferTypeImp</a></code> for the implementation of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.inferType">inferType</a></code>.</p></div></div><div class="decl" id="Lean.Meta.isExprDefEqAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L787-L787">source</a></div><div class="attributes">@[extern 7 lean_is_expr_def_eq]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEqAux</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.isLevelDefEqAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L788-L788">source</a></div><div class="attributes">@[extern 7 lean_is_level_def_eq]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isLevelDefEqAux</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Level.html#Lean.Level">Level</a> → <a href="../.././Lean/Level.html#Lean.Level">Level</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.synthPending"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L789-L789">source</a></div><div class="attributes">@[extern 6 lean_synth_pending]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">synthPending</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.whnfForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L791-L793">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfForall"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfForall</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfForall">Lean.Meta.whnfForall</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">e'</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>
  <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">e'</span>.<a href="../.././Lean/Expr.html#Lean.Expr.isForall">isForall</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e'</span></span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.whnfForall" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withIncRecDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L796-L797">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withIncRecDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withIncRecDepth</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withIncRecDepth">Lean.Meta.withIncRecDepth</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Lean/Exception.html#Lean.withIncRecDepth">Lean.withIncRecDepth</a>)</span> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withIncRecDepth" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVarAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L804-L808">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVarAt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVarAt</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">localInsts</span> : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a> := <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">numScopeArgs</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshExprMVarAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L810-L813">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">mvarId</span> ← <a href="../.././Lean/Expr.html#Lean.mkFreshLMVarId">Lean.mkFreshLMVarId</a>
  <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun (<span class="fn">mctx</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">mctx</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.addLevelMVarDecl">addLevelMVarDecl</a></span> <span class="fn">mvarId</span></span></span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Lean/Level.html#Lean.mkLevelMVar">Lean.mkLevelMVar</a> <span class="fn">mvarId</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshLevelMVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L826-L827">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">type?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a> := <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a> <span class="fn">type?</span> <span class="fn">kind</span> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkFreshExprMVarImpl">Lean.Meta.mkFreshExprMVarImpl✝</a> <span class="fn">type?</span> <span class="fn">kind</span> <span class="fn">userName</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshExprMVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshTypeMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L829-L831">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshTypeMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshTypeMVar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a> := <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshTypeMVar">Lean.Meta.mkFreshTypeMVar</a> <span class="fn">kind</span> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">u</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a>
  <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.mkSort">Lean.mkSort</a> <span class="fn">u</span>)</span>)</span> <span class="fn">kind</span> <span class="fn">userName</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshTypeMVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVarWithId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L840-L846">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVarWithId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshExprMVarWithId</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a> := <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVarWithId">Lean.Meta.mkFreshExprMVarWithId</a> <span class="fn">mvarId</span> <span class="fn">(<a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">type</span>)</span> <span class="fn">kind</span> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkFreshExprMVarWithIdCore">Lean.Meta.mkFreshExprMVarWithIdCore✝</a> <span class="fn">mvarId</span> <span class="fn">type</span> <span class="fn">kind</span> <span class="fn">userName</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshExprMVarWithId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L848-L850">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">num</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a> <span class="fn">num</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">num</span>.<a href="../.././Init/Data/Nat/Control.html#Nat.foldM">foldM</a></span>
    <span class="fn">(fun (<span class="fn">x</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">x</span> : <span class="fn">x</span> <a href="../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">num</span>) (<span class="fn">us</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>) =&gt; <span class="fn">do
      let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">us</span>)</span></span>)</span>
    <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshLevelMVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVarsFor"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L852-L853">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFreshLevelMVarsFor</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">info</span> : <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a> <span class="fn">info</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a> <span class="fn"><span class="fn">info</span>.<a href="../.././Lean/Declaration.html#Lean.ConstantInfo.numLevelParams">numLevelParams</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFreshLevelMVarsFor" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkConstWithFreshMVarLevels"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L855-L861">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkConstWithFreshMVarLevels</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Create a constant with the given name and new universe metavariables.
Example: <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">mkConstWithFreshMVarLevels</a> `Monad</code> returns <code>@Monad.{?u, ?v}</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">Lean.Meta.mkConstWithFreshMVarLevels</a> <span class="fn">declName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">info</span> ← <span class="fn"><a href="../.././Lean/MonadEnv.html#Lean.getConstInfo">Lean.getConstInfo</a> <span class="fn">declName</span></span>
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a> <span class="fn">info</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.mkConst">Lean.mkConst</a> <span class="fn">declName</span> <span class="fn">__do_lift</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkConstWithFreshMVarLevels" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L863-L865">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getTransparency</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode">TransparencyMode</a></span></div></div><p>Return current transparency setting/mode.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.transparency">transparency</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getTransparency" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.shouldReduceAll"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L867-L868">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">shouldReduceAll</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.all">Lean.Meta.TransparencyMode.all</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.shouldReduceAll" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.shouldReduceReducibleOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L870-L871">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceReducibleOnly"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">shouldReduceReducibleOnly</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceReducibleOnly">Lean.Meta.shouldReduceReducibleOnly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.shouldReduceReducibleOnly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.findDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L873-L878">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.findDecl?"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">findDecl?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">MetavarDecl</a>)</span></span></div></div><p>Return <code>some mvarDecl</code> where <code>mvarDecl</code> is <code>mvarId</code> declaration in the current metavariable context.
Return <code>none</code> if <code>mvarId</code> has no declaration in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.findDecl?">findDecl?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.getMCtx">Lean.getMCtx</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.findDecl?">findDecl?</a></span> <span class="fn">mvarId</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.findDecl?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.getDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L880-L887">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">getDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">MetavarDecl</a></span></div></div><p>Return <code>mvarId</code> declaration in the current metavariable context.
Throw an exception if <code>mvarId</code> is not declared in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.MVarId.getDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.getKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L889-L893">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.getKind"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">getKind</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a></span></div></div><p>Return <code>mvarId</code> kind. Throw an exception if <code>mvarId</code> is not declared in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getKind">getKind</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl.kind">kind</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.getKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isSyntheticMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L895-L900">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isSyntheticMVar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isSyntheticMVar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>e</code> is a synthetic (or synthetic opaque) metavariable</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.isSyntheticMVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.setKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L902-L906">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setKind"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setKind</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set <code>mvarId</code> kind in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setKind">setKind</a></span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun (<span class="fn">mctx</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">mctx</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarKind">setMVarKind</a></span> <span class="fn">mvarId</span> <span class="fn">kind</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.setKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.setType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L908-L911">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setType"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Update the type of the given metavariable. This function assumes the new type is
definitionally equal to the current one</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setType">setType</a></span> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun (<span class="fn">mctx</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">mctx</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarType">setMVarType</a></span> <span class="fn">mvarId</span> <span class="fn">type</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.setType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.isReadOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L913-L918">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">isReadOnly</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if the given metavariable is &quot;read-only&quot;.
That is, its <code>depth</code> is different from the current metavariable context depth.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">isReadOnly</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">getDecl</a></span>
  let <span class="fn">__do_lift_1</span> ← <a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.getMCtx">Lean.getMCtx</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl.depth">depth</a></span> <a href="../.././Init/Core.html#bne">!=</a> <span class="fn"><span class="fn">__do_lift_1</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.depth">depth</a></span>)</span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.isReadOnly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.isReadOnlyOrSyntheticOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L920-L932">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnlyOrSyntheticOpaque"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">isReadOnlyOrSyntheticOpaque</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns true if <code>mvarId.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">isReadOnly</a></code> returns true or if <code>mvarId</code> is a synthetic opaque metavariable.</p><p>Recall <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> will not assign a value to <code>mvarId</code> if <code>mvarId.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnlyOrSyntheticOpaque">isReadOnlyOrSyntheticOpaque</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.MVarId.isReadOnlyOrSyntheticOpaque" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LMVarId.getLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L934-L940">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.LMVarId.getLevel"><span class="name">Lean</span>.<span class="name">LMVarId</span>.<span class="name">getLevel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Level.html#Lean.LMVarId">LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Return the level of the given universe level metavariable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LMVarId.getLevel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LMVarId.isReadOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L942-L947">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.LMVarId.isReadOnly"><span class="name">Lean</span>.<span class="name">LMVarId</span>.<span class="name">isReadOnly</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Level.html#Lean.LMVarId">LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if the given universe metavariable is &quot;read-only&quot;.
That is, its <code>depth</code> is different from the current metavariable context depth.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.LMVarId.isReadOnly">isReadOnly</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.LMVarId.getLevel">getLevel</a></span>
  let <span class="fn">__do_lift_1</span> ← <a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.getMCtx">Lean.getMCtx</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">__do_lift_1</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.levelAssignDepth">levelAssignDepth</a></span>))</span></span></span></li></ul></details><details id="instances-for-list-Lean.LMVarId.isReadOnly" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.setUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L949-L953">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setUserName"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">setUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newUserName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set the user-facing name for the given metavariable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setUserName">setUserName</a></span> <span class="fn">newUserName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun (<span class="fn">mctx</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">mctx</span>.<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarUserName">setMVarUserName</a></span> <span class="fn">mvarId</span> <span class="fn">newUserName</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.setUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.throwUnknown"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L955-L959">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">throwUnknown</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <span class="fn">α</span></span></div></div><p>Throw an exception saying <code>fvarId</code> is not declared in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">throwUnknown</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a>
    (<span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quot;unknown free variable '&quot;</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.mkFVar">Lean.mkFVar</a> <span class="fn">fvarId</span>)</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quot;'&quot;</span></span>)</span></li></ul></details><details id="instances-for-list-Lean.FVarId.throwUnknown" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.findDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L961-L965">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.findDecl?"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">findDecl?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span></div></div><p>Return <code>some decl</code> if <code>fvarId</code> is declared in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.findDecl?">findDecl?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/LocalContext.html#Lean.MonadLCtx.getLCtx">Lean.getLCtx</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalContext.find?">find?</a></span> <span class="fn">fvarId</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.findDecl?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.getDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L967-L974">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><p>Return the local declaration for the given free variable.
Throw an exception if local declaration is not in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/LocalContext.html#Lean.MonadLCtx.getLCtx">Lean.getLCtx</a>
  <span class="fn">match <span class="fn"><span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalContext.find?">find?</a></span> <span class="fn">fvarId</span></span> with
    | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">d</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">d</span></span>
    | <a href="../.././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">throwUnknown</a></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.getDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.getType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L976-L978">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getType"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Return the type of the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getType">getType</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.type">type</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.getType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.getBinderInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L980-L982">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getBinderInfo"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getBinderInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span></div></div><p>Return the binder information for the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getBinderInfo">getBinderInfo</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.binderInfo">binderInfo</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.getBinderInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.getValue?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L984-L986">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getValue?"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getValue?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span></div></div><p>Return <code>some value</code> if the given free variable is a let-declaration, and <code>none</code> otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getValue?">getValue?</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.value?">value?</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.getValue?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.getUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L988-L990">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getUserName"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">getUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Return the user-facing name for the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getUserName">getUserName</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.userName">userName</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.getUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.isLetVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L992-L994">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.isLetVar"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">isLetVar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> is the free variable is a let-variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.isLetVar">isLetVar</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">fvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.isLet">isLet</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.FVarId.isLetVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getFVarLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L996-L999">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarLocalDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getFVarLocalDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvar</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><p>Get the local declaration associated to the given <code>Expr</code> in the current local
context. Fails if the given expression is not a fvar or if no such declaration exists.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarLocalDecl">Lean.Meta.getFVarLocalDecl</a> <span class="fn">fvar</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">fvar</span>.<a href="../.././Lean/Expr.html#Lean.Expr.fvarId!">fvarId!</a></span>.<a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">getDecl</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.getFVarLocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.FVarId.hasForwardDeps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1001-L1010">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.hasForwardDeps"><span class="name">Lean</span>.<span class="name">FVarId</span>.<span class="name">hasForwardDeps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if another local declaration in the local context depends on <code>fvarId</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.FVarId.hasForwardDeps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getLocalDeclFromUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1012-L1019">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDeclFromUserName"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getLocalDeclFromUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><p>Given a user-facing name for a free variable, return its declaration in the current local context.
Throw an exception if free variable is not declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.getLocalDeclFromUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getFVarFromUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1021-L1024">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarFromUserName"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getFVarFromUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Given a user-facing name for a free variable, return the free variable or throw if not declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarFromUserName">Lean.Meta.getFVarFromUserName</a> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">d</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDeclFromUserName">Lean.Meta.getLocalDeclFromUserName</a> <span class="fn">userName</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.Expr.fvar">Lean.Expr.fvar</a> <span class="fn"><span class="fn">d</span>.<a href="../.././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getFVarFromUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.liftMkBindingM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1026-L1038">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">liftMkBindingM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.MkBindingM">MetavarContext.MkBindingM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><p>Lift a <code>MkBindingM</code> monadic action <code>x</code> to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.liftMkBindingM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Expr.abstractRangeM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1040-L1048">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM"><span class="name">Lean</span>.<span class="name">Expr</span>.<span class="name">abstractRangeM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Similar to <code>abstracM</code> but consider only the first <code>min n xs.size</code> entries in <code>xs</code></p><p>It is also similar to <code>Expr.abstractRange</code>, but handles metavariables correctly.
It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps">elimMVarDeps</a></code> to ensure <code>e</code> and the type of the free variables <code>xs</code> do not
contain a metavariable <code>?m</code> s.t. local context of <code>?m</code> contains a free variable in <code>xs</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">e</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">abstractRangeM</a></span> <span class="fn">n</span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> <span class="fn">(<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.abstractRange">Lean.MetavarContext.abstractRange</a> <span class="fn">e</span> <span class="fn">n</span> <span class="fn">xs</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Expr.abstractRangeM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Expr.abstractM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1050-L1055">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractM"><span class="name">Lean</span>.<span class="name">Expr</span>.<span class="name">abstractM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Replace free (or meta) variables <code>xs</code> with loose bound variables.
Similar to <code>Expr.abstract</code>, but handles metavariables correctly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">e</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractM">abstractM</a></span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">e</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">abstractRangeM</a></span> <span class="fn"><span class="fn">xs</span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span> <span class="fn">xs</span></span></li></ul></details><details id="instances-for-list-Lean.Expr.abstractM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.collectForwardDeps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1057-L1062">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.collectForwardDeps"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">collectForwardDeps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">toRevert</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preserveOrder</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span></div></div><p>Collect forward dependencies for the free variables in <code>toRevert</code>.
Recall that when reverting free variables <code>xs</code>, we must also revert their forward dependencies.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.collectForwardDeps">Lean.Meta.collectForwardDeps</a> <span class="fn">toRevert</span> <span class="fn">preserveOrder</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> <span class="fn">(<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.collectForwardDeps">Lean.MetavarContext.collectForwardDeps</a> <span class="fn">toRevert</span> <span class="fn">preserveOrder</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.collectForwardDeps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkForallFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1064-L1070">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkForallFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkForallFVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">binderInfoForMVars</span> : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> := <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">BinderInfo.implicit</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Takes an array <code>xs</code> of free variables or metavariables and a term <code>e</code> that may contain those variables, and abstracts and binds them as universal quantifiers.</p><ul>
<li>if <code>usedOnly = true</code> then only variables that the expression body depends on will appear.</li>
<li>if <code>usedLetOnly = true</code> same as <code>usedOnly</code> except for let-bound variables. (That is, local constants which have been assigned a value.)</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.mkForallFVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkLambdaFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1072-L1076">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLambdaFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLambdaFVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">etaReduce</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">binderInfoForMVars</span> : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> := <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">BinderInfo.implicit</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Takes an array <code>xs</code> of free variables and metavariables and a
body term <code>e</code> and creates <code>fun ..xs =&gt; e</code>, suitably
abstracting <code>e</code> and the types in <code>xs</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.mkLambdaFVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkLetFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1078-L1079">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLetFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLetFVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">binderInfoForMVars</span> : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> := <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">BinderInfo.implicit</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLetFVars">Lean.Meta.mkLetFVars</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">usedLetOnly</span> <span class="fn">binderInfoForMVars</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLambdaFVars">Lean.Meta.mkLambdaFVars</a> <span class="fn">xs</span> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">usedLetOnly</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">binderInfoForMVars</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkLetFVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkFunUnit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1081-L1083">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFunUnit"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkFunUnit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p><code>fun _ : <a href="../.././Init/Prelude.html#Unit">Unit</a> =&gt; a</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFunUnit">Lean.Meta.mkFunUnit</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Lean/CoreM.html#Lean.Core.mkFreshUserName">Lean.mkFreshUserName</a> <span class="fn">`x</span>)</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.mkLambda">Lean.mkLambda</a> <span class="fn">__do_lift</span> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a> <span class="fn">(<a href="../.././Lean/Expr.html#Lean.mkConst">Lean.mkConst</a> <span class="fn">`Unit</span>)</span> <span class="fn">a</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkFunUnit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.elimMVarDeps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1085-L1086">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">elimMVarDeps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preserveOrder</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps">Lean.Meta.elimMVarDeps</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">preserveOrder</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">xs</span>.<a href="../.././Init/Data/Array/Basic.html#Array.isEmpty">isEmpty</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> <span class="fn">(<a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.elimMVarDeps">Lean.MetavarContext.elimMVarDeps</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">preserveOrder</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.elimMVarDeps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withConfig"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1088-L1093">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfig"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withConfig</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfig">withConfig</a> f x</code> executes <code>x</code> using the updated configuration object obtained by applying <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withConfig" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withConfigWithKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1095-L1099">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfigWithKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withConfigWithKey</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ConfigWithKey">ConfigWithKey</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withConfigWithKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withCanUnfoldPred"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1101-L1102">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withCanUnfoldPred"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withCanUnfoldPred</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Config</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withCanUnfoldPred" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withIncSynthPending"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1104-L1105">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withIncSynthPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withIncSynthPending</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withIncSynthPending" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withInTypeClassResolution"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1107-L1108">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withInTypeClassResolution"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withInTypeClassResolution</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withInTypeClassResolution" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withFreshCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1110-L1117">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withFreshCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withFreshCache</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withFreshCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withTrackingZetaDelta"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1119-L1124">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withTrackingZetaDelta"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTrackingZetaDelta</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Executes <code>x</code> tracking zetaDelta reductions <code>Config.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.trackZetaDelta">trackZetaDelta</a> := true</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withTrackingZetaDelta" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withZetaDeltaSet"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1126-L1135">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withZetaDeltaSet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withZetaDeltaSet</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.FVarIdSet">FVarIdSet</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withZetaDeltaSet">withZetaDeltaSet</a> s x</code> executes <code>x</code> with <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context.zetaDeltaSet">zetaDeltaSet</a> := s</code>.
The cache is reset while executing <code>x</code> if <code>s</code> is not empty.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withZetaDeltaSet" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withTrackingZetaDeltaSet"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1137-L1145">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withTrackingZetaDeltaSet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTrackingZetaDeltaSet</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.FVarIdSet">FVarIdSet</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withZetaDeltaSet">withZetaDeltaSet</a></code>, but also enables <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTrackingZetaDelta">withTrackingZetaDelta</a></code> if <code>s</code> is not empty.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withTrackingZetaDeltaSet" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withoutProofIrrelevance"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1147-L1148">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withoutProofIrrelevance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withoutProofIrrelevance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withoutProofIrrelevance" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1156-L1158">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withTransparency</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode">TransparencyMode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <span class="fn">mode</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt;
    <span class="fn"><a href="../.././Init/Prelude.html#MonadWithReader.withReader">withReader</a> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>) =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.Context.setTransparency">Lean.Meta.Context.setTransparency✝</a> <span class="fn">x</span> <span class="fn">mode</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withTransparency" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withDefault"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1160-L1162">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withDefault</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault">withDefault</a> x</code> executes <code>x</code> using the default transparency setting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault">Lean.Meta.withDefault</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withDefault" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withReducible"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1164-L1166">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReducible</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">withReducible</a> x</code> executes <code>x</code> using the reducible transparency setting. In this setting only definitions tagged as <code>[reducible]</code> are unfolded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">Lean.Meta.withReducible</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withReducible" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withReducibleAndInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1168-L1173">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReducibleAndInstances</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances">withReducibleAndInstances</a> x</code> executes <code>x</code> using the <code>.instances</code> transparency setting. In this setting only definitions tagged as <code>[reducible]</code>
or type class instances are unfolded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances">Lean.Meta.withReducibleAndInstances</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.instances">Lean.Meta.TransparencyMode.instances</a> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withReducibleAndInstances" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withAtLeastTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1175-L1182">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withAtLeastTransparency"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAtLeastTransparency</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode">TransparencyMode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Execute <code>x</code> ensuring the transparency setting is at least <code>mode</code>.
Recall that <code>.all &gt; .default &gt; .instances &gt; .reducible</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withAtLeastTransparency" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withAssignableSyntheticOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1184-L1186">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withAssignableSyntheticOpaque"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAssignableSyntheticOpaque</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> allowing <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> to assign synthetic opaque metavariables.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withAssignableSyntheticOpaque" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.savingCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1193-L1194">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.savingCache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">savingCache</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.savingCache">Lean.Meta.savingCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.savingCacheImpl">Lean.Meta.savingCacheImpl✝</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.savingCache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getTheoremInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1196-L1200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getTheoremInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getTheoremInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">info</span> : <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTheoremInfo">Lean.Meta.getTheoremInfo</a> <span class="fn">info</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a>
  <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">info</span>)</span></span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Option.none">none</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getTheoremInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withNewLocalInstance"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1263-L1266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstance"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewLocalInstance</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">className</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvar</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Add entry <code>{ className := className, fvar := fvar }</code> to localInstances,
and then execute continuation <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstance">Lean.Meta.withNewLocalInstance</a> <span class="fn">className</span> <span class="fn">fvar</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewLocalInstanceImp">Lean.Meta.withNewLocalInstanceImp✝</a> <span class="fn">className</span> <span class="fn">fvar</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withNewLocalInstance" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isClass?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1397-L1408">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isClass?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?">isClass?</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a></code> return <code>some ClsName</code> if <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a></code> is an instance of the class <code>ClsName</code>.
Example:</p><pre><code>#eval do
  let x ← mkAppM ``Inhabited #[mkConst ``Nat]
  <a href="../.././Init/System/IO.html#IO.println">IO.println</a> (← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?">isClass?</a> x)
  -- (some Inhabited)
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.isClass?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withNewLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1413-L1414">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewLocalInstances</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fvars</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstances">Lean.Meta.withNewLocalInstances</a> <span class="fn">fvars</span> <span class="fn">j</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewLocalInstancesImpAux">Lean.Meta.withNewLocalInstancesImpAux✝</a> <span class="fn">fvars</span> <span class="fn">j</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withNewLocalInstances" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1419-L1427">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallTelescope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Given <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a></code> of the form <code>forall xs, A</code>, execute <code>k xs A</code>.
This combinator will declare local declarations, create free variables for them,
execute <code>k</code> with updated local context, and make sure the cache is restored after executing <code>k</code>.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.forallTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mapForallTelescope'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1429-L1436">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapForallTelescope'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapForallTelescope'</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">forallTerm</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Given a monadic function <code>f</code> that takes a type and a term of that type and produces a new term,
lifts this to the monadic function that opens a <code>∀</code> telescope, applies <code>f</code> to the body,
and then builds the lambda telescope term for the new term.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.mapForallTelescope'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mapForallTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1438-L1444">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapForallTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapForallTelescope</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">forallTerm</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Given a monadic function <code>f</code> that takes a term and produces a new term,
lifts this to the monadic function that opens a <code>∀</code> telescope, applies <code>f</code> to the body,
and then builds the lambda telescope term for the new term.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapForallTelescope">Lean.Meta.mapForallTelescope</a> <span class="fn">f</span> <span class="fn">forallTerm</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapForallTelescope'">Lean.Meta.mapForallTelescope'</a> <span class="fn">(fun (<span class="fn">x</span> <span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>) =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">e</span></span>)</span> <span class="fn">forallTerm</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mapForallTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallTelescopeReducing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1449-L1456">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescopeReducing"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallTelescopeReducing</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope">forallTelescope</a></code>, but given <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a></code> of the form <code>forall xs, A</code>,
it reduces <code>A</code> and continues building the telescope if it is a <code>forall</code>.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.forallTelescopeReducing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallBoundedTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1461-L1468">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallBoundedTelescope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">maxFVars?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescopeReducing">forallTelescopeReducing</a></code>, stops constructing the telescope when
it reaches size <code>maxFVars</code>.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.forallBoundedTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaLetTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1497-L1503">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaLetTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaLetTelescope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope">lambdaTelescope</a></code> but for lambda and let expressions.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.lambdaLetTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1505-L1513">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaTelescope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Given <code>e</code> of the form <code>fun ..xs =&gt; A</code>, execute <code>k xs A</code>.
This combinator will declare local declarations, create free variables for them,
execute <code>k</code> with updated local context, and make sure the cache is restored after executing <code>k</code>.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.lambdaTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaBoundedTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1515-L1524">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaBoundedTelescope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">maxFVars</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Given <code>e</code> of the form <code>fun ..xs ..ys =&gt; A</code>, execute <code>k xs (fun ..ys =&gt; A)</code> where
<code>xs.size ≤ maxFVars</code>.
This combinator will declare local declarations, create free variables for them,
execute <code>k</code> with updated local context, and make sure the cache is restored after executing <code>k</code>.</p><p>If <code>cleanupAnnotations</code> is <code>true</code>, we apply <code>Expr.cleanupAnnotations</code> to each type in the telescope.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.lambdaBoundedTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getParamNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1526-L1531">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getParamNames"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getParamNames</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span></div></div><p>Return the parameter names for the given global declaration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.getParamNames" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1562-L1570">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaTelescope</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Given <code>e</code> of the form <code>forall ..xs, A</code>, this combinator will create a new
metavariable for each <code>x</code> in <code>xs</code> and instantiate <code>A</code> with these.
Returns a product containing</p><ul>
<li>the new metavariables</li>
<li>the binder info for the <code>xs</code></li>
<li>the instantiated <code>A</code></li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope">Lean.Meta.forallMetaTelescope</a> <span class="fn">e</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux✝</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <a href="../.././Init/Prelude.html#Option.none">none</a> <span class="fn">kind</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.forallMetaTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaTelescopeReducing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1572-L1575">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaTelescopeReducing</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">maxMVars?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope">forallMetaTelescope</a></code>, but if <code>e = forall ..xs, A</code>
it will reduce <code>A</code> to construct further mvars.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing">Lean.Meta.forallMetaTelescopeReducing</a> <span class="fn">e</span> <span class="fn">maxMVars?</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux✝</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">maxMVars?</span> <span class="fn">kind</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.forallMetaTelescopeReducing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaBoundedTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1577-L1580">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaBoundedTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">forallMetaBoundedTelescope</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">maxMVars</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">MetavarKind</a> := <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">MetavarKind.natural</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing">forallMetaTelescopeReducing</a></code>, stops
constructing the telescope when it reaches size <code>maxMVars</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaBoundedTelescope">Lean.Meta.forallMetaBoundedTelescope</a> <span class="fn">e</span> <span class="fn">maxMVars</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux✝</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">maxMVars</span>)</span> <span class="fn">kind</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.forallMetaBoundedTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaMetaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1582-L1600">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaMetaTelescope</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">maxMVars?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Similar to <code>forallMetaTelescopeReducingAux</code> but for lambda expressions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope">Lean.Meta.lambdaMetaTelescope</a> <span class="fn">e</span> <span class="fn">maxMVars?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope.process">Lean.Meta.lambdaMetaTelescope.process</a> <span class="fn">maxMVars?</span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">0</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.lambdaMetaTelescope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaMetaTelescope.process"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1586-L1600">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope.process"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">lambdaMetaTelescope</span>.<span class="name">process</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">maxMVars?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mvars</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bis</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">j</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div></div></div><div class="decl" id="Lean.Meta.withLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1616-L1619">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> := <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind.default">LocalDeclKind.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Create a free variable <code>x</code> with name, binderInfo and type, add it to the context and run in <code>k</code>.
Then revert the context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a> <span class="fn">name</span> <span class="fn">bi</span> <span class="fn">type</span> <span class="fn">k</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span>) =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLocalDeclImp">Lean.Meta.withLocalDeclImp✝</a> <span class="fn">name</span> <span class="fn">bi</span> <span class="fn">type</span> <span class="fn">k</span> <span class="fn">kind</span></span>)</span>
    <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDeclD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1621-L1622">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclD</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclD">Lean.Meta.withLocalDeclD</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a> <span class="fn">name</span> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a> <span class="fn">type</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDeclD" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDeclNoLocalInstanceUpdate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1624-L1630">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclNoLocalInstanceUpdate"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclNoLocalInstanceUpdate</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">withLocalDecl</a></code>, but it does <strong>not</strong> check whether the new variable is a local instance or not.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDeclNoLocalInstanceUpdate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1632-L1653">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecls</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declInfos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Append an array of free variables <code>xs</code> to the local context and execute <code>k xs</code>.
<code>declInfos</code> takes the form of an array consisting of:</p><ul>
<li>the name of the variable</li>
<li>the binder info of the variable</li>
<li>a type constructor for the variable, where the array consists of all of the free variables
defined prior to this one. This is needed because the type of the variable may depend on prior variables.</li>
</ul><p>See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsD">withLocalDeclsD</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsDND">withLocalDeclsDND</a></code> for simpler variants.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls">Lean.Meta.withLocalDecls</a> <span class="fn">declInfos</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls.loop">Lean.Meta.withLocalDecls.loop</a> <span class="fn">declInfos</span> <span class="fn">k</span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDecls.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1648-L1653">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls.loop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDecls</span>.<span class="name">loop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declInfos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">acc</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div></div></div><div class="decl" id="Lean.Meta.withLocalDeclsD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1655-L1660">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclsD</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declInfos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">(<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Variant of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls">withLocalDecls</a></code> using <code>Binderinfo.default</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDeclsD" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDeclsDND"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1662-L1668">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsDND"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalDeclsDND</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">declInfos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Simpler variant of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsD">withLocalDeclsD</a></code> for bringing variables into scope whose types do not depend
on each other.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withLocalDeclsDND" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withAuxDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1678-L1683">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withAuxDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withAuxDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">shortDeclName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Declare an auxiliary local declaration <code>shortDeclName : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.type">type</a></code> for elaborating recursive
declaration <code>declName</code>, update the mapping <code>auxDeclToFullName</code>, and then execute <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withAuxDecl">Lean.Meta.withAuxDecl</a> <span class="fn">shortDeclName</span> <span class="fn">type</span> <span class="fn">declName</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a>
    <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span>) =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withAuxDeclImp">Lean.Meta.withAuxDeclImp✝</a> <span class="fn">shortDeclName</span> <span class="fn">type</span> <span class="fn">declName</span> <span class="fn">k</span></span>)</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withAuxDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withNewBinderInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1690-L1691">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewBinderInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewBinderInfos</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">bs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewBinderInfos">Lean.Meta.withNewBinderInfos</a> <span class="fn">bs</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewBinderInfosImp">Lean.Meta.withNewBinderInfosImp✝</a> <span class="fn">bs</span> <span class="fn">k</span></span>)</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withNewBinderInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withInstImplicitAsImplict"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1693-L1703">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withInstImplicitAsImplict"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withInstImplicitAsImplict</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><p>Execute <code>k</code> using a local context where any <code>x</code> in <code>xs</code> that is tagged as
instance implicit is treated as a regular implicit.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withInstImplicitAsImplict" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLetDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1713-L1718">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLetDecl"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLetDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type </span><span class="fn">val</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> := <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind.default">LocalDeclKind.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Add the local declaration <code>&lt;name&gt; : &lt;type&gt; := &lt;val&gt;</code> to the local context and execute <code>k x</code>, where <code>x</code> is a new
free variable corresponding to the <code>let</code>-declaration. After executing <code>k x</code>, the local context is restored.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLetDecl">Lean.Meta.withLetDecl</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">k</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span>) =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLetDeclImp">Lean.Meta.withLetDeclImp✝</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">k</span> <span class="fn">kind</span></span>)</span>
    <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLetDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalInstancesImp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1720-L1732">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstancesImp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalInstancesImp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">decls</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withLocalInstancesImp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1734-L1736">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstances"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLocalInstances</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">decls</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Register any local instance in <code>decls</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstances">Lean.Meta.withLocalInstances</a> <span class="fn">decls</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstancesImp">Lean.Meta.withLocalInstancesImp</a> <span class="fn">decls</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLocalInstances" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withExistingLocalDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1744-L1755">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withExistingLocalDecls</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">decls</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">withExistingLocalDecls</a> decls k</code>, adds the given local declarations to the local context,
and then executes <code>k</code>. This method assumes declarations in <code>decls</code> have valid <code>FVarId</code>s.
After executing <code>k</code>, the local context is restored.</p><p>Remark: this method is used, for example, to implement the <code>match</code>-compiler.
Each <code>match</code>-alternative commes with a local declarations (corresponding to pattern variables),
and we use <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">withExistingLocalDecls</a></code> to add them to the local context before we process
them.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">Lean.Meta.withExistingLocalDecls</a> <span class="fn">decls</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withExistingLocalDeclsImp">Lean.Meta.withExistingLocalDeclsImp✝</a> <span class="fn">decls</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withExistingLocalDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withReplaceFVarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1765-L1773">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withReplaceFVarId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withReplaceFVarId</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span></div></div><p>Removes <code>fvarId</code> from the local context, and replaces occurrences of it with <code>e</code>.
It is the responsibility of the caller to ensure that <code>e</code> is well-typed in the context
of any occurrence of <code>fvarId</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withReplaceFVarId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withNewMCtxDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1775-L1783">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withNewMCtxDepth</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">allowLevelAssignments</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a> k</code> executes <code>k</code> with a higher metavariable context depth,
where metavariables created outside the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a></code> (with a lower depth) cannot be assigned.
If <code>allowLevelAssignments</code> is set to true, then the level metavariable depth
is not increased, and level metavariables from the outer scope can be
assigned.  (This is used by TC synthesis.)</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">Lean.Meta.withNewMCtxDepth</a> <span class="fn">k</span> <span class="fn">allowLevelAssignments</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">(fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewMCtxDepthImp">Lean.Meta.withNewMCtxDepthImp✝</a> <span class="fn">allowLevelAssignments</span></span>)</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withNewMCtxDepth" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1789-L1795">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLCtx</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">localInsts</span> : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">withLCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext.lctx">lctx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.localInsts">localInsts</a> k</code> replaces the local context and local instances, and then executes <code>k</code>.
The local context and instances are restored after executing <code>k</code>.
This method assumes that the local instances in <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCacheKey.localInsts">localInsts</a></code> are in the local context <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext.lctx">lctx</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">Lean.Meta.withLCtx</a> <span class="fn">lctx</span> <span class="fn">localInsts</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLocalContextImp">Lean.Meta.withLocalContextImp✝</a> <span class="fn">lctx</span> <span class="fn">localInsts</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withLCtx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withLCtx'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1797-L1802">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx'"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withLCtx'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Simpler version of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">withLCtx</a></code> which just updates the local context. It is the resposability of the
caller ensure the local instances are also properly updated.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withLCtx'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withErasedFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1804-L1812">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withErasedFVars"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withErasedFVars</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fvarIds</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Runs <code>k</code> in a local environment with the <code>fvarIds</code> erased.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.withErasedFVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.withContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1818-L1823">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.withContext"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">withContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Executes <code>x</code> using the given metavariable <code>LocalContext</code> and <code>LocalInstances</code>.
The type class resolution cache is flushed when executing <code>x</code> if its <code>LocalInstances</code> are
different from the current ones.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mvarId</span>.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.withContext">withContext</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withMVarContextImp">Lean.Meta.withMVarContextImp✝</a> <span class="fn">mvarId</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.MVarId.withContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withMCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1830-L1836">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withMCtx</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mctx</span> : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">MetavarContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx">withMCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mctx">mctx</a> k</code> replaces the metavariable context and then executes <code>k</code>.
The metavariable context is restored after executing <code>k</code>.</p><p>This method is used to implement the type class resolution procedure.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx">Lean.Meta.withMCtx</a> <span class="fn">mctx</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withMCtxImp">Lean.Meta.withMCtxImp✝</a> <span class="fn">mctx</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withMCtx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.withoutModifyingMCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1838-L1848">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withoutModifyingMCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">withoutModifyingMCtx</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withoutModifyingMCtx">withoutModifyingMCtx</a> k</code> executes <code>k</code> and then restores the metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withoutModifyingMCtx">Lean.Meta.withoutModifyingMCtx</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} (<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>) =&gt; <span class="fn">do
    let <span class="fn">mctx</span> ← <a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.getMCtx">Lean.getMCtx</a>
    <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">x</span> <span class="fn">do
        <a href="../.././Lean/Meta/Basic.html#Lean.Meta.resetCache">Lean.Meta.resetCache</a>
        <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.setMCtx">Lean.setMCtx</a> <span class="fn">mctx</span></span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.withoutModifyingMCtx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.approxDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1853-L1855">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">approxDefEq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Execute <code>x</code> using approximate unification: <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.foApprox">foApprox</a></code>, <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.ctxApprox">ctxApprox</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.quasiPatternApprox">quasiPatternApprox</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">Lean.Meta.approxDefEq</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.approxDefEqImp">Lean.Meta.approxDefEqImp✝</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.approxDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.fullApproxDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1860-L1868">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.fullApproxDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">fullApproxDefEq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">approxDefEq</a></code>, but uses all available approximations.
We don't use <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.constApprox">constApprox</a></code> by default at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">approxDefEq</a></code> because it often produces undesirable solution for monadic code.
For example, suppose we have <code>pure (x &gt; 0)</code> which has type <code>?m Prop</code>. We also have the goal <code>[Pure ?m]</code>.
Now, assume the expected type is <code><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code>. Then, the unification constraint <code>?m Prop =?= <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code> could be solved
as <code>?m := fun _ =&gt; <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code> using <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config.constApprox">constApprox</a></code>, but this spurious solution would generate a failure when we try to
solve <code>[Pure (fun _ =&gt; <a href="../.././Init/System/IO.html#IO">IO</a> Bool)]</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.fullApproxDefEq">Lean.Meta.fullApproxDefEq</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.fullApproxDefEqImp">Lean.Meta.fullApproxDefEqImp✝</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.fullApproxDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.normalizeLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1870-L1873">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.normalizeLevel"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">normalizeLevel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">u</span> : <a href="../.././Lean/Level.html#Lean.Level">Level</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a></span></div></div><p>Instantiate assigned universe metavariables in <code>u</code>, and then normalize it.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.normalizeLevel">Lean.Meta.normalizeLevel</a> <span class="fn">u</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">u</span> ← <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.instantiateLevelMVars">Lean.instantiateLevelMVars</a> <span class="fn">u</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">u</span>.<a href="../.././Lean/Level.html#Lean.Level.normalize">normalize</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.normalizeLevel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.whnfR"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1875-L1877">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfR"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfR</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> with reducible transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfR">Lean.Meta.whnfR</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.whnfR" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.whnfD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1879-L1881">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfD"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfD</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> with default transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfD">Lean.Meta.whnfD</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.whnfD" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.whnfI"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1883-L1885">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfI"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfI</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> with instances transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfI">Lean.Meta.whnfI</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/MetaTypes.html#Lean.Meta.TransparencyMode.instances">Lean.Meta.TransparencyMode.instances</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.whnfI" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.whnfAtMostI"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1887-L1891">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfAtMostI"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">whnfAtMostI</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> with at most instances transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.whnfAtMostI" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.setInlineAttribute"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1893-L1903">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setInlineAttribute"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">setInlineAttribute</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href="../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind">Compiler.InlineAttributeKind</a> := <a href="../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.inline">Compiler.InlineAttributeKind.inline</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Mark declaration <code>declName</code> with the attribute <code>[inline]</code>.
This method does not check whether the given declaration is a definition.</p><p>Recall that this attribute can only be set in the same module where <code>declName</code> has been declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.setInlineAttribute" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1914-L1916">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForall"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateForall</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Given <code>e</code> of the form <code>forall (a_1 : A_1) ... (a_n : A_n), B[a_1, ..., a_n]</code> and <code>p_1 : A_1, ... p_n : A_n</code>, return <code>B[p_1, ..., p_n]</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForall">Lean.Meta.instantiateForall</a> <span class="fn">e</span> <span class="fn">ps</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.instantiateForallAux">Lean.Meta.instantiateForallAux✝</a> <span class="fn">ps</span> <span class="fn">0</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.instantiateForall" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1927-L1930">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambda"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateLambda</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Given <code>e</code> of the form <code>fun (a_1 : A_1) ... (a_n : A_n) =&gt; t[a_1, ..., a_n]</code> and <code>p_1 : A_1, ... p_n : A_n</code>, return <code>t[p_1, ..., p_n]</code>.
It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> to reduce <code>e</code> if it is not a lambda</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambda">Lean.Meta.instantiateLambda</a> <span class="fn">e</span> <span class="fn">ps</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.instantiateLambdaAux">Lean.Meta.instantiateLambdaAux✝</a> <span class="fn">ps</span> <span class="fn">0</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.instantiateLambda" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ExprParamInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1932-L1942">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ExprParamInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A simpler version of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></code> for information about the parameter of a forall or lambda.</p><ul class="structure_fields" id="Lean.Meta.ExprParamInfo.mk"><li id="Lean.Meta.ExprParamInfo.name" class="structure_field"><div class="structure_field_info">name : <a href="../.././Init/Prelude.html#Lean.Name">Name</a></div><div class="structure_field_doc"><p>The name of the parameter.</p></div></li><li id="Lean.Meta.ExprParamInfo.type" class="structure_field"><div class="structure_field_info">type : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div><div class="structure_field_doc"><p>The type of the parameter.</p></div></li><li id="Lean.Meta.ExprParamInfo.binderInfo" class="structure_field"><div class="structure_field_info">binderInfo : <a href="../.././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></div><div class="structure_field_doc"><p>The binder annotation for the parameter.</p></div></li></ul><details id="instances-for-list-Lean.Meta.ExprParamInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedExprParamInfo"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1942-L1942">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedExprParamInfo"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instInhabitedExprParamInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo">ExprParamInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedExprParamInfo">Lean.Meta.instInhabitedExprParamInfo</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo.mk">{</a> <span class="fn">name</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">type</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">binderInfo</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateForallWithParamInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1944-L1971">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForallWithParamInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateForallWithParamInfos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo">ExprParamInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Given <code>e</code> of the form <code>∀ (p₁ : P₁) … (p₁ : P₁), B[p_1,…,p_n]</code> and <code>arg₁ : P₁, …, argₙ : Pₙ</code>, returns</p><ul>
<li>the names <code>p₁, …, pₙ</code>,</li>
<li>the binder infos,</li>
<li>the binder types <code>P₁, P₂[arg₁], …, P[arg₁,…,argₙ₋₁]</code>, and</li>
<li>the type <code>B[arg₁,…,argₙ]</code>.</li>
</ul><p>It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> to reduce <code>e</code> if it is not a forall.</p><p>See also <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForall">Lean.Meta.instantiateForall</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.instantiateForallWithParamInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateLambdaWithParamInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L1973-L2000">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambdaWithParamInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateLambdaWithParamInfos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupAnnotations</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ExprParamInfo">ExprParamInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></div></div><p>Given <code>e</code> of the form <code>fun (p₁ : P₁) … (p₁ : P₁) =&gt; t[p_1,…,p_n]</code> and <code>arg₁ : P₁, …, argₙ : Pₙ</code>, returns</p><ul>
<li>the names <code>p₁, …, pₙ</code>,</li>
<li>the binder infos,</li>
<li>the binder types <code>P₁, P₂[arg₁], …, P[arg₁,…,argₙ₋₁]</code>, and</li>
<li>the term <code>t[arg₁,…,argₙ]</code>.</li>
</ul><p>It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.whnf">whnf</a></code> to reduce <code>e</code> if it is not a lambda.</p><p>See also <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambda">Lean.Meta.instantiateLambda</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.instantiateLambdaWithParamInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ppExprWithInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2002-L2005">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExprWithInfos"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ppExprWithInfos</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Util/PPExt.html#Lean.FormatWithInfos">FormatWithInfos</a></span></div></div><p>Pretty-print the given expression.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.ppExprWithInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.ppExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2007-L2008">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExpr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">ppExpr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format">Format</a></span></div></div><p>Pretty-print the given expression.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExpr">Lean.Meta.ppExpr</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../.././Lean/Util/PPExt.html#Lean.FormatWithInfos">Lean.FormatWithInfos</a>) =&gt; <span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Util/PPExt.html#Lean.FormatWithInfos.fmt">fmt</a></span>)</span> <a href="../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExprWithInfos">Lean.Meta.ppExprWithInfos</a> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.ppExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.orElse"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2010-L2012">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.orElse"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">orElse</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../.././Init/Prelude.html#Unit">Unit</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.orElse">Lean.Meta.orElse</a> <span class="fn">x</span> <span class="fn">y</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">s</span> ← <a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.saveState">Lean.saveState</a>
  <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn">do
      <span class="fn"><span class="fn">s</span>.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore">restore</a></span>
      <span class="fn"><span class="fn">y</span> <a href="../.././Init/Prelude.html#Unit.unit">(</a><a href="../.././Init/Prelude.html#Unit.unit">)</a></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.orElse" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instOrElseMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2014-L2014">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instOrElseMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instOrElseMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#OrElse">OrElse</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instOrElseMetaM">Lean.Meta.instOrElseMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#OrElse.mk">{</a> <span class="fn">orElse</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.orElse">Lean.Meta.orElse</a> <a href="../.././Init/Prelude.html#OrElse.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.instAlternativeMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2016-L2018">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instAlternativeMetaM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instAlternativeMetaM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Basic.html#Alternative">Alternative</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.orelseMergeErrors"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2039-L2046">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.orelseMergeErrors"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">orelseMergeErrors</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mergeRef</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a></span> := <span class="fn">fun (<span class="fn">r₁</span> <span class="fn">x</span> : <a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a>) =&gt; <span class="fn">r₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mergeMsg</span> : <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span> := <span class="fn">fun (<span class="fn">m₁</span> <span class="fn">m₂</span> : <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a>) =&gt;
  <span class="fn">m₁</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData.ofFormat">MessageData.ofFormat</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format.line">Format.line</a></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData.ofFormat">MessageData.ofFormat</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format.line">Format.line</a></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">m₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Similar to <code>orelse</code>, but merge errors. Note that internal errors are not caught.
The default <code>mergeRef</code> uses the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry.ref">ref</a></code> (position information) for the first message.
The default <code>mergeMsg</code> combines error messages using <code>Format.line ++ Format.line</code> as a separator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.orelseMergeErrors" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mapErrorImp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2048-L2054">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapErrorImp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code>, and apply <code>f</code> to the produced error message</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a> <span class="fn">x</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun (<span class="fn">ex</span> : <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt;
    <span class="fn">match <span class="fn">ex</span> with
    | <span class="fn"><a href="../.././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">(<a href="../.././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">(<span class="fn">f</span> <span class="fn">msg</span>)</span>)</span></span>
    | <span class="fn">ex</span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">ex</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mapErrorImp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mapError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2056-L2057">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapError"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mapError</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapError">Lean.Meta.mapError</a> <span class="fn">x</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun (<span class="fn">runInBase</span> : <span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">β</span>)</span></span></span></span>) =&gt;
    <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a> <span class="fn">(<span class="fn">runInBase</span> <span class="fn">x</span>)</span> <span class="fn">f</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mapError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.sortFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2059-L2069">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.sortFVarIds"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">sortFVarIds</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarIds</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span></div></div><p>Sort free variables using an order <code>x &lt; y</code> iff <code>x</code> was defined before <code>y</code>.
If a free variable is not in the local context, we use their id.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.sortFVarIds" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isInductivePredicate?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2073-L2084">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isInductivePredicate?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isInductivePredicate?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Declaration.html#Lean.InductiveVal">InductiveVal</a>)</span></span></div></div><p>Return <code>some info</code> if <code>declName</code> is an inductive predicate where <code>info : InductiveVal</code>.
That is, <code>inductive</code> type in <code>Prop</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.isInductivePredicate?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isInductivePredicate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2086-L2088">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isInductivePredicate"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isInductivePredicate</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>declName</code> is an inductive predicate. That is, <code>inductive</code> type in <code>Prop</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isInductivePredicate">Lean.Meta.isInductivePredicate</a> <span class="fn">declName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isInductivePredicate?">Lean.Meta.isInductivePredicate?</a> <span class="fn">declName</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Init/Data/Option/Basic.html#Option.isSome">isSome</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.isInductivePredicate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isListLevelDefEqAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2090-L2093">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isListLevelDefEqAux</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a></span> → <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Level</a></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> (<span class="fn">u</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">us</span>) (<span class="fn">v</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">vs</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a> <span class="fn">u</span> <span class="fn">v</span></span> <a href="../.././Init/Control/Basic.html#andM">&lt;&amp;&amp;&gt;</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <span class="fn">us</span> <span class="fn">vs</span></span>)</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.isListLevelDefEqAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getNumPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2095-L2096">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getNumPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getNumPostponed</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getNumPostponed">Lean.Meta.getNumPostponed</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.size">size</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getNumPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.getResetPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2098-L2101">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getResetPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">getResetPostponed</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getResetPostponed">Lean.Meta.getResetPostponed</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">ps</span> ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a>
  <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setPostponed">Lean.Meta.setPostponed</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.mk">{</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.mk">}</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">ps</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.getResetPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkLevelStuckErrorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2127-L2128">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelStuckErrorMessage"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLevelStuckErrorMessage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">entry</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelStuckErrorMessage">Lean.Meta.mkLevelStuckErrorMessage</a> <span class="fn">entry</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkLevelErrorMessageCore">Lean.Meta.mkLevelErrorMessageCore✝</a> <span class="fn">&quot;stuck at solving universe constraint&quot;</span> <span class="fn">entry</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkLevelStuckErrorMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.mkLevelErrorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2130-L2131">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelErrorMessage"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">mkLevelErrorMessage</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">entry</span> : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Message.html#Lean.MessageData">MessageData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelErrorMessage">Lean.Meta.mkLevelErrorMessage</a> <span class="fn">entry</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkLevelErrorMessageCore">Lean.Meta.mkLevelErrorMessageCore✝</a> <span class="fn">&quot;failed to solve universe constraint&quot;</span> <span class="fn">entry</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.mkLevelErrorMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.processPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2144-L2171">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">processPostponed</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mayPostpone</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exceptionOnFailure</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.processPostponed" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.processPostponed.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2151-L2170">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed.loop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">processPostponed</span>.<span class="name">loop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mayPostpone</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exceptionOnFailure</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Meta.checkpointDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2173-L2208">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">checkpointDefEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mayPostpone</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq">checkpointDefEq</a> x</code> executes <code>x</code> and process all postponed universe level constraints produced by <code>x</code>.
We keep the modifications only if <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed">processPostponed</a></code> return true and <code>x</code> returned <code>true</code>.</p><p>If <code>mayPostpone == false</code>, all new postponed universe level constraints must be solved before returning.
We currently try to postpone universe constraints as much as possible, even when by postponing them we
are not sure whether <code>x</code> really succeeded or not.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.checkpointDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isLevelDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2210-L2214">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isLevelDefEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">u </span><span class="fn">v</span> : <a href="../.././Lean/Level.html#Lean.Level">Level</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Determines whether two universe level expressions are definitionally equal to each other.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEq">Lean.Meta.isLevelDefEq</a> <span class="fn">u</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq">Lean.Meta.checkpointDefEq</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a> <span class="fn">u</span> <span class="fn">v</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.isLevelDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isExprDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2216-L2239">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t </span><span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.isExprDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2241-L2254">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t </span><span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Determines whether two expressions are definitionally equal to each other.</p><p>To control how metavariables are assigned and unified, metavariables and their context have a &quot;depth&quot;.
Given a metavariable <code>?m</code> and a <code>MetavarContext</code> <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.State.mctx">mctx</a></code>, <code>?m</code> is not assigned if <code>?m.depth != mctx.depth</code>.
The combinator <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a> x</code> will bump the depth while executing <code>x</code>.
So, <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a> (isDefEq a b)</code> is <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> without any mvar assignment happening
whereas <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a> a b</code> will assign any metavariables of the current depth in <code>a</code> and <code>b</code> to unify them.</p><p>For matching (where only mvars in <code>b</code> should be assigned), we create the term inside the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a></code>.
For an example, see <a href="https://github.com/leanprover/lean4/blob/master/src/Lean/Meta/Tactic/Simp/Rewrite.lean#L100-L106">Lean.Meta.Simp.tryTheoremWithExtraArgs?</a></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEq">Lean.Meta.isExprDefEq</a> <span class="fn">t</span> <span class="fn">s</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.isDefEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isExprDefEqGuarded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2256-L2257">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqGuarded"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isExprDefEqGuarded</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.isExprDefEqGuarded" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEqGuarded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2259-L2261">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqGuarded"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqGuarded</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t </span><span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>, but returns <code>false</code> if an exception has been thrown.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqGuarded">Lean.Meta.isDefEqGuarded</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqGuarded">Lean.Meta.isExprDefEqGuarded</a> <span class="fn">t</span> <span class="fn">s</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.isDefEqGuarded" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEqNoConstantApprox"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2263-L2264">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqNoConstantApprox"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">isDefEqNoConstantApprox</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">t </span><span class="fn">s</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqNoConstantApprox">Lean.Meta.isDefEqNoConstantApprox</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">Lean.Meta.approxDefEq</a> <span class="fn">(<a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a> <span class="fn">t</span> <span class="fn">s</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.isDefEqNoConstantApprox" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MVarId.checkedAssign"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2266-L2272">source</a></div><div class="attributes">@[extern  lean_checked_assign]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.checkedAssign"><span class="name">Lean</span>.<span class="name">MVarId</span>.<span class="name">checkedAssign</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">val</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if <code>mvarId := val</code> was successfully assigned.
This method uses the same assignment validation performed by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>, but it does not check whether the types match.</p></div></div><div class="decl" id="Lean.Meta.etaExpand"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2274-L2283">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.etaExpand"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">etaExpand</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Eta expand the given expression.
Example:</p><pre><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.etaExpand">etaExpand</a> (mkConst ``Nat.add)
</code></pre><p>produces <code>fun x y =&gt; <a href="../.././Init/Prelude.html#Nat.add">Nat.add</a> x y</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.etaExpand" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateMVarsIfMVarApp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2285-L2292">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateMVarsIfMVarApp"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instantiateMVarsIfMVarApp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>If <code>e</code> is of the form <code>?m ...</code> instantiate metavars</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateMVarsIfMVarApp">Lean.Meta.instantiateMVarsIfMVarApp</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">e</span>.<a href="../.././Lean/Expr.html#Lean.Expr.getAppFn">getAppFn</a></span>.<a href="../.././Lean/Expr.html#Lean.Expr.isMVar">isMVar</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.instantiateMVars">Lean.instantiateMVars</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.instantiateMVarsIfMVarApp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.instTypeNameRealizeConstantResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2311-L2311">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instTypeNameRealizeConstantResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">instTypeNameRealizeConstantResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Dynamic.html#TypeName">TypeName</a> <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.RealizeConstantResult">Lean.Meta.RealizeConstantResult✝</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instTypeNameRealizeConstantResult">Lean.Meta.instTypeNameRealizeConstantResult</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.inst._@.Lean.Meta.Basic._hyg.20297">Lean.Meta.inst✝</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.realizeConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2313-L2403">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">realizeConst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">forConst </span><span class="fn">constName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">realize</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Makes the helper constant <code>constName</code> that is derived from <code>forConst</code> available in the environment.
<code>enableRealizationsForConst forConst</code> must have been called first on this environment branch. If
this is the first environment branch requesting <code>constName</code> to be realized (atomically), <code>realize</code>
is called with the environment and options at the time of calling <code>enableRealizationsForConst</code> if
<code>forConst</code> is from the current module and the state just after importing  otherwise, thus helping
achieve deterministic results despite the non-deterministic choice of which thread is tasked with
realization. In other words, the state after calling <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst">realizeConst</a></code> is <em>as if</em> <code>realize</code> had been
called immediately after <code>enableRealizationsForConst forConst</code>, though the effects of this call are
visible only after calling <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst">realizeConst</a></code>. See below for more details on the replayed effects.</p><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst">realizeConst</a></code> cannot check what other data is captured in the <code>realize</code> closure,
so it is best practice to extract it into a separate function and pay close attention to the passed
arguments, if any. <code>realize</code> must return with <code>constName</code> added to the environment,
at which point all callers of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst">realizeConst</a></code> with this <code>constName</code> will be unblocked
and have access to an updated version of their own environment containing any new constants
<code>realize</code> added, including recursively realized constants. Traces, diagnostics, and raw std stream
output are reported at all callers via <code>Core.logSnapshotTask</code> (so that the location of generated
diagnostics is deterministic). Note that, as <code>realize</code> is run using the options at declaration time
of <code>forConst</code>, trace options must be set prior to that (or, for imported constants, on the cmdline)
in order to be active. The environment extension state at the end of <code>realize</code> is available to each
caller via <code>EnvExtension.findStateAsync</code> for <code>constName</code>. If <code>realize</code> throws an exception or fails
to add <code>constName</code> to the environment, an appropriate diagnostic is reported to all callers but no
constants are added to the environment.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.realizeConst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.realizeConst.realizeAndReport"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Meta/Basic.lean#L2377-L2403">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.realizeConst.realizeAndReport"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">realizeConst</span>.<span class="name">realizeAndReport</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">constName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">realize</span> : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">coreCtx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">opts</span> : <a href="../.././Lean/Data/Options.html#Lean.Options">Options</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> (<a href="../.././Lean/Environment.html#Lean.Environment">Environment</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Dynamic.html#Dynamic">Dynamic</a>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.realizeConst.realizeAndReport" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>