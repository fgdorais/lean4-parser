<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Util.Diff</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Util.Diff";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Util</span>.<span class="name">Diff</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init/Omega.html">Init.Omega</a></li><li><a href="../.././Init/Data/Range.html">Init.Data.Range</a></li><li><a href="../.././Std/Data/HashMap/Basic.html">Std.Data.HashMap.Basic</a></li><li><a href="../.././Init/Data/Array/Subarray/Split.html">Init.Data.Array.Subarray.Split</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Util.Diff" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Action"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Action</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.instReprAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instReprAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.instBEqAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instBEqAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.instHashableAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instHashableAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.instToStringAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instToStringAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Action.linePrefix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Action</span>.<span class="name">linePrefix</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Histogram.Entry"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">Entry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Histogram"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Histogram.addLeft"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">addLeft</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.Histogram.addRight"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">addRight</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.matchPrefix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchPrefix</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.matchPrefix.go"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchPrefix</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.matchSuffix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchSuffix</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.matchSuffix.go"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchSuffix</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.lcs"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">lcs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.diff"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">diff</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Diff.linesToString"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">linesToString</span></a></div></nav><main>
<div class="decl" id="Lean.Diff.Action"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L13-L23">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Action"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Action</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>An action in an edit script to transform one source sequence into a target sequence.</p><ul class="constructors"><li class="constructor" id="Lean.Diff.Action.insert">insert : <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a><div class="inductive_ctor_doc"><p>Insert the item into the source</p></div></li><li class="constructor" id="Lean.Diff.Action.delete">delete : <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a><div class="inductive_ctor_doc"><p>Delete the item from the source</p></div></li><li class="constructor" id="Lean.Diff.Action.skip">skip : <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a><div class="inductive_ctor_doc"><p>Leave the item in the source</p></div></li></ul><details id="instances-for-list-Lean.Diff.Action" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.instReprAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L23-L23">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.instReprAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instReprAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Util/Diff.html#Lean.Diff.instReprAction">Lean.Diff.instReprAction</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Lean/Util/Diff.html#_private.Lean.Util.Diff.0.Lean.Diff.reprAction._@.Lean.Util.Diff._hyg.9">Lean.Diff.reprAction✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Diff.instBEqAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L23-L23">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.instBEqAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instBEqAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Util/Diff.html#Lean.Diff.instBEqAction">Lean.Diff.instBEqAction</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Util/Diff.html#_private.Lean.Util.Diff.0.Lean.Diff.beqAction._@.Lean.Util.Diff._hyg.125">Lean.Diff.beqAction✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Diff.instHashableAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L23-L23">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.instHashableAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instHashableAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Util/Diff.html#Lean.Diff.instHashableAction">Lean.Diff.instHashableAction</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../.././Lean/Util/Diff.html#_private.Lean.Util.Diff.0.Lean.Diff.hashAction._@.Lean.Util.Diff._hyg.143">Lean.Diff.hashAction✝</a> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Diff.instToStringAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L25-L29">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.instToStringAction"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">instToStringAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Diff.Action.linePrefix"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L31-L39">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Action.linePrefix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Action</span>.<span class="name">linePrefix</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">action</span> : <a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#String">String</a></div></div><p>Determines a prefix to show on a given line when printing diff results.</p><p>For <code><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.delete">delete</a></code>, the prefix is <code>&quot;-&quot;</code>, for <code><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.insert">insert</a></code>, it is <code>&quot;+&quot;</code>, and for <code><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.skip">skip</a></code> it is <code>&quot; &quot;</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.delete">Lean.Diff.Action.delete</a>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.linePrefix">linePrefix</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;-&quot;</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.insert">Lean.Diff.Action.insert</a>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.linePrefix">linePrefix</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;+&quot;</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.skip">Lean.Diff.Action.skip</a>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Action.linePrefix">linePrefix</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot; &quot;</span></li></ul></details><details id="instances-for-list-Lean.Diff.Action.linePrefix" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.Histogram.Entry"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L41-L57">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">Entry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lsize </span><span class="fn">rsize</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A histogram entry consists of the number of times the element occurs in the left and right input
arrays along with an index at which the element can be found, if applicable.</p><ul class="structure_fields" id="Lean.Diff.Histogram.Entry.mk"><li id="Lean.Diff.Histogram.Entry.leftCount" class="structure_field"><div class="structure_field_info">leftCount : <a href="../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>How many times the element occurs in the left array</p></div></li><li id="Lean.Diff.Histogram.Entry.leftIndex" class="structure_field"><div class="structure_field_info">leftIndex : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">lsize</span>)</span></span></div><div class="structure_field_doc"><p>An index of the element in the left array, if applicable</p></div></li><li id="Lean.Diff.Histogram.Entry.leftWF" class="structure_field"><div class="structure_field_info">leftWF : <span class="fn"><span class="fn">self</span>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry.leftCount">leftCount</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">self</span>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry.leftIndex">leftIndex</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Option.none">none</a></div><div class="structure_field_doc"><p>Invariant: the count is non-zero iff there is a saved index</p></div></li><li id="Lean.Diff.Histogram.Entry.rightCount" class="structure_field"><div class="structure_field_info">rightCount : <a href="../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>How many times the element occurs in the right array</p></div></li><li id="Lean.Diff.Histogram.Entry.rightIndex" class="structure_field"><div class="structure_field_info">rightIndex : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">rsize</span>)</span></span></div><div class="structure_field_doc"><p>An index of the element in the right array, if applicable</p></div></li><li id="Lean.Diff.Histogram.Entry.rightWF" class="structure_field"><div class="structure_field_info">rightWF : <span class="fn"><span class="fn">self</span>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry.rightCount">rightCount</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">self</span>.<a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry.rightIndex">rightIndex</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Option.none">none</a></div><div class="structure_field_doc"><p>Invariant: the count is non-zero iff there is a saved index</p></div></li></ul><details id="instances-for-list-Lean.Diff.Histogram.Entry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.Histogram"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L59-L61">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lsize </span><span class="fn">rsize</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a> u</div></div><p>A histogram for arrays maps each element to a count and, if applicable, an index.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram">Lean.Diff.Histogram</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.Entry">Lean.Diff.Histogram.Entry</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Diff.Histogram" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.Histogram.addLeft"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L68-L80">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.addLeft"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">addLeft</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lsize </span><span class="fn">rsize</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">histogram</span> : <span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram">Histogram</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <span class="fn"><a href="../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">lsize</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">val</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram">Histogram</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span></span></div></div><p>Add an element from the left array to a histogram</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.Histogram.addLeft" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.Histogram.addRight"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L82-L95">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram.addRight"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">Histogram</span>.<span class="name">addRight</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lsize </span><span class="fn">rsize</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">histogram</span> : <span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram">Histogram</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <span class="fn"><a href="../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">rsize</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">val</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.Histogram">Histogram</a> <span class="fn">α</span> <span class="fn">lsize</span> <span class="fn">rsize</span></span></div></div><p>Add an element from the right array to a histogram</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.Histogram.addRight" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.matchPrefix"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L97-L107">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.matchPrefix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchPrefix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">left </span><span class="fn">right</span> : <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span></div></div><p>Given two <code><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a></code>s, find their common prefix and return their differing suffixes</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.matchPrefix">Lean.Diff.matchPrefix</a> <span class="fn">left</span> <span class="fn">right</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.matchPrefix.go">Lean.Diff.matchPrefix.go</a> <span class="fn">left</span> <span class="fn">right</span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Lean.Diff.matchPrefix" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.matchPrefix.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L99-L105">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.matchPrefix.go"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchPrefix</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">left </span><span class="fn">right</span> : <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pref</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.matchPrefix.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.matchSuffix"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L110-L121">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.matchSuffix"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchSuffix</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">left </span><span class="fn">right</span> : <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span></div></div><p>Given two <code><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a></code>s, find their common suffix and return their differing prefixes</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.matchSuffix">Lean.Diff.matchSuffix</a> <span class="fn">left</span> <span class="fn">right</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Util/Diff.html#Lean.Diff.matchSuffix.go">Lean.Diff.matchSuffix.go</a> <span class="fn">left</span> <span class="fn">right</span> <span class="fn">0</span></span></li></ul></details><details id="instances-for-list-Lean.Diff.matchSuffix" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.matchSuffix.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L112-L119">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.matchSuffix.go"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">matchSuffix</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">left </span><span class="fn">right</span> : <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.matchSuffix.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.lcs"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L123-L155">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.lcs"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">lcs</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">left </span><span class="fn">right</span> : <span class="fn"><a href="../.././Init/Data/Array/Subarray.html#Subarray">Subarray</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span></div></div><p>Finds the least common subsequence of two arrays using a variant of jgit's histogram diff algorithm.</p><p>Unlike jgit's implementation, this one does not perform a cutoff on histogram bucket sizes, nor does
it fall back to the Myers diff algorithm. This means that it has quadratic worst-case complexity.
Empirically, however, even quadratic cases of this implementation can handle hundreds of megabytes
in a second or so, and it is intended to be used for short strings like error messages. Be
cautious when applying it to larger workloads.</p></div></div><div class="decl" id="Lean.Diff.diff"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L157-L188">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.diff"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">diff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">original </span><span class="fn">edited</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span>)</span></div></div><p>Computes an edit script to transform <code>left</code> into <code>right</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.diff" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Diff.linesToString"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Util/Diff.lean#L190-L199">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Util/Diff.html#Lean.Diff.linesToString"><span class="name">Lean</span>.<span class="name">Diff</span>.<span class="name">linesToString</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lines</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Lean/Util/Diff.html#Lean.Diff.Action">Action</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#String">String</a></div></div><p>Shows a line-by-line edit script with markers for added and removed lines.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Diff.linesToString" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>