<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Init.System.IO</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Init.System.IO";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Init</span>.<span class="name">System</span>.<span class="name">IO</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init/Data/Ord.html">Init.Data.Ord</a></li><li><a href="../.././Init/System/FilePath.html">Init.System.FilePath</a></li><li><a href="../.././Init/System/IOError.html">Init.System.IOError</a></li><li><a href="../.././Init/System/ST.html">Init.System.ST</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Init.System.IO" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#IO.RealWorld"><span class="name">IO</span>.<span class="name">RealWorld</span></a></div><div class="nav_link"><a class="break_within" href="#EIO"><span class="name">EIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadEIO"><span class="name">instMonadEIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadFinallyEIO"><span class="name">instMonadFinallyEIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadExceptOfEIO"><span class="name">instMonadExceptOfEIO</span></a></div><div class="nav_link"><a class="break_within" href="#instOrElseEIO"><span class="name">instOrElseEIO</span></a></div><div class="nav_link"><a class="break_within" href="#instInhabitedEIO"><span class="name">instInhabitedEIO</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO"><span class="name">BaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadBaseIO"><span class="name">instMonadBaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadFinallyBaseIO"><span class="name">instMonadFinallyBaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.toEIO"><span class="name">BaseIO</span>.<span class="name">toEIO</span></a></div><div class="nav_link"><a class="break_within" href="#instMonadLiftBaseIOEIO"><span class="name">instMonadLiftBaseIOEIO</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.toBaseIO"><span class="name">EIO</span>.<span class="name">toBaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.catchExceptions"><span class="name">EIO</span>.<span class="name">catchExceptions</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.ofExcept"><span class="name">EIO</span>.<span class="name">ofExcept</span></a></div><div class="nav_link"><a class="break_within" href="#IO"><span class="name">IO</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.toIO"><span class="name">BaseIO</span>.<span class="name">toIO</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.toIO"><span class="name">EIO</span>.<span class="name">toIO</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.toIO'"><span class="name">EIO</span>.<span class="name">toIO'</span></a></div><div class="nav_link"><a class="break_within" href="#IO.toEIO"><span class="name">IO</span>.<span class="name">toEIO</span></a></div><div class="nav_link"><a class="break_within" href="#unsafeBaseIO"><span class="name">unsafeBaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#unsafeEIO"><span class="name">unsafeEIO</span></a></div><div class="nav_link"><a class="break_within" href="#unsafeIO"><span class="name">unsafeIO</span></a></div><div class="nav_link"><a class="break_within" href="#timeit"><span class="name">timeit</span></a></div><div class="nav_link"><a class="break_within" href="#allocprof"><span class="name">allocprof</span></a></div><div class="nav_link"><a class="break_within" href="#IO.initializing"><span class="name">IO</span>.<span class="name">initializing</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.asTask"><span class="name">BaseIO</span>.<span class="name">asTask</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.mapTask"><span class="name">BaseIO</span>.<span class="name">mapTask</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.bindTask"><span class="name">BaseIO</span>.<span class="name">bindTask</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.chainTask"><span class="name">BaseIO</span>.<span class="name">chainTask</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.mapTasks"><span class="name">BaseIO</span>.<span class="name">mapTasks</span></a></div><div class="nav_link"><a class="break_within" href="#BaseIO.mapTasks.go"><span class="name">BaseIO</span>.<span class="name">mapTasks</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.asTask"><span class="name">EIO</span>.<span class="name">asTask</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.mapTask"><span class="name">EIO</span>.<span class="name">mapTask</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.bindTask"><span class="name">EIO</span>.<span class="name">bindTask</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.chainTask"><span class="name">EIO</span>.<span class="name">chainTask</span></a></div><div class="nav_link"><a class="break_within" href="#EIO.mapTasks"><span class="name">EIO</span>.<span class="name">mapTasks</span></a></div><div class="nav_link"><a class="break_within" href="#IO.ofExcept"><span class="name">IO</span>.<span class="name">ofExcept</span></a></div><div class="nav_link"><a class="break_within" href="#IO.lazyPure"><span class="name">IO</span>.<span class="name">lazyPure</span></a></div><div class="nav_link"><a class="break_within" href="#IO.monoMsNow"><span class="name">IO</span>.<span class="name">monoMsNow</span></a></div><div class="nav_link"><a class="break_within" href="#IO.monoNanosNow"><span class="name">IO</span>.<span class="name">monoNanosNow</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getRandomBytes"><span class="name">IO</span>.<span class="name">getRandomBytes</span></a></div><div class="nav_link"><a class="break_within" href="#IO.sleep"><span class="name">IO</span>.<span class="name">sleep</span></a></div><div class="nav_link"><a class="break_within" href="#IO.asTask"><span class="name">IO</span>.<span class="name">asTask</span></a></div><div class="nav_link"><a class="break_within" href="#IO.mapTask"><span class="name">IO</span>.<span class="name">mapTask</span></a></div><div class="nav_link"><a class="break_within" href="#IO.bindTask"><span class="name">IO</span>.<span class="name">bindTask</span></a></div><div class="nav_link"><a class="break_within" href="#IO.chainTask"><span class="name">IO</span>.<span class="name">chainTask</span></a></div><div class="nav_link"><a class="break_within" href="#IO.mapTasks"><span class="name">IO</span>.<span class="name">mapTasks</span></a></div><div class="nav_link"><a class="break_within" href="#IO.checkCanceled"><span class="name">IO</span>.<span class="name">checkCanceled</span></a></div><div class="nav_link"><a class="break_within" href="#IO.cancel"><span class="name">IO</span>.<span class="name">cancel</span></a></div><div class="nav_link"><a class="break_within" href="#IO.TaskState"><span class="name">IO</span>.<span class="name">TaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instInhabitedTaskState"><span class="name">IO</span>.<span class="name">instInhabitedTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instReprTaskState"><span class="name">IO</span>.<span class="name">instReprTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instDecidableEqTaskState"><span class="name">IO</span>.<span class="name">instDecidableEqTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instOrdTaskState"><span class="name">IO</span>.<span class="name">instOrdTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instLTTaskState"><span class="name">IO</span>.<span class="name">instLTTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instLETaskState"><span class="name">IO</span>.<span class="name">instLETaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instMinTaskState"><span class="name">IO</span>.<span class="name">instMinTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instMaxTaskState"><span class="name">IO</span>.<span class="name">instMaxTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.TaskState.toString"><span class="name">IO</span>.<span class="name">TaskState</span>.<span class="name">toString</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instToStringTaskState"><span class="name">IO</span>.<span class="name">instToStringTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getTaskState"><span class="name">IO</span>.<span class="name">getTaskState</span></a></div><div class="nav_link"><a class="break_within" href="#IO.hasFinished"><span class="name">IO</span>.<span class="name">hasFinished</span></a></div><div class="nav_link"><a class="break_within" href="#IO.wait"><span class="name">IO</span>.<span class="name">wait</span></a></div><div class="nav_link"><a class="break_within" href="#IO.waitAny"><span class="name">IO</span>.<span class="name">waitAny</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getNumHeartbeats"><span class="name">IO</span>.<span class="name">getNumHeartbeats</span></a></div><div class="nav_link"><a class="break_within" href="#IO.setNumHeartbeats"><span class="name">IO</span>.<span class="name">setNumHeartbeats</span></a></div><div class="nav_link"><a class="break_within" href="#IO.addHeartbeats"><span class="name">IO</span>.<span class="name">addHeartbeats</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Mode"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Mode</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Stream"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instInhabitedStream"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instInhabitedStream</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getStdin"><span class="name">IO</span>.<span class="name">getStdin</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getStdout"><span class="name">IO</span>.<span class="name">getStdout</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getStderr"><span class="name">IO</span>.<span class="name">getStderr</span></a></div><div class="nav_link"><a class="break_within" href="#IO.setStdin"><span class="name">IO</span>.<span class="name">setStdin</span></a></div><div class="nav_link"><a class="break_within" href="#IO.setStdout"><span class="name">IO</span>.<span class="name">setStdout</span></a></div><div class="nav_link"><a class="break_within" href="#IO.setStderr"><span class="name">IO</span>.<span class="name">setStderr</span></a></div><div class="nav_link"><a class="break_within" href="#IO.iterate"><span class="name">IO</span>.<span class="name">iterate</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.mk"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">mk</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.lock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">lock</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.tryLock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">tryLock</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.unlock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">unlock</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.isTty"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">isTty</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.flush"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">flush</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.rewind"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">rewind</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.truncate"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">truncate</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.read"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">read</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.write"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">write</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.getLine"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">getLine</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.putStr"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">putStr</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.realPath"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">realPath</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.removeFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.removeDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.createDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.rename"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">rename</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.createTempFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createTempFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.createTempDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createTempDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getEnv"><span class="name">IO</span>.<span class="name">getEnv</span></a></div><div class="nav_link"><a class="break_within" href="#IO.appPath"><span class="name">IO</span>.<span class="name">appPath</span></a></div><div class="nav_link"><a class="break_within" href="#IO.currentDir"><span class="name">IO</span>.<span class="name">currentDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.withFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.putStrLn"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">putStrLn</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.readBinToEndInto"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEndInto</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.readBinToEndInto.loop"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEndInto</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.readBinToEnd"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEnd</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Handle.readToEnd"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readToEnd</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.lines"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">lines</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.lines.read"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">lines</span>.<span class="name">read</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.writeBinFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">writeBinFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.writeFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">writeFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Stream.putStrLn"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">putStrLn</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.DirEntry"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">DirEntry</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instReprDirEntry"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprDirEntry</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.DirEntry.path"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">DirEntry</span>.<span class="name">path</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.FileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">FileType</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instReprFileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprFileType</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instBEqFileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instBEqFileType</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.SystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">SystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instReprSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprSystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instBEqSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instBEqSystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instOrdSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instOrdSystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instInhabitedSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instInhabitedSystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instLTSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instLTSystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instLESystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instLESystemTime</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Metadata"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Metadata</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.instReprMetadata"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprMetadata</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.readDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">readDir</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.metadata"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">metadata</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.isDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">isDir</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.pathExists"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">pathExists</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.walkDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">walkDir</span></a></div><div class="nav_link"><a class="break_within" href="#System.FilePath.walkDir.go"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">walkDir</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.readBinFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">readBinFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.readFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">readFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.withStdin"><span class="name">IO</span>.<span class="name">withStdin</span></a></div><div class="nav_link"><a class="break_within" href="#IO.withStdout"><span class="name">IO</span>.<span class="name">withStdout</span></a></div><div class="nav_link"><a class="break_within" href="#IO.withStderr"><span class="name">IO</span>.<span class="name">withStderr</span></a></div><div class="nav_link"><a class="break_within" href="#IO.print"><span class="name">IO</span>.<span class="name">print</span></a></div><div class="nav_link"><a class="break_within" href="#IO.println"><span class="name">IO</span>.<span class="name">println</span></a></div><div class="nav_link"><a class="break_within" href="#IO.eprint"><span class="name">IO</span>.<span class="name">eprint</span></a></div><div class="nav_link"><a class="break_within" href="#IO.eprintln"><span class="name">IO</span>.<span class="name">eprintln</span></a></div><div class="nav_link"><a class="break_within" href="#IO.appDir"><span class="name">IO</span>.<span class="name">appDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.createDirAll"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createDirAll</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.removeDirAll"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeDirAll</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.withTempFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withTempFile</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.withTempDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withTempDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.getCurrentDir"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">getCurrentDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.setCurrentDir"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">setCurrentDir</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.getPID"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">getPID</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Stdio"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Stdio</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Stdio.toHandleType"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Stdio</span>.<span class="name">toHandleType</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.StdioConfig"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">StdioConfig</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.SpawnArgs"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">SpawnArgs</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.spawn"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">spawn</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child.wait"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">wait</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child.tryWait"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">tryWait</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child.kill"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">kill</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child.takeStdin"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">takeStdin</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Child.pid"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">pid</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.Output"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Output</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.output"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">output</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.run"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">run</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Process.exit"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">exit</span></a></div><div class="nav_link"><a class="break_within" href="#IO.getTID"><span class="name">IO</span>.<span class="name">getTID</span></a></div><div class="nav_link"><a class="break_within" href="#IO.AccessRight"><span class="name">IO</span>.<span class="name">AccessRight</span></a></div><div class="nav_link"><a class="break_within" href="#IO.AccessRight.flags"><span class="name">IO</span>.<span class="name">AccessRight</span>.<span class="name">flags</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FileRight"><span class="name">IO</span>.<span class="name">FileRight</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FileRight.flags"><span class="name">IO</span>.<span class="name">FileRight</span>.<span class="name">flags</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Prim.setAccessRights"><span class="name">IO</span>.<span class="name">Prim</span>.<span class="name">setAccessRights</span></a></div><div class="nav_link"><a class="break_within" href="#IO.setAccessRights"><span class="name">IO</span>.<span class="name">setAccessRights</span></a></div><div class="nav_link"><a class="break_within" href="#IO.Ref"><span class="name">IO</span>.<span class="name">Ref</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instMonadLiftSTRealWorldBaseIO"><span class="name">IO</span>.<span class="name">instMonadLiftSTRealWorldBaseIO</span></a></div><div class="nav_link"><a class="break_within" href="#IO.mkRef"><span class="name">IO</span>.<span class="name">mkRef</span></a></div><div class="nav_link"><a class="break_within" href="#IO.CancelToken"><span class="name">IO</span>.<span class="name">CancelToken</span></a></div><div class="nav_link"><a class="break_within" href="#IO.instNonemptyCancelToken"><span class="name">IO</span>.<span class="name">instNonemptyCancelToken</span></a></div><div class="nav_link"><a class="break_within" href="#IO.CancelToken.new"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">new</span></a></div><div class="nav_link"><a class="break_within" href="#IO.CancelToken.set"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">set</span></a></div><div class="nav_link"><a class="break_within" href="#IO.CancelToken.isSet"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">isSet</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Stream.ofHandle"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">ofHandle</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Stream.Buffer"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">Buffer</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.Stream.ofBuffer"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">ofBuffer</span></a></div><div class="nav_link"><a class="break_within" href="#IO.FS.withIsolatedStreams"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withIsolatedStreams</span></a></div><div class="nav_link"><a class="break_within" href="#termPrintln!__"><span class="name">termPrintln!__</span></a></div><div class="nav_link"><a class="break_within" href="#Runtime.markMultiThreaded"><span class="name">Runtime</span>.<span class="name">markMultiThreaded</span></a></div><div class="nav_link"><a class="break_within" href="#Runtime.markPersistent"><span class="name">Runtime</span>.<span class="name">markPersistent</span></a></div><div class="nav_link"><a class="break_within" href="#Runtime.forget"><span class="name">Runtime</span>.<span class="name">forget</span></a></div></nav><main>
<div class="decl" id="IO.RealWorld"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L16-L24">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.RealWorld"><span class="name">IO</span>.<span class="name">RealWorld</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A representation of “the real world” that's used in <code><a href="../.././Init/System/IO.html#IO">IO</a></code> monads to ensure that <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions are not
reordered.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></li></ul></details><details id="instances-for-list-IO.RealWorld" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L26-L39">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO"><span class="name">EIO</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span></div></div><p>A monad that can have side effects on the external world or throw exceptions of type <code>ε</code>.</p><p><code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> is a version of this monad that cannot throw exceptions. <code><a href="../.././Init/System/IO.html#IO">IO</a></code> sets the exception type to
<code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a></span></li></ul></details><details id="instances-for-list-EIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instMonadEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L41-L41">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadEIO"><span class="name">instMonadEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadEIO">instMonadEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">(<a href="../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="instMonadFinallyEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L42-L42">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadFinallyEIO"><span class="name">instMonadFinallyEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadFinallyEIO">instMonadFinallyEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">(<a href="../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="instMonadExceptOfEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L43-L43">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadExceptOfEIO"><span class="name">instMonadExceptOfEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadExceptOfEIO">instMonadExceptOfEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">(<a href="../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="instOrElseEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L44-L44">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instOrElseEIO"><span class="name">instOrElseEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#OrElse">OrElse</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instOrElseEIO">instOrElseEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#OrElse.mk">{</a> <span class="fn">orElse</span> := <a href="../.././Init/Prelude.html#MonadExcept.orElse">MonadExcept.orElse</a> <a href="../.././Init/Prelude.html#OrElse.mk">}</a></li></ul></details></div></div><div class="decl" id="instInhabitedEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L45-L45">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instInhabitedEIO"><span class="name">instInhabitedEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">ε</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instInhabitedEIO">instInhabitedEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <span class="fn">α</span>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="BaseIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L47-L50">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO"><span class="name">BaseIO</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span></div></div><p>An <code><a href="../.././Init/System/IO.html#IO">IO</a></code> monad that cannot throw exceptions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Init/Prelude.html#Empty">Empty</a></span></li></ul></details><details id="instances-for-list-BaseIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instMonadBaseIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L52-L52">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadBaseIO"><span class="name">instMonadBaseIO</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadBaseIO">instMonadBaseIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Init/Prelude.html#Empty">Empty</a>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="instMonadFinallyBaseIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L53-L53">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadFinallyBaseIO"><span class="name">instMonadFinallyBaseIO</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadFinallyBaseIO">instMonadFinallyBaseIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Init/Prelude.html#Empty">Empty</a>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="BaseIO.toEIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L55-L64">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.toEIO"><span class="name">BaseIO</span>.<span class="name">toEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span></div></div><p>Runs a <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action, which cannot throw an exception, in any other <code><a href="../.././Init/System/IO.html#EIO">EIO</a></code> monad.</p><p>This function is usually used implicitly via <a href="https://lean-lang.org/doc/reference/4.20.0-rc5/find/?domain=Verso.Genre.Manual.section&amp;name=lifting-monads">automatic monadic
lifting</a> rather being than called explicitly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#BaseIO.toEIO">toEIO</a></span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">act</span> <span class="fn">s</span></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">s</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">s</span></span></span></li></ul></details><details id="instances-for-list-BaseIO.toEIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="instMonadLiftBaseIOEIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L66-L66">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#instMonadLiftBaseIOEIO"><span class="name">instMonadLiftBaseIOEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#MonadLift">MonadLift</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#instMonadLiftBaseIOEIO">instMonadLiftBaseIOEIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#MonadLift.mk">{</a> <span class="fn">monadLift</span> := <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Init/System/IO.html#BaseIO.toEIO">BaseIO.toEIO</a></span> <a href="../.././Init/Prelude.html#MonadLift.mk">}</a></li></ul></details></div></div><div class="decl" id="EIO.toBaseIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L68-L76">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.toBaseIO"><span class="name">EIO</span>.<span class="name">toBaseIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span>)</span></span></div></div><p>Converts an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action that might throw an exception of type <code>ε</code> into an exception-free <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code>
action that returns an <code><a href="../.././Init/Prelude.html#Except">Except</a></code> value.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">act</span> <span class="fn">s</span></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">s</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span> <span class="fn">s</span></span>
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.error">EStateM.Result.error</a> <span class="fn">ex</span> <span class="fn">s</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">ex</span>)</span> <span class="fn">s</span></span></span></li></ul></details><details id="instances-for-list-EIO.toBaseIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.catchExceptions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L78-L86">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.catchExceptions"><span class="name">EIO</span>.<span class="name">catchExceptions</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></div></div><p>Handles any exception that might be thrown by an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action, transforming it into an
exception-free <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.catchExceptions">catchExceptions</a></span> <span class="fn">h</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">act</span> <span class="fn">s</span></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">s</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">s</span></span>
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.error">EStateM.Result.error</a> <span class="fn">ex</span> <span class="fn">s</span></span> =&gt; <span class="fn"><span class="fn">h</span> <span class="fn">ex</span> <span class="fn">s</span></span></span></li></ul></details><details id="instances-for-list-EIO.catchExceptions" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.ofExcept"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L88-L97">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.ofExcept"><span class="name">EIO</span>.<span class="name">ofExcept</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span></div></div><p>Converts an <code><a href="../.././Init/Prelude.html#Except">Except</a> ε</code> action into an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action.</p><p>If the <code><a href="../.././Init/Prelude.html#Except">Except</a> ε</code> action throws an exception, then the resulting <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action throws the same
exception. Otherwise, the value is returned.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.ofExcept">EIO.ofExcept</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.ofExcept">EIO.ofExcept</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e_2</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">e_2</span></span></li></ul></details><details id="instances-for-list-EIO.ofExcept" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L100-L103">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO"><span class="name">IO</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span></div></div><p>A monad that supports arbitrary side effects and throwing exceptions of type <code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></span></li></ul></details><details id="instances-for-list-IO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BaseIO.toIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L105-L112">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.toIO"><span class="name">BaseIO</span>.<span class="name">toIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Runs a <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action, which cannot throw an exception, as an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action.</p><p>This function is usually used implicitly via <a href="https://lean-lang.org/doc/reference/4.20.0-rc5/find/?domain=Verso.Genre.Manual.section&amp;name=lifting-monads">automatic monadic
lifting</a> rather than being called explicitly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#BaseIO.toIO">toIO</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">act</span></span></li></ul></details><details id="instances-for-list-BaseIO.toIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.toIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L114-L119">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.toIO"><span class="name">EIO</span>.<span class="name">toIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">ε</span> → <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Converts an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action into an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action by translating any exceptions that it throws into
<code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>s using <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.toIO">EIO.toIO</a> <span class="fn">f</span> <span class="fn">act</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#EStateM.adaptExcept">EStateM.adaptExcept</a> <span class="fn">f</span> <span class="fn">act</span></span></li></ul></details><details id="instances-for-list-EIO.toIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.toIO'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L121-L126">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.toIO'"><span class="name">EIO</span>.<span class="name">toIO'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span>)</span></span></div></div><p>Converts an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action that might throw an exception of type <code>ε</code> into an exception-free <code><a href="../.././Init/System/IO.html#IO">IO</a></code>
action that returns an <code><a href="../.././Init/Prelude.html#Except">Except</a></code> value.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.toIO'">toIO'</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span></span></li></ul></details><details id="instances-for-list-EIO.toIO'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.toEIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L128-L132">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.toEIO"><span class="name">IO</span>.<span class="name">toEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Init/System/IOError.html#IO.Error">Error</a> → <span class="fn">ε</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span></div></div><p>Runs an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action in some other <code><a href="../.././Init/System/IO.html#EIO">EIO</a></code> monad, using <code>f</code> to translate <code><a href="../.././Init/System/IO.html#IO">IO</a></code> exceptions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.toEIO">IO.toEIO</a> <span class="fn">f</span> <span class="fn">act</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#EStateM.adaptExcept">EStateM.adaptExcept</a> <span class="fn">f</span> <span class="fn">act</span></span></li></ul></details><details id="instances-for-list-IO.toEIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="unsafeBaseIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L138-L153">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#unsafeBaseIO"><span class="name">unsafeBaseIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">α</span></div></div><p>Executes arbitrary side effects in a pure context. This a <strong>dangerous</strong> operation that can easily
undermine important assumptions about the meaning of Lean programs, and it should only be used with
great care and a thorough understanding of compiler internals, and even then only to implement
observationally pure operations.</p><p>This function is not a good way to convert a <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> α</code> into an <code>α</code>. Instead, use
<a href="https://lean-lang.org/doc/reference/4.20.0-rc5/find/?domain=Verso.Genre.Manual.section&amp;name=do-notation"><code>do</code>-notation</a>.</p><p>Because the resulting value is treated as a side-effect-free term, the compiler may re-order,
duplicate, or delete calls to this function. The side effect may even be hoisted into a constant,
causing the side effect to occur at initialization time, even if it would otherwise never be called.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#unsafeBaseIO">unsafeBaseIO</a> <span class="fn">fn</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><a href="../.././Init/Prelude.html#EStateM.run">EStateM.run</a> <span class="fn">fn</span> <a href="../.././Init/Prelude.html#Unit.unit">(</a><a href="../.././Init/Prelude.html#Unit.unit">)</a></span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">a_1</span></span> =&gt; <span class="fn">a</span></span></li></ul></details><details id="instances-for-list-unsafeBaseIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="unsafeEIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L155-L169">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#unsafeEIO"><span class="name">unsafeEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span></div></div><p>Executes arbitrary side effects in a pure context, with exceptions indicated via <code><a href="../.././Init/Prelude.html#Except">Except</a></code>. This a
<strong>dangerous</strong> operation that can easily undermine important assumptions about the meaning of Lean
programs, and it should only be used with great care and a thorough understanding of compiler
internals, and even then only to implement observationally pure operations.</p><p>This function is not a good way to convert an <code><a href="../.././Init/System/IO.html#EIO">EIO</a> α</code> or <code><a href="../.././Init/System/IO.html#IO">IO</a> α</code> into an <code>α</code>. Instead, use
<a href="https://lean-lang.org/doc/reference/4.20.0-rc5/find/?domain=Verso.Genre.Manual.section&amp;name=do-notation"><code>do</code>-notation</a>.</p><p>Because the resulting value is treated as a side-effect-free term, the compiler may re-order,
duplicate, or delete calls to this function. The side effect may even be hoisted into a constant,
causing the side effect to occur at initialization time, even if it would otherwise never be called.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#unsafeEIO">unsafeEIO</a> <span class="fn">fn</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#unsafeBaseIO">unsafeBaseIO</a> <span class="fn"><span class="fn">fn</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span></span></li></ul></details><details id="instances-for-list-unsafeEIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="unsafeIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L171-L172">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#unsafeIO"><span class="name">unsafeIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a> <span class="fn">α</span></span></div></div><p>A monad that can have side effects on the external world or throw exceptions of type <code>ε</code>.</p><p><code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> is a version of this monad that cannot throw exceptions. <code><a href="../.././Init/System/IO.html#IO">IO</a></code> sets the exception type to
<code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#unsafeIO">unsafeIO</a> <span class="fn">fn</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#unsafeEIO">unsafeEIO</a> <span class="fn">fn</span></span></li></ul></details><details id="instances-for-list-unsafeIO" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="timeit"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L175-L181">source</a></div><div class="attributes">@[extern  lean_io_timeit]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#timeit"><span class="name">timeit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Times the execution of an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action.</p><p>The provided message <code>msg</code> and the time take are printed to the current standard error as a side
effect.</p></div></div><div class="decl" id="allocprof"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L183-L183">source</a></div><div class="attributes">@[extern  lean_io_allocprof]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#allocprof"><span class="name">allocprof</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div></div></div><div class="decl" id="IO.initializing"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L185-L192">source</a></div><div class="attributes">@[extern  lean_io_initializing]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.initializing"><span class="name">IO</span>.<span class="name">initializing</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if and only if it is invoked during initialization.</p><p>Programs can execute <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions during an initialization phase that occurs before the <code>main</code>
function is executed. The attribute <code>@[init &lt;action&gt;]</code> specifies which IO action is executed to set
the value of an opaque constant.</p></div></div><div class="decl" id="BaseIO.asTask"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L196-L209">source</a></div><div class="attributes">@[extern  lean_io_as_task]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.asTask"><span class="name">BaseIO</span>.<span class="name">asTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span></div></div><p>Runs <code>act</code> in a separate <code><a href="../.././Init/Core.html#Task">Task</a></code>, with priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Pure accesses to the
<code><a href="../.././Init/Core.html#Task">Task</a></code> do not influence the impure <code>act</code>.</p><p>Unlike pure tasks created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last
reference to the task is dropped. The <code>act</code> should explicitly check for cancellation via
<code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it should be terminated or otherwise react to the last reference being
dropped.</p></div></div><div class="decl" id="BaseIO.mapTask"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L211-L223">source</a></div><div class="attributes">@[extern  lean_io_map_task]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.mapTask"><span class="name">BaseIO</span>.<span class="name">mapTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">β</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action <code>f</code> on its
result. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p></div></div><div class="decl" id="BaseIO.bindTask"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L225-L237">source</a></div><div class="attributes">@[extern  lean_io_bind_task]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.bindTask"><span class="name">BaseIO</span>.<span class="name">bindTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">β</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">β</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete, runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result, and then
continues as the resulting task. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes this new task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p></div></div><div class="decl" id="BaseIO.chainTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L239-L252">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.chainTask"><span class="name">BaseIO</span>.<span class="name">chainTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result.
This new task has priority <code>prio</code>.</p><p>This is a version of <code><a href="../.././Init/System/IO.html#BaseIO.mapTask">BaseIO.mapTask</a></code> that ignores the result value.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO.chainTask">BaseIO.chainTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">(<a href="../.././Init/System/IO.html#BaseIO.mapTask">BaseIO.mapTask</a> <span class="fn">f</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span>)</span></span></li></ul></details><details id="instances-for-list-BaseIO.chainTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BaseIO.mapTasks"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L254-L275">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.mapTasks"><span class="name">BaseIO</span>.<span class="name">mapTasks</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tasks</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">β</span>)</span></span></div></div><p>Creates a new task that waits for all the tasks in the list <code>tasks</code> to complete, and then runs the
<code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on their results. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks">BaseIO.mapTasks</a> <span class="fn">f</span> <span class="fn">tasks</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks.go">BaseIO.mapTasks.go</a> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span> <span class="fn">tasks</span> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a></span></li></ul></details><details id="instances-for-list-BaseIO.mapTasks" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BaseIO.mapTasks.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L267-L275">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#BaseIO.mapTasks.go"><span class="name">BaseIO</span>.<span class="name">mapTasks</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">β</span>)</span></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks.go">BaseIO.mapTasks.go</a> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#ite">if</a> <span class="fn">sync</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn">do
    let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">x✝</span>.<a href="../.././Init/Data/List/Basic.html#List.reverse">reverse</a></span></span>
    <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Core.html#Task.pure">{</a> <span class="fn">get</span> := <span class="fn">__do_lift</span> <a href="../.././Init/Core.html#Task.pure">}</a></span></span>
  <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn"><span class="fn">x✝</span>.<a href="../.././Init/Data/List/Basic.html#List.reverse">reverse</a></span>)</span>.<a href="../.././Init/System/IO.html#BaseIO.asTask">asTask</a></span> <span class="fn">prio</span></span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks.go">BaseIO.mapTasks.go</a> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span> <a href="../.././Init/Prelude.html#List.cons">[</a><span class="fn">t</span><a href="../.././Init/Prelude.html#List.cons">]</a> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTask">BaseIO.mapTask</a> <span class="fn">(fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn">a</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">x✝</span>).<a href="../.././Init/Data/List/Basic.html#List.reverse">reverse</a></span></span>)</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks.go">BaseIO.mapTasks.go</a> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span> (<span class="fn">t</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ts</span>) <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.bindTask">BaseIO.bindTask</a> <span class="fn">t</span> <span class="fn">(fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks.go">BaseIO.mapTasks.go</a> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span> <span class="fn">ts</span> (<span class="fn">a</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">x✝</span>)</span>)</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-BaseIO.mapTasks.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.asTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L281-L294">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.asTask"><span class="name">EIO</span>.<span class="name">asTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span>)</span>)</span></span></div></div><p>Runs <code>act</code> in a separate <code><a href="../.././Init/Core.html#Task">Task</a></code>, with priority <code>prio</code>. Because <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> actions may throw an exception
of type <code>ε</code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> ε α</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action causes the task to be started eagerly. Pure accesses to the <code><a href="../.././Init/Core.html#Task">Task</a></code>
do not influence the impure <code>act</code>.</p><p>Unlike pure tasks created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last
reference to the task is dropped. The <code>act</code> should explicitly check for cancellation via
<code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it should be terminated or otherwise react to the last reference being
dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.asTask">asTask</a></span> <span class="fn">prio</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span>.<a href="../.././Init/System/IO.html#BaseIO.asTask">asTask</a></span> <span class="fn">prio</span></span></li></ul></details><details id="instances-for-list-EIO.asTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.mapTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L296-L308">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.mapTask"><span class="name">EIO</span>.<span class="name">mapTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">β</span>)</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result.
This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped. Because <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> actions
may throw an exception of type <code>ε</code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> ε α</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.mapTask">EIO.mapTask</a> <span class="fn">f</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTask">BaseIO.mapTask</a> <span class="fn">(fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">a</span>)</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span>)</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-EIO.mapTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.bindTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L310-L323">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.bindTask"><span class="name">EIO</span>.<span class="name">bindTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">β</span>)</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">β</span>)</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete, runs the <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action <code>f</code> on its result, and
then continues as the resulting task. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes this new task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped. Because <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> actions
may throw an exception of type <code>ε</code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> ε α</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.bindTask">EIO.bindTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.bindTask">BaseIO.bindTask</a> <span class="fn">t</span> <span class="fn">(fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">a</span>)</span>.<a href="../.././Init/System/IO.html#EIO.catchExceptions">catchExceptions</a></span> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Core.html#Task.pure">{</a> <span class="fn">get</span> := <span class="fn"><a href="../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span></span> <a href="../.././Init/Core.html#Task.pure">}</a></span></span></span>)</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-EIO.bindTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.chainTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L325-L338">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.chainTask"><span class="name">EIO</span>.<span class="name">chainTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action <code>f</code> on its result.
This new task has priority <code>prio</code>.</p><p>This is a version of <code><a href="../.././Init/System/IO.html#EIO.mapTask">EIO.mapTask</a></code> that ignores the result value.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.chainTask">EIO.chainTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#EIO.mapTask">EIO.mapTask</a> <span class="fn">f</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-EIO.chainTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="EIO.mapTasks"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L340-L351">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#EIO.mapTasks"><span class="name">EIO</span>.<span class="name">mapTasks</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tasks</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">β</span>)</span>)</span></span></div></div><p>Creates a new task that waits for all the tasks in the list <code>tasks</code> to complete, and then runs the
<code><a href="../.././Init/System/IO.html#EIO">EIO</a> ε</code> action <code>f</code> on their results. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#EIO.mapTasks">EIO.mapTasks</a> <span class="fn">f</span> <span class="fn">tasks</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#BaseIO.mapTasks">BaseIO.mapTasks</a> <span class="fn">(fun (<span class="fn">as</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><span class="fn">(<span class="fn">f</span> <span class="fn">as</span>)</span>.<a href="../.././Init/System/IO.html#EIO.toBaseIO">toBaseIO</a></span>)</span> <span class="fn">tasks</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-EIO.mapTasks" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.ofExcept"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L357-L366">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.ofExcept"><span class="name">IO</span>.<span class="name">ofExcept</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">ε</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Converts an <code><a href="../.././Init/Prelude.html#Except">Except</a> ε</code> action into an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action.</p><p>If the <code><a href="../.././Init/Prelude.html#Except">Except</a> ε</code> action throws an exception, then the exception type's <code><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a></code> instance is used
to convert it into an <code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>, which is thrown. Otherwise, the value is returned.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.ofExcept">IO.ofExcept</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.ofExcept">IO.ofExcept</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e_2</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">(<a href="../.././Init/System/IOError.html#IO.userError">IO.userError</a> <span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">e_2</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-IO.ofExcept" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.lazyPure"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L368-L372">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.lazyPure"><span class="name">IO</span>.<span class="name">lazyPure</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <span class="fn"><a href="../.././Init/Prelude.html#Unit">Unit</a> → <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Creates an IO action that will invoke <code>fn</code> if and when it is executed, returning the result.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.lazyPure">IO.lazyPure</a> <span class="fn">fn</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">fn</span> <a href="../.././Init/Prelude.html#Unit.unit">(</a><a href="../.././Init/Prelude.html#Unit.unit">)</a>)</span></span></li></ul></details><details id="instances-for-list-IO.lazyPure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.monoMsNow"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L374-L378">source</a></div><div class="attributes">@[extern  lean_io_mono_ms_now]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.monoMsNow"><span class="name">IO</span>.<span class="name">monoMsNow</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Monotonically increasing time since an unspecified past point in milliseconds. There is no relation
to wall clock time.</p></div></div><div class="decl" id="IO.monoNanosNow"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L380-L384">source</a></div><div class="attributes">@[extern  lean_io_mono_nanos_now]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.monoNanosNow"><span class="name">IO</span>.<span class="name">monoNanosNow</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Monotonically increasing time since an unspecified past point in nanoseconds. There is no relation
to wall clock time.</p></div></div><div class="decl" id="IO.getRandomBytes"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L386-L391">source</a></div><div class="attributes">@[extern  lean_io_get_random_bytes]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getRandomBytes"><span class="name">IO</span>.<span class="name">getRandomBytes</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">nBytes</span> : <a href="../.././Init/Prelude.html#USize">USize</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div><p>Reads bytes from a system entropy source. It is not guaranteed to be cryptographically secure.</p><p>If <code>nBytes</code> is <code>0</code>, returns immediately with an empty buffer.</p></div></div><div class="decl" id="IO.sleep"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L393-L398">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.sleep"><span class="name">IO</span>.<span class="name">sleep</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <a href="../.././Init/Prelude.html#UInt32">UInt32</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Pauses execution for the specified number of milliseconds.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.sleep">IO.sleep</a> <span class="fn">ms</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Util.html#dbgSleep">dbgSleep</a> <span class="fn">ms</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <a href="../.././Init/Prelude.html#Unit.unit">(</a><a href="../.././Init/Prelude.html#Unit.unit">)</a> <span class="fn">s</span></span></span></span></li></ul></details><details id="instances-for-list-IO.sleep" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.asTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L400-L414">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.asTask"><span class="name">IO</span>.<span class="name">asTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">Error</a> <span class="fn">α</span>)</span>)</span></span></div></div><p>Runs <code>act</code> in a separate <code><a href="../.././Init/Core.html#Task">Task</a></code>, with priority <code>prio</code>. Because <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions may throw an exception
of type <code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a> α</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Pure accesses to the
<code><a href="../.././Init/Core.html#Task">Task</a></code> do not influence the impure <code>act</code>. Because <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions may throw an exception of type
<code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a> α</code>.</p><p>Unlike pure tasks created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last
reference to the task is dropped. The <code>act</code> should explicitly check for cancellation via
<code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it should be terminated or otherwise react to the last reference being
dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">act</span>.<a href="../.././Init/System/IO.html#IO.asTask">asTask</a></span> <span class="fn">prio</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.asTask">EIO.asTask</a> <span class="fn">act</span> <span class="fn">prio</span></span></li></ul></details><details id="instances-for-list-IO.asTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.mapTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L416-L428">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.mapTask"><span class="name">IO</span>.<span class="name">mapTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">Error</a> <span class="fn">β</span>)</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result.
This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes the task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped. Because <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions
may throw an exception of type <code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a> α</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.mapTask">IO.mapTask</a> <span class="fn">f</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.mapTask">EIO.mapTask</a> <span class="fn">f</span> <span class="fn">t</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-IO.mapTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.bindTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L430-L442">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.bindTask"><span class="name">IO</span>.<span class="name">bindTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">Error</a> <span class="fn">β</span>)</span>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">Error</a> <span class="fn">β</span>)</span>)</span></span></div></div><p>Creates a new task that waits for <code>t</code> to complete, runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result, and then
continues as the resulting task. This new task has priority <code>prio</code>.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></code> action causes this new task to be started eagerly. Unlike pure tasks
created by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the
task is dropped. The <code>act</code> should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it
should be terminated or otherwise react to the last reference being dropped. Because <code><a href="../.././Init/System/IO.html#IO">IO</a></code> actions
may throw an exception of type <code><a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a></code>, the result of the task is an <code><a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">IO.Error</a> α</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.bindTask">IO.bindTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.bindTask">EIO.bindTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-IO.bindTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.chainTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L444-L457">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.chainTask"><span class="name">IO</span>.<span class="name">chainTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Creates a new task that waits for <code>t</code> to complete and then runs the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action <code>f</code> on its result.
This new task has priority <code>prio</code>.</p><p>This is a version of <code><a href="../.././Init/System/IO.html#IO.mapTask">IO.mapTask</a></code> that ignores the result value.</p><p>Running the resulting <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action causes the task to be started eagerly. Unlike pure tasks created
by <code><a href="../.././Init/Core.html#Task.spawn">Task.spawn</a></code>, tasks created by this function will run even if the last reference to the task is
dropped. The act should explicitly check for cancellation via <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> if it should be
terminated or otherwise react to the last reference being dropped.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.chainTask">IO.chainTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.chainTask">EIO.chainTask</a> <span class="fn">t</span> <span class="fn">f</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-IO.chainTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.mapTasks"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L459-L462">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.mapTasks"><span class="name">IO</span>.<span class="name">mapTasks</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tasks</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">(<a href="../.././Init/Prelude.html#Except">Except</a> <a href="../.././Init/System/IOError.html#IO.Error">Error</a> <span class="fn">β</span>)</span>)</span></span></div></div><p><code><a href="../.././Init/System/IO.html#IO">IO</a></code> specialization of <code><a href="../.././Init/System/IO.html#EIO.mapTasks">EIO.mapTasks</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.mapTasks">IO.mapTasks</a> <span class="fn">f</span> <span class="fn">tasks</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.mapTasks">EIO.mapTasks</a> <span class="fn">f</span> <span class="fn">tasks</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-IO.mapTasks" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.checkCanceled"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L464-L468">source</a></div><div class="attributes">@[extern  lean_io_check_canceled]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.checkCanceled"><span class="name">IO</span>.<span class="name">checkCanceled</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Checks whether the current task's cancellation flag has been set by calling <code><a href="../.././Init/System/IO.html#IO.cancel">IO.cancel</a></code> or by
dropping the last reference to the task.</p></div></div><div class="decl" id="IO.cancel"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L470-L474">source</a></div><div class="attributes">@[extern  lean_io_cancel]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.cancel"><span class="name">IO</span>.<span class="name">cancel</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div></div><p>Requests cooperative cancellation of the task. The task must explicitly call <code><a href="../.././Init/System/IO.html#IO.checkCanceled">IO.checkCanceled</a></code> to
react to the cancellation.</p></div></div><div class="decl" id="IO.TaskState"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L476-L495">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.TaskState"><span class="name">IO</span>.<span class="name">TaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The current state of a <code><a href="../.././Init/Core.html#Task">Task</a></code> in the Lean runtime's task manager.</p><ul class="constructors"><li class="constructor" id="IO.TaskState.waiting">waiting : <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a><div class="inductive_ctor_doc"><p>The <code><a href="../.././Init/Core.html#Task">Task</a></code> is waiting to be run.</p><p>It can be waiting for dependencies to complete or sitting in the task manager queue waiting for a
thread to run on.</p></div></li><li class="constructor" id="IO.TaskState.running">running : <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a><div class="inductive_ctor_doc"><p>The <code><a href="../.././Init/Core.html#Task">Task</a></code> is actively running on a thread or, in the case of a <code>Promise</code>, waiting for a call to
<code><a href="../.././Init/System/Promise.html#IO.Promise.resolve">IO.Promise.resolve</a></code>.</p></div></li><li class="constructor" id="IO.TaskState.finished">finished : <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a><div class="inductive_ctor_doc"><p>The <code><a href="../.././Init/Core.html#Task">Task</a></code> has finished running and its result is available. Calling <code><a href="../.././Init/Core.html#Task.get">Task.get</a></code> or <code><a href="../.././Init/System/IO.html#IO.wait">IO.wait</a></code> on
the task will not block.</p></div></li></ul><details id="instances-for-list-IO.TaskState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.instInhabitedTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L495-L495">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instInhabitedTaskState"><span class="name">IO</span>.<span class="name">instInhabitedTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instInhabitedTaskState">IO.instInhabitedTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Init/System/IO.html#IO.TaskState.waiting">IO.TaskState.waiting</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.instReprTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L495-L495">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instReprTaskState"><span class="name">IO</span>.<span class="name">instReprTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instReprTaskState">IO.instReprTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.reprTaskState._@.Init.System.IO._hyg.1435">IO.reprTaskState✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.instDecidableEqTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L495-L495">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instDecidableEqTaskState"><span class="name">IO</span>.<span class="name">instDecidableEqTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.instDecidableEqTaskState">IO.instDecidableEqTaskState</a> <span class="fn">x✝</span> <span class="fn">y✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">if h : <span class="fn"><span class="fn">x✝</span>.<a href="../.././Init/System/IO.html#IO.TaskState.toCtorIdx">toCtorIdx</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y✝</span>.<a href="../.././Init/System/IO.html#IO.TaskState.toCtorIdx">toCtorIdx</a></span> then <span class="fn"><a href="../.././Init/Prelude.html#Decidable.isTrue">isTrue</a> <span class="fn">⋯</span></span> else <span class="fn"><a href="../.././Init/Prelude.html#Decidable.isFalse">isFalse</a> <span class="fn">⋯</span></span></span></li></ul></details></div></div><div class="decl" id="IO.instOrdTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L495-L495">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instOrdTaskState"><span class="name">IO</span>.<span class="name">instOrdTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Ord.html#Ord">Ord</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instOrdTaskState">IO.instOrdTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#Ord.mk">{</a> <span class="fn">compare</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.ordTaskState._@.Init.System.IO._hyg.1650">IO.ordTaskState✝</a> <a href="../.././Init/Data/Ord.html#Ord.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.instLTTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L497-L497">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instLTTaskState"><span class="name">IO</span>.<span class="name">instLTTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#LT">LT</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instLTTaskState">IO.instLTTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#ltOfOrd">ltOfOrd</a></li></ul></details></div></div><div class="decl" id="IO.instLETaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L498-L498">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instLETaskState"><span class="name">IO</span>.<span class="name">instLETaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#LE">LE</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instLETaskState">IO.instLETaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#leOfOrd">leOfOrd</a></li></ul></details></div></div><div class="decl" id="IO.instMinTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L499-L499">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instMinTaskState"><span class="name">IO</span>.<span class="name">instMinTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Min">Min</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instMinTaskState">IO.instMinTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#minOfLe">minOfLe</a></li></ul></details></div></div><div class="decl" id="IO.instMaxTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L500-L500">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instMaxTaskState"><span class="name">IO</span>.<span class="name">instMaxTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Max">Max</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instMaxTaskState">IO.instMaxTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#maxOfLe">maxOfLe</a></li></ul></details></div></div><div class="decl" id="IO.TaskState.toString"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L502-L508">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.TaskState.toString"><span class="name">IO</span>.<span class="name">TaskState</span>.<span class="name">toString</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a> → <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Converts a task state to a string.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.TaskState.waiting">IO.TaskState.waiting</a>.<a href="../.././Init/System/IO.html#IO.TaskState.toString">toString</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;waiting&quot;</span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.TaskState.running">IO.TaskState.running</a>.<a href="../.././Init/System/IO.html#IO.TaskState.toString">toString</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;running&quot;</span></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.TaskState.finished">IO.TaskState.finished</a>.<a href="../.././Init/System/IO.html#IO.TaskState.toString">toString</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">&quot;finished&quot;</span></li></ul></details><details id="instances-for-list-IO.TaskState.toString" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.instToStringTaskState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L510-L510">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instToStringTaskState"><span class="name">IO</span>.<span class="name">instToStringTaskState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instToStringTaskState">IO.instToStringTaskState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/ToString/Basic.html#ToString.mk">{</a> <span class="fn">toString</span> := <a href="../.././Init/System/IO.html#IO.TaskState.toString">IO.TaskState.toString</a> <a href="../.././Init/Data/ToString/Basic.html#ToString.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.getTaskState"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L512-L518">source</a></div><div class="attributes">@[extern  lean_io_get_task_state]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getTaskState"><span class="name">IO</span>.<span class="name">getTaskState</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.TaskState">TaskState</a></span></span></div></div><p>Returns the current state of a task in the Lean runtime's task manager.</p><p>For tasks derived from <code>Promise</code>s, the states <code><a href="../.././Init/System/IO.html#IO.TaskState.waiting">waiting</a></code> and <code><a href="../.././Init/System/IO.html#IO.TaskState.running">running</a></code> should be considered
equivalent.</p></div></div><div class="decl" id="IO.hasFinished"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L520-L525">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.hasFinished"><span class="name">IO</span>.<span class="name">hasFinished</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">task</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Checks whether the task has finished execution, at which point calling <code><a href="../.././Init/Core.html#Task.get">Task.get</a></code> will return
immediately.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.hasFinished">IO.hasFinished</a> <span class="fn">task</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Init/System/IO.html#IO.getTaskState">IO.getTaskState</a> <span class="fn">task</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a>
      <span class="fn">(match <span class="fn">__do_lift</span> with
      | <a href="../.././Init/System/IO.html#IO.TaskState.finished">IO.TaskState.finished</a> =&gt; <a href="../.././Init/Prelude.html#Bool.true">true</a>
      | <span class="fn">x</span> =&gt; <a href="../.././Init/Prelude.html#Bool.false">false</a>)</span></span></span></li></ul></details><details id="instances-for-list-IO.hasFinished" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.wait"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L527-L531">source</a></div><div class="attributes">@[extern  lean_io_wait]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.wait"><span class="name">IO</span>.<span class="name">wait</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></div></div><p>Waits for the task to finish, then returns its result.</p></div></div><div class="decl" id="IO.waitAny"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L533-L538">source</a></div><div class="attributes">@[extern  lean_io_wait_any]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.waitAny"><span class="name">IO</span>.<span class="name">waitAny</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">tasks</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">tasks</span>.<a href="../.././Init/Prelude.html#List.length">length</a></span> <a href="../.././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span> := by exact Nat.zero_lt_succ _)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></div></div><p>Waits until any of the tasks in the list has finished, then return its result.</p></div></div><div class="decl" id="IO.getNumHeartbeats"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L540-L546">source</a></div><div class="attributes">@[extern  lean_io_get_num_heartbeats]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getNumHeartbeats"><span class="name">IO</span>.<span class="name">getNumHeartbeats</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Returns the number of <em>heartbeats</em> that have occurred during the current thread's execution. The
heartbeat count is the number of “small” memory allocations performed in a thread.</p><p>Heartbeats used to implement timeouts that are more deterministic across different hardware.</p></div></div><div class="decl" id="IO.setNumHeartbeats"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L548-L552">source</a></div><div class="attributes">@[extern  lean_io_set_heartbeats]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.setNumHeartbeats"><span class="name">IO</span>.<span class="name">setNumHeartbeats</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">count</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Sets the heartbeat counter of the current thread to the given amount. This can be used to avoid
counting heartbeats of code whose execution time is non-deterministic.</p></div></div><div class="decl" id="IO.addHeartbeats"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L554-L564">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.addHeartbeats"><span class="name">IO</span>.<span class="name">addHeartbeats</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">count</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Adjusts the heartbeat counter of the current thread by the given amount. This can be useful to give
allocation-avoiding code additional “weight” and is also used to adjust the counter after resuming
from a snapshot.</p><p>Heartbeats are a means of implementing “deterministic” timeouts. The heartbeat counter is the number
of “small” memory allocations performed on the current execution thread.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.addHeartbeats">IO.addHeartbeats</a> <span class="fn">count</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">n</span> ← <a href="../.././Init/System/IO.html#IO.getNumHeartbeats">IO.getNumHeartbeats</a>
  <span class="fn"><a href="../.././Init/System/IO.html#IO.setNumHeartbeats">IO.setNumHeartbeats</a> (<span class="fn">n</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">count</span>)</span></span></li></ul></details><details id="instances-for-list-IO.addHeartbeats" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Mode"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L566-L632">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Mode"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Mode</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Whether a file should be opened for reading, writing, creation and writing, or appending.</p><p>A the operating system level, this translates to the mode of a file handle (i.e., a set of <code>open</code>
flags and an <code>fdopen</code> mode).</p><p>None of the modes represented by this datatype translate line endings (i.e. <code>O_BINARY</code> on Windows).
Furthermore, they are not inherited across process creation (i.e. <code>O_NOINHERIT</code> on Windows and
<code>O_CLOEXEC</code> elsewhere).</p><p><strong>Operating System Specifics:</strong></p><ul>
<li>Windows:
<a href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/open-wopen?view=msvc-170"><code>_open</code></a>,
<a href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/fdopen-wfdopen?view=msvc-170"><code>_fdopen</code></a></li>
<li>Linux: <a href="https://linux.die.net/man/2/open"><code>open</code></a>, <a href="https://linux.die.net/man/3/fdopen"><code>fdopen</code></a></li>
</ul><ul class="constructors"><li class="constructor" id="IO.FS.Mode.read">read : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a><div class="inductive_ctor_doc"><p>The file should be opened for reading.</p><p>The read/write cursor is positioned at the beginning of the file. It is an error if the file does
not exist.</p><ul>
<li><code>open</code> flags: <code>O_RDONLY</code></li>
<li><code>fdopen</code> mode: <code>r</code></li>
</ul></div></li><li class="constructor" id="IO.FS.Mode.write">write : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a><div class="inductive_ctor_doc"><p>The file should be opened for writing.</p><p>If the file already exists, it is truncated to zero length. Otherwise, a new file is created. The
read/write cursor is positioned at the beginning of the file.</p><ul>
<li><code>open</code> flags: <code>O_WRONLY | O_CREAT | O_TRUNC</code></li>
<li><code>fdopen</code> mode: <code>w</code></li>
</ul></div></li><li class="constructor" id="IO.FS.Mode.writeNew">writeNew : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a><div class="inductive_ctor_doc"><p>A new file should be created for writing.</p><p>It is an error if the file already exists. A new file is created, with the read/write cursor
positioned at the start.</p><ul>
<li><code>open</code> flags: <code>O_WRONLY | O_CREAT | O_TRUNC | O_EXCL</code></li>
<li><code>fdopen</code> mode: <code>w</code></li>
</ul></div></li><li class="constructor" id="IO.FS.Mode.readWrite">readWrite : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a><div class="inductive_ctor_doc"><p>The file should be opened for both reading and writing.</p><p>It is an error if the file does not already exist. The read/write cursor is positioned at the
start of the file.</p><ul>
<li><code>open</code> flags: <code>O_RDWR</code></li>
<li><code>fdopen</code> mode: <code>r+</code></li>
</ul></div></li><li class="constructor" id="IO.FS.Mode.append">append : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a><div class="inductive_ctor_doc"><p>The file should be opened for writing.</p><p>If the file does not already exist, it is created. If the file already exists, it is opened, and
the read/write cursor is positioned at the end of the file.</p><ul>
<li><code>open</code> flags: <code>O_WRONLY | O_CREAT | O_APPEND</code></li>
<li><code>fdopen</code> mode: <code>a</code></li>
</ul></div></li></ul><details id="instances-for-list-IO.FS.Mode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Handle"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L634-L644">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A reference to an opened file.</p><p>File handles wrap the underlying operating system's file descriptors. There is no explicit operation
to close a file: when the last reference to a file handle is dropped, the file is closed
automatically.</p><p>Handles have an associated read/write cursor that determines the where reads and writes occur in the
file.</p></div></div><div class="decl" id="IO.FS.Stream"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L646-L685">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Stream"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A pure-Lean abstraction of POSIX streams. These streams may represent an underlying POSIX stream or
be implemented by Lean code.</p><p>Because standard input, standard output, and standard error are all <code><a href="../.././Init/System/IO.html#IO.FS.Stream">IO.FS.Stream</a></code>s that can be
overridden, Lean code may capture and redirect input and output.</p><ul class="structure_fields" id="IO.FS.Stream.mk"><li id="IO.FS.Stream.flush" class="structure_field"><div class="structure_field_info">flush : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div><div class="structure_field_doc"><p>Flushes the stream's output buffers.</p></div></li><li id="IO.FS.Stream.read" class="structure_field"><div class="structure_field_info">read : <span class="fn"><a href="../.././Init/Prelude.html#USize">USize</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></span></div><div class="structure_field_doc"><p>Reads up to the given number of bytes from the stream.</p><p>If the returned array is empty, an end-of-file marker (EOF) has been reached. An EOF does not
actually close a stream, so further reads may block and return more data.</p></div></li><li id="IO.FS.Stream.write" class="structure_field"><div class="structure_field_info">write : <span class="fn"><a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div><div class="structure_field_doc"><p>Writes the provided bytes to the stream.</p><p>If the stream represents a physical output device such as a file on disk, then the results may be
buffered. Call <code><a href="../.././Init/System/IO.html#IO.FS.Stream.flush">FS.Stream.flush</a></code> to synchronize their contents.</p></div></li><li id="IO.FS.Stream.getLine" class="structure_field"><div class="structure_field_info">getLine : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div><div class="structure_field_doc"><p>Reads text up to and including the next newline from the stream.</p><p>If the returned string is empty, an end-of-file marker (EOF) has been reached.
An EOF does not actually close a stream, so further reads may block and return more data.</p></div></li><li id="IO.FS.Stream.putStr" class="structure_field"><div class="structure_field_info">putStr : <span class="fn"><a href="../.././Init/Prelude.html#String">String</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div><div class="structure_field_doc"><p>Writes the provided string to the stream.</p></div></li><li id="IO.FS.Stream.isTty" class="structure_field"><div class="structure_field_info">isTty : <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div><div class="structure_field_doc"><p>Returns <code>true</code> if a stream refers to a Windows console or Unix terminal.</p></div></li></ul><details id="instances-for-list-IO.FS.Stream" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.instInhabitedStream"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L685-L685">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instInhabitedStream"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instInhabitedStream</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">Stream</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instInhabitedStream">IO.FS.instInhabitedStream</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a>     <span class="fn">default</span> :=
      <a href="../.././Init/System/IO.html#IO.FS.Stream.mk">{</a> <span class="fn">flush</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">read</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">write</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">getLine</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">putStr</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">isTty</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Init/System/IO.html#IO.FS.Stream.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.getStdin"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L689-L694">source</a></div><div class="attributes">@[extern  lean_get_stdin]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getStdin"><span class="name">IO</span>.<span class="name">getStdin</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></div></div><p>Returns the current thread's standard input stream.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.setStdin">IO.setStdin</a></code> to replace the current thread's standard input stream.</p></div></div><div class="decl" id="IO.getStdout"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L695-L700">source</a></div><div class="attributes">@[extern  lean_get_stdout]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getStdout"><span class="name">IO</span>.<span class="name">getStdout</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></div></div><p>Returns the current thread's standard output stream.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.setStdout">IO.setStdout</a></code> to replace the current thread's standard output stream.</p></div></div><div class="decl" id="IO.getStderr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L701-L706">source</a></div><div class="attributes">@[extern  lean_get_stderr]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getStderr"><span class="name">IO</span>.<span class="name">getStderr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></div></div><p>Returns the current thread's standard error stream.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.setStderr">IO.setStderr</a></code> to replace the current thread's standard error stream.</p></div></div><div class="decl" id="IO.setStdin"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L708-L713">source</a></div><div class="attributes">@[extern  lean_get_set_stdin]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.setStdin"><span class="name">IO</span>.<span class="name">setStdin</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></span></div></div><p>Replaces the standard input stream of the current thread and returns its previous value.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.getStdin">IO.getStdin</a></code> to get the current standard input stream.</p></div></div><div class="decl" id="IO.setStdout"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L714-L719">source</a></div><div class="attributes">@[extern  lean_get_set_stdout]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.setStdout"><span class="name">IO</span>.<span class="name">setStdout</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></span></div></div><p>Replaces the standard output stream of the current thread and returns its previous value.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.getStdout">IO.getStdout</a></code> to get the current standard output stream.</p></div></div><div class="decl" id="IO.setStderr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L720-L725">source</a></div><div class="attributes">@[extern  lean_get_set_stderr]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.setStderr"><span class="name">IO</span>.<span class="name">setStderr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a> → <span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a></span></span></div></div><p>Replaces the standard error stream of the current thread and returns its previous value.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.getStderr">IO.getStderr</a></code> to get the current standard error stream.</p></div></div><div class="decl" id="IO.iterate"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L727-L736">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.iterate"><span class="name">IO</span>.<span class="name">iterate</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn">α</span> <a href="../.././Init/Core.html#Sum">⊕</a> <span class="fn">β</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">β</span></span></div></div><p>Iterates an <code><a href="../.././Init/System/IO.html#IO">IO</a></code> action. Starting with an initial state, the action is applied repeatedly until it
returns a final value in <code><a href="../.././Init/Core.html#Sum.inr">Sum.inr</a></code>. Each time it returns <code><a href="../.././Init/Core.html#Sum.inl">Sum.inl</a></code>, the returned value is treated as
a new sate.</p></div></div><div class="decl" id="IO.FS.Handle.mk"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L742-L747">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_mk]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.mk"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">mk</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a></span></div></div><p>Opens the file at <code>fn</code> with the given <code>mode</code>.</p><p>An exception is thrown if the file cannot be opened.</p></div></div><div class="decl" id="IO.FS.Handle.lock"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L749-L755">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_lock]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.lock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">lock</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exclusive</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Acquires an exclusive or shared lock on the handle. Blocks to wait for the lock if necessary.</p><p>Acquiring a exclusive lock while already possessing a shared lock will <strong>not</strong> reliably succeed: it
works on Unix-like systems but not on Windows.</p></div></div><div class="decl" id="IO.FS.Handle.tryLock"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L756-L763">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_try_lock]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.tryLock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">tryLock</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exclusive</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Tries to acquire an exclusive or shared lock on the handle and returns <code>true</code> if successful. Will
not block if the lock cannot be acquired, but instead returns <code>false</code>.</p><p>Acquiring a exclusive lock while already possessing a shared lock will <strong>not</strong> reliably succeed: it
works on Unix-like systems but not on Windows.</p></div></div><div class="decl" id="IO.FS.Handle.unlock"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L764-L767">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_unlock]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.unlock"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">unlock</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Releases any previously-acquired lock on the handle. Succeeds even if no lock has been acquired.</p></div></div><div class="decl" id="IO.FS.Handle.isTty"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L769-L772">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_is_tty]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.isTty"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">isTty</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if a handle refers to a Windows console or a Unix terminal.</p></div></div><div class="decl" id="IO.FS.Handle.flush"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L774-L778">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_flush]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.flush"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">flush</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Flushes the output buffer associated with the handle, writing any unwritten data to the associated
output device.</p></div></div><div class="decl" id="IO.FS.Handle.rewind"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L779-L782">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_rewind]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.rewind"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">rewind</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Rewinds the read/write cursor to the beginning of the handle's file.</p></div></div><div class="decl" id="IO.FS.Handle.truncate"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L783-L792">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_truncate]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.truncate"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">truncate</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Truncates the handle to its read/write cursor.</p><p>This operation does not automatically flush output buffers, so the contents of the output device may
not reflect the change immediately. This does not usually lead to problems because the read/write
cursor includes buffered writes. However, buffered writes followed by <code><a href="../.././Init/System/IO.html#IO.FS.Handle.rewind">IO.FS.Handle.rewind</a></code>, then
<code><a href="../.././Init/System/IO.html#IO.FS.Handle.truncate">IO.FS.Handle.truncate</a></code>, and then closing the file may lead to a non-empty file. If unsure, call
<code><a href="../.././Init/System/IO.html#IO.FS.Handle.flush">IO.FS.Handle.flush</a></code> before truncating.</p></div></div><div class="decl" id="IO.FS.Handle.read"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L793-L799">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_read]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.read"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">read</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bytes</span> : <a href="../.././Init/Prelude.html#USize">USize</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div><p>Reads up to the given number of bytes from the handle. If the returned array is empty, an
end-of-file marker (EOF) has been reached.</p><p>Encountering an EOF does not close a handle. Subsequent reads may block and return more data.</p></div></div><div class="decl" id="IO.FS.Handle.write"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L800-L806">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_write]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.write"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">write</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">buffer</span> : <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Writes the provided bytes to the the handle.</p><p>Writing to a handle is typically buffered, and may not immediately modify the file on disk. Use
<code><a href="../.././Init/System/IO.html#IO.FS.Handle.flush">IO.FS.Handle.flush</a></code> to write changes to buffers to the associated device.</p></div></div><div class="decl" id="IO.FS.Handle.getLine"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L808-L814">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_get_line]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.getLine"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">getLine</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Reads UTF-8-encoded text up to and including the next line break from the handle. If the returned
string is empty, an end-of-file marker (EOF) has been reached.</p><p>Encountering an EOF does not close a handle. Subsequent reads may block and return more data.</p></div></div><div class="decl" id="IO.FS.Handle.putStr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L815-L821">source</a></div><div class="attributes">@[extern  lean_io_prim_handle_put_str]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.putStr"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">putStr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Writes the provided string to the file handle using the UTF-8 encoding.</p><p>Writing to a handle is typically buffered, and may not immediately modify the file on disk. Use
<code><a href="../.././Init/System/IO.html#IO.FS.Handle.flush">IO.FS.Handle.flush</a></code> to write changes to buffers to the associated device.</p></div></div><div class="decl" id="IO.FS.realPath"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L825-L831">source</a></div><div class="attributes">@[extern  lean_io_realpath]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.realPath"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">realPath</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Resolves a path to an absolute path that contains no '.', '..', or symbolic links.</p><p>This function coincides with the <a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/realpath.html">POSIX <code>realpath</code>
function</a>.</p></div></div><div class="decl" id="IO.FS.removeFile"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L833-L838">source</a></div><div class="attributes">@[extern  lean_io_remove_file]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.removeFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeFile</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Removes (deletes) a file from the filesystem.</p><p>To remove a directory, use <code><a href="../.././Init/System/IO.html#IO.FS.removeDir">IO.FS.removeDir</a></code> or <code><a href="../.././Init/System/IO.html#IO.FS.removeDirAll">IO.FS.removeDirAll</a></code> instead.</p></div></div><div class="decl" id="IO.FS.removeDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L840-L846">source</a></div><div class="attributes">@[extern  lean_io_remove_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.removeDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div></div><p>Removes (deletes) a directory.</p><p>Removing a directory fails if the directory is not empty. Use <code><a href="../.././Init/System/IO.html#IO.FS.removeDirAll">IO.FS.removeDirAll</a></code> to remove
directories along with their contents.</p></div></div><div class="decl" id="IO.FS.createDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L847-L852">source</a></div><div class="attributes">@[extern  lean_io_create_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.createDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div></div><p>Creates a directory at the specified path. The parent directory must already exist.</p><p>Throws an exception if the directory cannot be created.</p></div></div><div class="decl" id="IO.FS.rename"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L855-L861">source</a></div><div class="attributes">@[extern  lean_io_rename]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.rename"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">rename</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">old </span><span class="fn">new</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Moves a file or directory <code>old</code> to the new location <code><a href="../.././Init/System/IO.html#IO.CancelToken.new">new</a></code>.</p><p>This function coincides with the <a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/rename.html">POSIX <code>rename</code>
function</a>.</p></div></div><div class="decl" id="IO.FS.createTempFile"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L863-L873">source</a></div><div class="attributes">@[extern  lean_io_create_tempfile]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.createTempFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createTempFile</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></div></div><p>Creates a temporary file in the most secure manner possible, returning both a <code><a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a></code> to the
already-opened file and its path.</p><p>There are no race conditions in the file’s creation. The file is readable and writable only by the
creating user ID. Additionally on UNIX style platforms the file is executable by nobody.</p><p>It is the caller's job to remove the file after use. Use <code><a href="../.././Init/System/IO.html#IO.FS.withTempFile">withTempFile</a></code> to ensure that the temporary
file is removed.</p></div></div><div class="decl" id="IO.FS.createTempDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L875-L883">source</a></div><div class="attributes">@[extern  lean_io_create_tempdir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.createTempDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createTempDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Creates a temporary directory in the most secure manner possible, returning the new directory's
path. There are no race conditions in the directory’s creation. The directory is readable and
writable only by the creating user ID.</p><p>It is the caller's job to remove the directory after use. Use <code><a href="../.././Init/System/IO.html#IO.FS.withTempDir">withTempDir</a></code> to ensure that the
temporary directory is removed.</p></div></div><div class="decl" id="IO.getEnv"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L887-L891">source</a></div><div class="attributes">@[extern  lean_io_getenv]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getEnv"><span class="name">IO</span>.<span class="name">getEnv</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a>)</span></span></div></div><p>Returns the value of the environment variable <code>var</code>, or <code>none</code> if it is not present in the
environment.</p></div></div><div class="decl" id="IO.appPath"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L892-L895">source</a></div><div class="attributes">@[extern  lean_io_app_path]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.appPath"><span class="name">IO</span>.<span class="name">appPath</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Returns the file name of the currently-running executable.</p></div></div><div class="decl" id="IO.currentDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L896-L899">source</a></div><div class="attributes">@[extern  lean_io_current_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.currentDir"><span class="name">IO</span>.<span class="name">currentDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Returns the current working directory of the executing process.</p></div></div><div class="decl" id="IO.FS.withFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L903-L911">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.withFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withFile</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">fn</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/System/IO.html#IO.FS.Mode">Mode</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Opens the file <code>fn</code> with the specified <code>mode</code> and passes the resulting file handle to <code>f</code>.</p><p>The file handle is closed when the last reference to it is dropped. If references escape <code>f</code>, then
the file remains open even after <code><a href="../.././Init/System/IO.html#IO.FS.withFile">IO.FS.withFile</a></code> has finished.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.withFile">IO.FS.withFile</a> <span class="fn">fn</span> <span class="fn">mode</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle.mk">IO.FS.Handle.mk</a> <span class="fn">fn</span> <span class="fn">mode</span></span> <a href="../.././Init/Prelude.html#Bind.bind">&gt;&gt;=</a> <span class="fn">f</span></li></ul></details><details id="instances-for-list-IO.FS.withFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Handle.putStrLn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L913-L917">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.putStrLn"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">putStrLn</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Writes the contents of the string to the handle, followed by a newline. Uses UTF-8.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.putStrLn">putStrLn</a></span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.putStr">putStr</a></span> <span class="fn">(<span class="fn"><span class="fn">s</span>.<a href="../.././Init/Data/String/Basic.html#String.push">push</a></span> <span class="fn">'\n'</span>)</span></span></li></ul></details><details id="instances-for-list-IO.FS.Handle.putStrLn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Handle.readBinToEndInto"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L919-L933">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEndInto"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEndInto</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">buf</span> : <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div><p>Reads the entire remaining contents of the file handle until an end-of-file marker (EOF) is
encountered.</p><p>The underlying file is not automatically closed upon encountering an EOF, and subsequent reads from
the handle may block and/or return data.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEndInto">readBinToEndInto</a></span> <span class="fn">buf</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEndInto.loop">IO.FS.Handle.readBinToEndInto.loop</a> <span class="fn">h</span> <span class="fn">buf</span></span></li></ul></details><details id="instances-for-list-IO.FS.Handle.readBinToEndInto" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Handle.readBinToEndInto.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L927-L932">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEndInto.loop"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEndInto</span>.<span class="name">loop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">acc</span> : <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div></div></div><div class="decl" id="IO.FS.Handle.readBinToEnd"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L935-L943">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEnd"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readBinToEnd</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div><p>Reads the entire remaining contents of the file handle until an end-of-file marker (EOF) is
encountered.</p><p>The underlying file is not automatically closed upon encountering an EOF, and subsequent reads from
the handle may block and/or return data.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEnd">readBinToEnd</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.readBinToEndInto">readBinToEndInto</a></span> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray.empty">ByteArray.empty</a></span></li></ul></details><details id="instances-for-list-IO.FS.Handle.readBinToEnd" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Handle.readToEnd"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L945-L956">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Handle.readToEnd"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Handle</span>.<span class="name">readToEnd</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Reads the entire remaining contents of the file handle as a UTF-8-encoded string. An exception is
thrown if the contents are not valid UTF-8.</p><p>The underlying file is not automatically closed, and subsequent reads from the handle may block
and/or return data.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.FS.Handle.readToEnd" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.lines"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L958-L975">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.lines"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">lines</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a>)</span></span></div></div><p>Returns the contents of a UTF-8-encoded text file as an array of lines.</p><p>Newline markers are not included in the lines.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.lines">IO.FS.lines</a> <span class="fn">fname</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">h</span> ← <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle.mk">IO.FS.Handle.mk</a> <span class="fn">fname</span> <a href="../.././Init/System/IO.html#IO.FS.Mode.read">IO.FS.Mode.read</a></span>
  <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.lines.read">IO.FS.lines.read</a> <span class="fn">h</span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span></span></li></ul></details><details id="instances-for-list-IO.FS.lines" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.lines.read"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L965-L974">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.lines.read"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">lines</span>.<span class="name">read</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lines</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a>)</span></span></div></div></div></div><div class="decl" id="IO.FS.writeBinFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L977-L982">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.writeBinFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">writeBinFile</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">content</span> : <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Write the provided bytes to a binary file at the specified path.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.writeBinFile">IO.FS.writeBinFile</a> <span class="fn">fname</span> <span class="fn">content</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">h</span> ← <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle.mk">IO.FS.Handle.mk</a> <span class="fn">fname</span> <a href="../.././Init/System/IO.html#IO.FS.Mode.write">IO.FS.Mode.write</a></span>
  <span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.write">write</a></span> <span class="fn">content</span></span></span></li></ul></details><details id="instances-for-list-IO.FS.writeBinFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.writeFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L984-L989">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.writeFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">writeFile</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">content</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Write contents of a string to a file at the specified path using UTF-8 encoding.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.writeFile">IO.FS.writeFile</a> <span class="fn">fname</span> <span class="fn">content</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">h</span> ← <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle.mk">IO.FS.Handle.mk</a> <span class="fn">fname</span> <a href="../.././Init/System/IO.html#IO.FS.Mode.write">IO.FS.Mode.write</a></span>
  <span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.putStr">putStr</a></span> <span class="fn">content</span></span></span></li></ul></details><details id="instances-for-list-IO.FS.writeFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Stream.putStrLn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L992-L996">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Stream.putStrLn"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">putStrLn</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">strm</span> : <a href="../.././Init/System/IO.html#IO.FS.Stream">Stream</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Writes the contents of the string to the stream, followed by a newline.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">strm</span>.<a href="../.././Init/System/IO.html#IO.FS.Stream.putStrLn">putStrLn</a></span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">strm</span>.<a href="../.././Init/System/IO.html#IO.FS.Stream.putStr">putStr</a></span> <span class="fn">(<span class="fn"><span class="fn">s</span>.<a href="../.././Init/Data/String/Basic.html#String.push">push</a></span> <span class="fn">'\n'</span>)</span></span></li></ul></details><details id="instances-for-list-IO.FS.Stream.putStrLn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.DirEntry"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L998-L1004">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.DirEntry"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">DirEntry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>An entry in a directory on a filesystem.</p><ul class="structure_fields" id="IO.FS.DirEntry.mk"><li id="IO.FS.DirEntry.root" class="structure_field"><div class="structure_field_info">root : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></div><div class="structure_field_doc"><p>The directory in which the entry is found.</p></div></li><li id="IO.FS.DirEntry.fileName" class="structure_field"><div class="structure_field_info">fileName : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>The name of the entry.</p></div></li></ul><details id="instances-for-list-IO.FS.DirEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.instReprDirEntry"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1004-L1004">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instReprDirEntry"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprDirEntry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Init/System/IO.html#IO.FS.DirEntry">DirEntry</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instReprDirEntry">IO.FS.instReprDirEntry</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.reprDirEntry._@.Init.System.IO._hyg.2802">IO.FS.reprDirEntry✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.DirEntry.path"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1006-L1008">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.DirEntry.path"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">DirEntry</span>.<span class="name">path</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">entry</span> : <a href="../.././Init/System/IO.html#IO.FS.DirEntry">DirEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></div></div><p>The path of the file indicated by the directory entry.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">entry</span>.<a href="../.././Init/System/IO.html#IO.FS.DirEntry.path">path</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">entry</span>.<a href="../.././Init/System/IO.html#IO.FS.DirEntry.root">root</a></span> <a href="../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../.././Init/System/FilePath.html#System.FilePath.mk">{</a> <span class="fn">toString</span> := <span class="fn"><span class="fn">entry</span>.<a href="../.././Init/System/IO.html#IO.FS.DirEntry.fileName">fileName</a></span> <a href="../.././Init/System/FilePath.html#System.FilePath.mk">}</a></li></ul></details><details id="instances-for-list-IO.FS.DirEntry.path" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.FileType"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1010-L1020">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.FileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">FileType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Types of files that may be found on a filesystem.</p><ul class="constructors"><li class="constructor" id="IO.FS.FileType.dir">dir : <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a><div class="inductive_ctor_doc"><p>Directories don't have contents, but may contain other files.</p></div></li><li class="constructor" id="IO.FS.FileType.file">file : <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a><div class="inductive_ctor_doc"><p>Ordinary files that have contents and are not directories.</p></div></li><li class="constructor" id="IO.FS.FileType.symlink">symlink : <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a><div class="inductive_ctor_doc"><p>Symbolic links that are pointers to other named files.</p></div></li><li class="constructor" id="IO.FS.FileType.other">other : <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a><div class="inductive_ctor_doc"><p>Files that are neither ordinary files, directories, or symbolic links.</p></div></li></ul><details id="instances-for-list-IO.FS.FileType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.instReprFileType"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1020-L1020">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instReprFileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprFileType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instReprFileType">IO.FS.instReprFileType</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.reprFileType._@.Init.System.IO._hyg.2880">IO.FS.reprFileType✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.instBEqFileType"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1020-L1020">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instBEqFileType"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instBEqFileType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instBEqFileType">IO.FS.instBEqFileType</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.beqFileType._@.Init.System.IO._hyg.3028">IO.FS.beqFileType✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.SystemTime"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1022-L1030">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.SystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">SystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Low-level system time, tracked in whole seconds and additional nanoseconds.</p><ul class="structure_fields" id="IO.FS.SystemTime.mk"><li id="IO.FS.SystemTime.sec" class="structure_field"><div class="structure_field_info">sec : <a href="../.././Init/Data/Int/Basic.html#Int">Int</a></div><div class="structure_field_doc"><p>The number of whole seconds.</p></div></li><li id="IO.FS.SystemTime.nsec" class="structure_field"><div class="structure_field_info">nsec : <a href="../.././Init/Prelude.html#UInt32">UInt32</a></div><div class="structure_field_doc"><p>The number of additional nanoseconds.</p></div></li></ul><details id="instances-for-list-IO.FS.SystemTime" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.instReprSystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1030-L1030">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instReprSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprSystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instReprSystemTime">IO.FS.instReprSystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.reprSystemTime._@.Init.System.IO._hyg.3066">IO.FS.reprSystemTime✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.instBEqSystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1030-L1030">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instBEqSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instBEqSystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instBEqSystemTime">IO.FS.instBEqSystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.beqSystemTime._@.Init.System.IO._hyg.3124">IO.FS.beqSystemTime✝</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.instOrdSystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1030-L1030">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instOrdSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instOrdSystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Ord.html#Ord">Ord</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instOrdSystemTime">IO.FS.instOrdSystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#Ord.mk">{</a> <span class="fn">compare</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.ordSystemTime._@.Init.System.IO._hyg.3198">IO.FS.ordSystemTime✝</a> <a href="../.././Init/Data/Ord.html#Ord.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.instInhabitedSystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1030-L1030">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instInhabitedSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instInhabitedSystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instInhabitedSystemTime">IO.FS.instInhabitedSystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Init/System/IO.html#IO.FS.SystemTime.mk">{</a> <span class="fn">sec</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">nsec</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.FS.instLTSystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1032-L1032">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instLTSystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instLTSystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#LT">LT</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instLTSystemTime">IO.FS.instLTSystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#ltOfOrd">ltOfOrd</a></li></ul></details></div></div><div class="decl" id="IO.FS.instLESystemTime"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1033-L1033">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instLESystemTime"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instLESystemTime</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#LE">LE</a> <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instLESystemTime">IO.FS.instLESystemTime</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Ord.html#leOfOrd">leOfOrd</a></li></ul></details></div></div><div class="decl" id="IO.FS.Metadata"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1035-L1052">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Metadata"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Metadata</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>File metadata.</p><p>The metadata for a file can be accessed with <code><a href="../.././Init/System/IO.html#System.FilePath.metadata">System.FilePath.metadata</a></code>.</p><ul class="structure_fields" id="IO.FS.Metadata.mk"><li id="IO.FS.Metadata.accessed" class="structure_field"><div class="structure_field_info">accessed : <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></div><div class="structure_field_doc"><p>File access time.</p></div></li><li id="IO.FS.Metadata.modified" class="structure_field"><div class="structure_field_info">modified : <a href="../.././Init/System/IO.html#IO.FS.SystemTime">SystemTime</a></div><div class="structure_field_doc"><p>File modification time.</p></div></li><li id="IO.FS.Metadata.byteSize" class="structure_field"><div class="structure_field_info">byteSize : <a href="../.././Init/Prelude.html#UInt64">UInt64</a></div><div class="structure_field_doc"><p>The size of the file in bytes.</p></div></li><li id="IO.FS.Metadata.type" class="structure_field"><div class="structure_field_info">type : <a href="../.././Init/System/IO.html#IO.FS.FileType">FileType</a></div><div class="structure_field_doc"><p>Whether the file is an ordinary file, a directory, a symbolic link, or some other kind of file.</p></div></li></ul><details id="instances-for-list-IO.FS.Metadata" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.instReprMetadata"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1052-L1052">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.instReprMetadata"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">instReprMetadata</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Init/System/IO.html#IO.FS.Metadata">Metadata</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.FS.instReprMetadata">IO.FS.instReprMetadata</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.FS.reprMetadata._@.Init.System.IO._hyg.3320">IO.FS.reprMetadata✝</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="System.FilePath.readDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1060-L1065">source</a></div><div class="attributes">@[extern  lean_io_read_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.readDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">readDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/System/IO.html#IO.FS.DirEntry">IO.FS.DirEntry</a>)</span></span></span></div></div><p>Returns the contents of the indicated directory. Throws an exception if the file does not exist or
is not a directory.</p></div></div><div class="decl" id="System.FilePath.metadata"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1067-L1072">source</a></div><div class="attributes">@[extern  lean_io_metadata]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.metadata"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">metadata</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/IO.html#IO.FS.Metadata">IO.FS.Metadata</a></span></span></div></div><p>Returns metadata for the indicated file. Throws an exception if the file does not exist or the
metadata cannot be accessed.</p></div></div><div class="decl" id="System.FilePath.isDir"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1074-L1080">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.isDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">isDir</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Checks whether the indicated path can be read and is a directory.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Init/System/IO.html#System.FilePath.isDir">isDir</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Init/System/IO.html#EIO.toBaseIO">EIO.toBaseIO</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Init/System/IO.html#System.FilePath.metadata">metadata</a></span></span>
  <span class="fn">match <span class="fn">__do_lift</span> with
    | <span class="fn"><a href="../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">m</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn">m</span>.<a href="../.././Init/System/IO.html#IO.FS.Metadata.type">type</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Init/System/IO.html#IO.FS.FileType.dir">IO.FS.FileType.dir</a>)</span>
    | <span class="fn"><a href="../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">a</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span></span></li></ul></details><details id="instances-for-list-System.FilePath.isDir" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="System.FilePath.pathExists"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1082-L1086">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.pathExists"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">pathExists</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Checks whether the indicated path points to a file that exists.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">p</span>.<a href="../.././Init/System/IO.html#System.FilePath.pathExists">pathExists</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Init/System/IO.html#EIO.toBaseIO">EIO.toBaseIO</a> <span class="fn"><span class="fn">p</span>.<a href="../.././Init/System/IO.html#System.FilePath.metadata">metadata</a></span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Init/Control/Except.html#Except.toBool">toBool</a></span></span></span></li></ul></details><details id="instances-for-list-System.FilePath.pathExists" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="System.FilePath.walkDir"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1088-L1114">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.walkDir"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">walkDir</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">enter</span> : <span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>) =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span></span></div></div><p>Traverses a filesystem starting at the path <code>p</code> and exploring directories that satisfy <code>enter</code>,
returning the paths visited.</p><p>The traversal is a preorder traversal, in which parent directories occur prior to any of their
children. Symbolic links are followed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../.././Init/System/IO.html#System.FilePath.walkDir">walkDir</a></span> <span class="fn">enter</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Prod.snd">Prod.snd</a> <a href="../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn"><span class="fn">(<a href="../.././Init/System/IO.html#System.FilePath.walkDir.go">System.FilePath.walkDir.go</a> <span class="fn">enter</span> <span class="fn">p</span>)</span>.<a href="../.././Init/Control/State.html#StateT.run">run</a></span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-System.FilePath.walkDir" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="System.FilePath.walkDir.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1098-L1114">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#System.FilePath.walkDir.go"><span class="name">System</span>.<span class="name">FilePath</span>.<span class="name">walkDir</span>.<span class="name">go</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">enter</span> : <span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>) =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/System/FilePath.html#System.FilePath">FilePath</a>)</span> <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="IO.FS.readBinFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1122-L1135">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.readBinFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">readBinFile</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></span></div></div><p>Reads the entire contents of the binary file at the given path as an array of bytes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.FS.readBinFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.readFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1137-L1147">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.readFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">readFile</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fname</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Reads the entire contents of the UTF-8-encoded file at the given path as a <code><a href="../.././Init/Prelude.html#String">String</a></code>.</p><p>An exception is thrown if the contents of the file are not valid UTF-8. This is in addition to
exceptions that may always be thrown as a result of failing to read files.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.FS.readFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.withStdin"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1151-L1157">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.withStdin"><span class="name">IO</span>.<span class="name">withStdin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Runs an action with the specified stream <code>h</code> as standard input, restoring the original standard
input stream afterwards.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.withStdin">IO.withStdin</a> <span class="fn">h</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">prev</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStdin">IO.setStdin</a> <span class="fn">h</span>)</span></span>
  <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">x</span> <span class="fn">(<a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStdin">IO.setStdin</a> <span class="fn">prev</span>)</span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.withStdin" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.withStdout"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1159-L1168">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.withStdout"><span class="name">IO</span>.<span class="name">withStdout</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Runs an action with the specified stream <code>h</code> as standard output, restoring the original standard
output stream afterwards.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.withStdout">IO.withStdout</a> <span class="fn">h</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">prev</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStdout">IO.setStdout</a> <span class="fn">h</span>)</span></span>
  <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">x</span> <span class="fn">(<a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStdout">IO.setStdout</a> <span class="fn">prev</span>)</span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.withStdout" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.withStderr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1170-L1176">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.withStderr"><span class="name">IO</span>.<span class="name">withStderr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Stream">FS.Stream</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Runs an action with the specified stream <code>h</code> as standard error, restoring the original standard
error stream afterwards.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.withStderr">IO.withStderr</a> <span class="fn">h</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">prev</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStderr">IO.setStderr</a> <span class="fn">h</span>)</span></span>
  <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">x</span> <span class="fn">(<a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.setStderr">IO.setStderr</a> <span class="fn">prev</span>)</span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.withStderr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.print"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1178-L1184">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.print"><span class="name">IO</span>.<span class="name">print</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Converts <code>s</code> to a string using its <code><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> α</code> instance, and prints it to the current standard
output (as determined by <code><a href="../.././Init/System/IO.html#IO.getStdout">IO.getStdout</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.print">IO.print</a> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">out</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Init/System/IO.html#IO.getStdout">IO.getStdout</a></span>
  <span class="fn"><span class="fn"><span class="fn">out</span>.<a href="../.././Init/System/IO.html#IO.FS.Stream.putStr">putStr</a></span> <span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">s</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.print" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.println"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1186-L1191">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.println"><span class="name">IO</span>.<span class="name">println</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Converts <code>s</code> to a string using its <code><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> α</code> instance, and prints it with a trailing newline to
the current standard output (as determined by <code><a href="../.././Init/System/IO.html#IO.getStdout">IO.getStdout</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.println">IO.println</a> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.print">IO.print</a> <span class="fn">(<span class="fn"><span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">s</span>)</span>.<a href="../.././Init/Data/String/Basic.html#String.push">push</a></span> <span class="fn">'\n'</span>)</span></span></li></ul></details><details id="instances-for-list-IO.println" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.eprint"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1193-L1199">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.eprint"><span class="name">IO</span>.<span class="name">eprint</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Converts <code>s</code> to a string using its <code><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> α</code> instance, and prints it to the current standard
error (as determined by <code><a href="../.././Init/System/IO.html#IO.getStderr">IO.getStderr</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.eprint">IO.eprint</a> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">out</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Init/System/IO.html#IO.getStderr">IO.getStderr</a></span>
  <span class="fn"><span class="fn"><span class="fn">out</span>.<a href="../.././Init/System/IO.html#IO.FS.Stream.putStr">putStr</a></span> <span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">s</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.eprint" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.eprintln"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1201-L1206">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.eprintln"><span class="name">IO</span>.<span class="name">eprintln</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Converts <code>s</code> to a string using its <code><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> α</code> instance, and prints it with a trailing newline to
the current standard error (as determined by <code><a href="../.././Init/System/IO.html#IO.getStderr">IO.getStderr</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.eprintln">IO.eprintln</a> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.eprint">IO.eprint</a> <span class="fn">(<span class="fn"><span class="fn">(<a href="../.././Init/Data/ToString/Basic.html#ToString.toString">toString</a> <span class="fn">s</span>)</span>.<a href="../.././Init/Data/String/Basic.html#String.push">push</a></span> <span class="fn">'\n'</span>)</span></span></li></ul></details><details id="instances-for-list-IO.eprintln" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.appDir"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1216-L1223">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.appDir"><span class="name">IO</span>.<span class="name">appDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Returns the directory that the current executable is located in.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.appDir" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.createDirAll"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1227-L1242">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.createDirAll"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">createDirAll</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Creates a directory at the specified path, creating all missing parents as directories.</p></div></div><div class="decl" id="IO.FS.removeDirAll"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1244-L1253">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.removeDirAll"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">removeDirAll</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Fully remove given directory by deleting all contained files and directories in an unspecified order.
Fails if any contained entry cannot be deleted or was newly created during execution.</p></div></div><div class="decl" id="IO.FS.withTempFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1255-L1270">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.withTempFile"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withTempFile</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a> → <span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Creates a temporary file in the most secure manner possible and calls <code>f</code> with both a <code><a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a></code> to
the already-opened file and its path. Afterwards, the temporary file is deleted.</p><p>There are no race conditions in the file’s creation. The file is readable and writable only by the
creating user ID. Additionally on UNIX style platforms the file is executable by nobody.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.FS.createTempFile">IO.FS.createTempFile</a></code> to avoid the automatic deletion of the temporary file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.withTempFile">IO.FS.withTempFile</a> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Init/System/IO.html#IO.FS.createTempFile">IO.FS.createTempFile</a></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">handle</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">path</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">(<span class="fn">f</span> <span class="fn">handle</span> <span class="fn">path</span>)</span> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.FS.removeFile">IO.FS.removeFile</a> <span class="fn">path</span>)</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-IO.FS.withTempFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.withTempDir"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1272-L1287">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.withTempDir"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withTempDir</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Creates a temporary directory in the most secure manner possible, providing a its path to an <code><a href="../.././Init/System/IO.html#IO">IO</a></code>
action. Afterwards, all files in the temporary directory are recursively deleted, regardless of how
or when they were created.</p><p>There are no race conditions in the directory’s creation. The directory is readable and writable
only by the creating user ID. Use <code><a href="../.././Init/System/IO.html#IO.FS.createTempDir">IO.FS.createTempDir</a></code> to avoid the automatic deletion of the
directory's contents.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.withTempDir">IO.FS.withTempDir</a> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">path</span> ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Init/System/IO.html#IO.FS.createTempDir">IO.FS.createTempDir</a></span>
  <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">(<span class="fn">f</span> <span class="fn">path</span>)</span> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.FS.removeDirAll">IO.FS.removeDirAll</a> <span class="fn">path</span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-IO.FS.withTempDir" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.getCurrentDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1293-L1294">source</a></div><div class="attributes">@[extern  lean_io_process_get_current_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.getCurrentDir"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">getCurrentDir</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div></div><p>Returns the current working directory of the calling process.</p></div></div><div class="decl" id="IO.Process.setCurrentDir"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1296-L1297">source</a></div><div class="attributes">@[extern  lean_io_process_set_current_dir]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.setCurrentDir"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">setCurrentDir</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">path</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Sets the current working directory of the calling process.</p></div></div><div class="decl" id="IO.Process.getPID"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1299-L1300">source</a></div><div class="attributes">@[extern  lean_io_process_get_pid]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.getPID"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">getPID</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#UInt32">UInt32</a></span></div></div><p>Returns the process ID of the calling process.</p></div></div><div class="decl" id="IO.Process.Stdio"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1302-L1314">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Stdio"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Stdio</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Whether the standard input, output, and error handles of a child process should be attached to
pipes, inherited from the parent, or null.</p><p>If the stream is a pipe, then the parent process can use it to communicate with the child.</p><ul class="constructors"><li class="constructor" id="IO.Process.Stdio.piped">piped : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a><div class="inductive_ctor_doc"><p>The stream should be attached to a pipe.</p></div></li><li class="constructor" id="IO.Process.Stdio.inherit">inherit : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a><div class="inductive_ctor_doc"><p>The stream should be inherited from the parent process.</p></div></li><li class="constructor" id="IO.Process.Stdio.null">null : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a><div class="inductive_ctor_doc"><p>The stream should be empty.</p></div></li></ul><details id="instances-for-list-IO.Process.Stdio" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.Stdio.toHandleType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1316-L1326">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Stdio</span>.<span class="name">toHandleType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a> → <a href="../.././foundational_types.html">Type</a></span></div></div><p>The type of handles that can be used to communicate with a child process on its standard input,
output, or error streams.</p><p>For <code><a href="../.././Init/System/IO.html#IO.Process.Stdio.piped">IO.Process.Stdio.piped</a></code>, this type is <code><a href="../.././Init/System/IO.html#IO.FS.Handle">IO.FS.Handle</a></code>. Otherwise, it is <code><a href="../.././Init/Prelude.html#Unit">Unit</a></code>, because no
communication is possible.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Stdio.piped">IO.Process.Stdio.piped</a>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/System/IO.html#IO.FS.Handle">IO.FS.Handle</a></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Stdio.inherit">IO.Process.Stdio.inherit</a>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></li><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Stdio.null">IO.Process.Stdio.null</a>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></li></ul></details><details id="instances-for-list-IO.Process.Stdio.toHandleType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.StdioConfig"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1328-L1337">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.StdioConfig"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">StdioConfig</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Configuration for the standard input, output, and error handles of a child process.</p><ul class="structure_fields" id="IO.Process.StdioConfig.mk"><li id="IO.Process.StdioConfig.stdin" class="structure_field"><div class="structure_field_info">stdin : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div><div class="structure_field_doc"><p>Configuration for the process' stdin handle.</p></div></li><li id="IO.Process.StdioConfig.stdout" class="structure_field"><div class="structure_field_info">stdout : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div><div class="structure_field_doc"><p>Configuration for the process' stdout handle.</p></div></li><li id="IO.Process.StdioConfig.stderr" class="structure_field"><div class="structure_field_info">stderr : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div><div class="structure_field_doc"><p>Configuration for the process' stderr handle.</p></div></li></ul><details id="instances-for-list-IO.Process.StdioConfig" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.SpawnArgs"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1339-L1366">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.SpawnArgs"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">SpawnArgs</span></a></span><span class="decl_extends">extends</span> <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">IO.Process.StdioConfig</a><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Configuration for a child process to be spawned.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.Process.spawn">IO.Process.spawn</a></code> to start the child process. <code><a href="../.././Init/System/IO.html#IO.Process.output">IO.Process.output</a></code> and <code><a href="../.././Init/System/IO.html#IO.Process.run">IO.Process.run</a></code> can be
used when the child process should be run to completion, with its output and/or error code captured.</p><ul class="structure_fields" id="IO.Process.SpawnArgs.mk"><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdin">stdin</a> : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdout">stdout</a> : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stderr">stderr</a> : <a href="../.././Init/System/IO.html#IO.Process.Stdio">Stdio</a></div></li><li id="IO.Process.SpawnArgs.cmd" class="structure_field"><div class="structure_field_info">cmd : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>Command name.</p></div></li><li id="IO.Process.SpawnArgs.args" class="structure_field"><div class="structure_field_info">args : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#String">String</a></span></div><div class="structure_field_doc"><p>Arguments for the command.</p></div></li><li id="IO.Process.SpawnArgs.cwd" class="structure_field"><div class="structure_field_info">cwd : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></span></div><div class="structure_field_doc"><p>The child process's working directory. Inherited from the parent current process if <code>none</code>.</p></div></li><li id="IO.Process.SpawnArgs.env" class="structure_field"><div class="structure_field_info">env : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Init/Prelude.html#String">String</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></div><div class="structure_field_doc"><p>Add or remove environment variables for the child process.</p><p>The child process inherits the parent's environment, as modified by <code><a href="../.././Init/System/IO.html#IO.Process.SpawnArgs.env">env</a></code>. Keys in the array are
the names of environment variables. A <code>none</code>, causes the entry to be removed from the environment,
and <code>some</code> sets the variable to the new value, adding it if necessary. Variables are processed from left to right.</p></div></li><li id="IO.Process.SpawnArgs.inheritEnv" class="structure_field"><div class="structure_field_info">inheritEnv : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Inherit environment variables from the spawning process.</p></div></li><li id="IO.Process.SpawnArgs.setsid" class="structure_field"><div class="structure_field_info">setsid : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Starts the child process in a new session and process group using <code><a href="../.././Init/System/IO.html#IO.Process.SpawnArgs.setsid">setsid</a></code>. Currently a no-op on
non-POSIX platforms.</p></div></li></ul><details id="instances-for-list-IO.Process.SpawnArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.Child"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1368-L1389">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A child process that was spawned with configuration <code>cfg</code>.</p><p>The configuration determines whether the child process's standard input, standard output, and
standard error are <code><a href="../.././Init/System/IO.html#IO.FS.Handle">IO.FS.Handle</a></code>s or <code><a href="../.././Init/Prelude.html#Unit">Unit</a></code>.</p><ul class="structure_fields" id="_private.Init.System.IO.0.IO.Process.Child.mk"><li id="IO.Process.Child.stdin" class="structure_field"><div class="structure_field_info">stdin : <span class="fn"><span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdin">stdin</a></span>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span></div><div class="structure_field_doc"><p>The child process's standard input handle, if it was configured as <code><a href="../.././Init/System/IO.html#IO.Process.Stdio.piped">IO.Process.Stdio.piped</a></code>, or
<code>()</code> otherwise.</p></div></li><li id="IO.Process.Child.stdout" class="structure_field"><div class="structure_field_info">stdout : <span class="fn"><span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdout">stdout</a></span>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span></div><div class="structure_field_doc"><p>The child process's standard output handle, if it was configured as <code><a href="../.././Init/System/IO.html#IO.Process.Stdio.piped">IO.Process.Stdio.piped</a></code>, or
<code>()</code> otherwise.</p></div></li><li id="IO.Process.Child.stderr" class="structure_field"><div class="structure_field_info">stderr : <span class="fn"><span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stderr">stderr</a></span>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span></div><div class="structure_field_doc"><p>The child process's standard error handle, if it was configured as <code><a href="../.././Init/System/IO.html#IO.Process.Stdio.piped">IO.Process.Stdio.piped</a></code>, or
<code>()</code> otherwise.</p></div></li></ul><details id="instances-for-list-IO.Process.Child" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.spawn"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1391-L1400">source</a></div><div class="attributes">@[extern  lean_io_process_spawn]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.spawn"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">spawn</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <a href="../.././Init/System/IO.html#IO.Process.SpawnArgs">SpawnArgs</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn"><span class="fn">args</span>.<a href="../.././Init/System/IO.html#IO.Process.SpawnArgs.toStdioConfig">toStdioConfig</a></span>)</span></span></div></div><p>Starts a child process with the provided configuration. The child process is spawned using operating
system primitives, and it can be written in any language.</p><p>The child process runs in parallel with the parent.</p><p>If the child process's standard input is a pipe, use <code><a href="../.././Init/System/IO.html#IO.Process.Child.takeStdin">IO.Process.Child.takeStdin</a></code> to make it
possible to close the child's standard input before the process terminates, which provides the child with an end-of-file marker.</p></div></div><div class="decl" id="IO.Process.Child.wait"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1402-L1405">source</a></div><div class="attributes">@[extern  lean_io_process_child_wait]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child.wait"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">wait</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn">cfg</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#UInt32">UInt32</a></span></span></div></div><p>Blocks until the child process has exited and return its exit code.</p></div></div><div class="decl" id="IO.Process.Child.tryWait"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1407-L1412">source</a></div><div class="attributes">@[extern  lean_io_process_child_try_wait]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child.tryWait"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">tryWait</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn">cfg</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#UInt32">UInt32</a>)</span></span></span></div></div><p>Checks whether the child has exited. Returns <code>none</code> if the process has not exited, or its exit code
if it has.</p></div></div><div class="decl" id="IO.Process.Child.kill"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1414-L1419">source</a></div><div class="attributes">@[extern  lean_io_process_child_kill]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child.kill"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">kill</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn">cfg</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div></div><p>Terminates the child process using the <code>SIGTERM</code> signal or a platform analogue.</p><p>If the process was started using <code><a href="../.././Init/System/IO.html#IO.Process.SpawnArgs.setsid">SpawnArgs.setsid</a></code>, terminates the entire process group instead.</p></div></div><div class="decl" id="IO.Process.Child.takeStdin"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1421-L1432">source</a></div><div class="attributes">@[extern  lean_io_process_child_take_stdin]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child.takeStdin"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">takeStdin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn">cfg</span></span> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdin">stdin</a></span>.<a href="../.././Init/System/IO.html#IO.Process.Stdio.toHandleType">toHandleType</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <a href="../.././Init/System/IO.html#IO.Process.StdioConfig.mk">{</a> <span class="fn">stdin</span> := <a href="../.././Init/System/IO.html#IO.Process.Stdio.null">Stdio.null</a>, <span class="fn">stdout</span> := <span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdout">stdout</a></span>, <span class="fn">stderr</span> := <span class="fn"><span class="fn">cfg</span>.<a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stderr">stderr</a></span> <a href="../.././Init/System/IO.html#IO.Process.StdioConfig.mk">}</a></span>)</span></span></div></div><p>Extracts the <code><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdin">stdin</a></code> field from a <code><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a></code> object, allowing the handle to be closed while maintaining
a reference to the child process.</p><p>File handles are closed when the last reference to them is dropped. Closing the child's standard
input causes an end-of-file marker. Because the <code><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a></code> object has a reference to the standard
input, this operation is necessary in order to close the stream while the process is running (e.g.
to extract its exit code after calling <code><a href="../.././Init/System/IO.html#IO.Process.Child.wait">Child.wait</a></code>). Many processes do not terminate until their
standard input is exhausted.</p></div></div><div class="decl" id="IO.Process.Child.pid"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1434-L1435">source</a></div><div class="attributes">@[extern  lean_io_process_child_pid]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Child.pid"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Child</span>.<span class="name">pid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cfg</span> : <a href="../.././Init/System/IO.html#IO.Process.StdioConfig">StdioConfig</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/System/IO.html#IO.Process.Child">Child</a> <span class="fn">cfg</span></span> → <a href="../.././Init/Prelude.html#UInt32">UInt32</a></span></div></div><p>Returns the operating system process id of the child process.</p></div></div><div class="decl" id="IO.Process.Output"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1437-L1446">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.Output"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">Output</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The result of running a process to completion.</p><ul class="structure_fields" id="IO.Process.Output.mk"><li id="IO.Process.Output.exitCode" class="structure_field"><div class="structure_field_info">exitCode : <a href="../.././Init/Prelude.html#UInt32">UInt32</a></div><div class="structure_field_doc"><p>The process's exit code.</p></div></li><li id="IO.Process.Output.stdout" class="structure_field"><div class="structure_field_info">stdout : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>Everything that was written to the process's standard output.</p></div></li><li id="IO.Process.Output.stderr" class="structure_field"><div class="structure_field_info">stderr : <a href="../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>Everything that was written to the process's standard error.</p></div></li></ul><details id="instances-for-list-IO.Process.Output" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.output"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1448-L1460">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.output"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">output</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <a href="../.././Init/System/IO.html#IO.Process.SpawnArgs">SpawnArgs</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/System/IO.html#IO.Process.Output">Output</a></span></div></div><p>Runs a process to completion and captures its output and exit code. The child process is run with a
null standard input, and the current process blocks until it has run to completion.</p><p>The specifications of standard input, output, and error handles in <code><a href="../.././Init/System/IO.html#IO.Process.SpawnArgs.args">args</a></code> are ignored.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.Process.output" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1462-L1471">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.run"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">run</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <a href="../.././Init/System/IO.html#IO.Process.SpawnArgs">SpawnArgs</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#String">String</a></span></div></div><p>Runs a process to completion, blocking until it terminates. If the child process terminates
successfully with exit code 0, its standard output is returned. An exception is thrown if it
terminates with any other exit code.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.Process.run" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Process.exit"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1473-L1477">source</a></div><div class="attributes">@[extern  lean_io_exit]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Process.exit"><span class="name">IO</span>.<span class="name">Process</span>.<span class="name">exit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#UInt8">UInt8</a> → <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></span></div></div><p>Terminates the current process with the provided exit code. <code>0</code> indicates success, all other values
indicate failure.</p></div></div><div class="decl" id="IO.getTID"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1481-L1482">source</a></div><div class="attributes">@[extern  lean_io_get_tid]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.getTID"><span class="name">IO</span>.<span class="name">getTID</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><p>Returns the thread ID of the calling thread.</p></div></div><div class="decl" id="IO.AccessRight"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1484-L1496">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.AccessRight"><span class="name">IO</span>.<span class="name">AccessRight</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>POSIX-style file permissions.</p><p>The <code><a href="../.././Init/System/IO.html#IO.FileRight">FileRight</a></code> structure describes these permissions for a file's owner, members of it's designated
group, and all others.</p><ul class="structure_fields" id="IO.AccessRight.mk"><li id="IO.AccessRight.read" class="structure_field"><div class="structure_field_info">read : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>The file can be read.</p></div></li><li id="IO.AccessRight.write" class="structure_field"><div class="structure_field_info">write : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>The file can be written to.</p></div></li><li id="IO.AccessRight.execution" class="structure_field"><div class="structure_field_info">execution : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>The file can be executed.</p></div></li></ul><details id="instances-for-list-IO.AccessRight" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.AccessRight.flags"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1498-L1515">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.AccessRight.flags"><span class="name">IO</span>.<span class="name">AccessRight</span>.<span class="name">flags</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">acc</span> : <a href="../.././Init/System/IO.html#IO.AccessRight">AccessRight</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#UInt32">UInt32</a></div></div><p>Converts individual POSIX-style file permissions to their conventional three-bit representation.</p><p>This is the bitwise <code>or</code> of the following:</p><ul>
<li>If the file can be read, <code>0x4</code>, otherwise <code>0</code>.</li>
<li>If the file can be written, <code>0x2</code>, otherwise <code>0</code>.</li>
<li>If the file can be executed, <code>0x1</code>, otherwise <code>0</code>.</li>
</ul><p>Examples:</p><ul>
<li><code>{read := true : AccessRight}.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a> = 4</code></li>
<li><code>{read := true, <a href="../.././Init/System/IO.html#IO.FS.Mode.write">write</a> := true : AccessRight}.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a> = 6</code></li>
<li><code>{read := true, <a href="../.././Init/System/IO.html#IO.AccessRight.execution">execution</a> := true : AccessRight}.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a> = 5</code></li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn">(<a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.AccessRight.read">read</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn">4</span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span>).<a href="../.././Init/Data/UInt/Basic.html#UInt32.lor">lor</a></span>
    <span class="fn">(<span class="fn">(<a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.AccessRight.write">write</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn">2</span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span>).<a href="../.././Init/Data/UInt/Basic.html#UInt32.lor">lor</a></span> (<a href="../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.AccessRight.execution">execution</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span>))</span></span></li></ul></details><details id="instances-for-list-IO.AccessRight.flags" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FileRight"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1517-L1527">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FileRight"><span class="name">IO</span>.<span class="name">FileRight</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>POSIX-style file permissions that describe access rights for a file's owner, members of its
assigned group, and all others.</p><ul class="structure_fields" id="IO.FileRight.mk"><li id="IO.FileRight.user" class="structure_field"><div class="structure_field_info">user : <a href="../.././Init/System/IO.html#IO.AccessRight">AccessRight</a></div><div class="structure_field_doc"><p>The owner's permissions to access the file.</p></div></li><li id="IO.FileRight.group" class="structure_field"><div class="structure_field_info">group : <a href="../.././Init/System/IO.html#IO.AccessRight">AccessRight</a></div><div class="structure_field_doc"><p>The assigned group's permissions to access the file.</p></div></li><li id="IO.FileRight.other" class="structure_field"><div class="structure_field_info">other : <a href="../.././Init/System/IO.html#IO.AccessRight">AccessRight</a></div><div class="structure_field_doc"><p>The permissions that all others have to access the file.</p></div></li></ul><details id="instances-for-list-IO.FileRight" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FileRight.flags"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1529-L1537">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FileRight.flags"><span class="name">IO</span>.<span class="name">FileRight</span>.<span class="name">flags</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">acc</span> : <a href="../.././Init/System/IO.html#IO.FileRight">FileRight</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#UInt32">UInt32</a></div></div><p>Converts POSIX-style file permissions to their numeric representation, with three bits each for the
owner's permissions, the group's permissions, and others' permissions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.FileRight.flags">flags</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.FileRight.user">user</a></span>.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a></span>.<a href="../.././Init/Data/UInt/Basic.html#UInt32.shiftLeft">shiftLeft</a></span> <span class="fn">6</span>)</span>.<a href="../.././Init/Data/UInt/Basic.html#UInt32.lor">lor</a></span> <span class="fn">(<span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.FileRight.group">group</a></span>.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a></span>.<a href="../.././Init/Data/UInt/Basic.html#UInt32.shiftLeft">shiftLeft</a></span> <span class="fn">3</span>)</span>.<a href="../.././Init/Data/UInt/Basic.html#UInt32.lor">lor</a></span> <span class="fn"><span class="fn"><span class="fn">acc</span>.<a href="../.././Init/System/IO.html#IO.FileRight.other">other</a></span>.<a href="../.././Init/System/IO.html#IO.AccessRight.flags">flags</a></span>)</span></span></li></ul></details><details id="instances-for-list-IO.FileRight.flags" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Prim.setAccessRights"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1539-L1539">source</a></div><div class="attributes">@[extern  lean_chmod]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Prim.setAccessRights"><span class="name">IO</span>.<span class="name">Prim</span>.<span class="name">setAccessRights</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">filename</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/Prelude.html#UInt32">UInt32</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="IO.setAccessRights"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1541-L1545">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.setAccessRights"><span class="name">IO</span>.<span class="name">setAccessRights</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">filename</span> : <a href="../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mode</span> : <a href="../.././Init/System/IO.html#IO.FileRight">FileRight</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Sets the POSIX-style permissions for a file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.setAccessRights">IO.setAccessRights</a> <span class="fn">filename</span> <span class="fn">mode</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.Prim.setAccessRights">IO.Prim.setAccessRights</a> <span class="fn">filename</span> <span class="fn"><span class="fn">mode</span>.<a href="../.././Init/System/IO.html#IO.FileRight.flags">flags</a></span></span></li></ul></details><details id="instances-for-list-IO.setAccessRights" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.Ref"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1547-L1551">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.Ref"><span class="name">IO</span>.<span class="name">Ref</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Mutable reference cells that contain values of type <code>α</code>. These cells can read from and mutated in
the <code><a href="../.././Init/System/IO.html#IO">IO</a></code> monad.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref">ST.Ref</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <span class="fn">α</span></span></li></ul></details><details id="instances-for-list-IO.Ref" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.instMonadLiftSTRealWorldBaseIO"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1553-L1553">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instMonadLiftSTRealWorldBaseIO"><span class="name">IO</span>.<span class="name">instMonadLiftSTRealWorldBaseIO</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#MonadLift">MonadLift</a> <span class="fn">(<a href="../.././Init/System/ST.html#ST">ST</a> <a href="../.././Init/System/IO.html#IO.RealWorld">RealWorld</a>)</span> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.instMonadLiftSTRealWorldBaseIO">IO.instMonadLiftSTRealWorldBaseIO</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#MonadLift.mk">{</a> <span class="fn">monadLift</span> := <span class="fn">fun {<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>} =&gt; <a href="../.././Init/Prelude.html#id">id</a></span> <a href="../.././Init/Prelude.html#MonadLift.mk">}</a></li></ul></details></div></div><div class="decl" id="IO.mkRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1555-L1559">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.mkRef"><span class="name">IO</span>.<span class="name">mkRef</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">Ref</a> <span class="fn">α</span>)</span></span></div></div><p>Creates a new mutable reference cell that contains <code>a</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.mkRef">IO.mkRef</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/ST.html#ST.mkRef">ST.mkRef</a> <span class="fn">a</span></span></li></ul></details><details id="instances-for-list-IO.mkRef" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.CancelToken"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1561-L1570">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.CancelToken"><span class="name">IO</span>.<span class="name">CancelToken</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Mutable cell that can be passed around for purposes of cooperative task cancellation: request
cancellation with <code><a href="../.././Init/System/IO.html#IO.CancelToken.set">CancelToken.set</a></code> and check for it with <code><a href="../.././Init/System/IO.html#IO.CancelToken.isSet">CancelToken.isSet</a></code>.</p><p>This is a more flexible alternative to <code>Task.<a href="../.././Init/System/IO.html#IO.cancel">cancel</a></code> as the token can be shared between multiple
tasks.</p><ul class="structure_fields" id="IO.CancelToken.mk"><li id="_private.Init.System.IO.0.IO.CancelToken.ref" class="structure_field"><div class="structure_field_info">ref : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></li></ul><details id="instances-for-list-IO.CancelToken" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.instNonemptyCancelToken"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1570-L1570">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.instNonemptyCancelToken"><span class="name">IO</span>.<span class="name">instNonemptyCancelToken</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nonempty">Nonempty</a> <a href="../.././Init/System/IO.html#IO.CancelToken">CancelToken</a></span></div></div></div></div><div class="decl" id="IO.CancelToken.new"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1574-L1576">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.CancelToken.new"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">new</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/System/IO.html#IO.CancelToken">CancelToken</a></span></div></div><p>Creates a new cancellation token.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Init/System/IO.html#IO.CancelToken.new">IO.CancelToken.new</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/System/IO.html#IO.CancelToken.mk">IO.CancelToken.mk</a> <a href="../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><a href="../.././Init/System/IO.html#IO.mkRef">IO.mkRef</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></li></ul></details><details id="instances-for-list-IO.CancelToken.new" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.CancelToken.set"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1578-L1580">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.CancelToken.set"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">set</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tk</span> : <a href="../.././Init/System/IO.html#IO.CancelToken">CancelToken</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Activates a cancellation token. Idempotent.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">tk</span>.<a href="../.././Init/System/IO.html#IO.CancelToken.set">set</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref.set">ST.Ref.set</a> <span class="fn">(<a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.CancelToken.ref">IO.CancelToken.ref✝</a> <span class="fn">tk</span>)</span> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></li></ul></details><details id="instances-for-list-IO.CancelToken.set" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.CancelToken.isSet"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1582-L1584">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.CancelToken.isSet"><span class="name">IO</span>.<span class="name">CancelToken</span>.<span class="name">isSet</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tk</span> : <a href="../.././Init/System/IO.html#IO.CancelToken">CancelToken</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Checks whether the cancellation token has been activated.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">tk</span>.<a href="../.././Init/System/IO.html#IO.CancelToken.isSet">isSet</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref.get">ST.Ref.get</a> <span class="fn">(<a href="../.././Init/System/IO.html#_private.Init.System.IO.0.IO.CancelToken.ref">IO.CancelToken.ref✝</a> <span class="fn">tk</span>)</span></span></li></ul></details><details id="instances-for-list-IO.CancelToken.isSet" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Stream.ofHandle"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1595-L1606">source</a></div><div class="attributes">@[export lean_stream_of_handle]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Stream.ofHandle"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">ofHandle</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Init/System/IO.html#IO.FS.Handle">Handle</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/System/IO.html#IO.FS.Stream">Stream</a></div></div><p>Creates a Lean stream from a file handle. Each stream operation is implemented by the corresponding
file handle operation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#IO.FS.Stream.ofHandle">IO.FS.Stream.ofHandle</a> <span class="fn">h</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/System/IO.html#IO.FS.Stream.mk">{</a> <span class="fn">flush</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.flush">flush</a></span>, <span class="fn">read</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.read">read</a></span>, <span class="fn">write</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.write">write</a></span>, <span class="fn">getLine</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.getLine">getLine</a></span>, <span class="fn">putStr</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.putStr">putStr</a></span>, <span class="fn">isTty</span> := <span class="fn"><span class="fn">h</span>.<a href="../.././Init/System/IO.html#IO.FS.Handle.isTty">isTty</a></span> <a href="../.././Init/System/IO.html#IO.FS.Stream.mk">}</a></li></ul></details><details id="instances-for-list-IO.FS.Stream.ofHandle" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Stream.Buffer"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1608-L1617">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Stream.Buffer"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">Buffer</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A byte buffer that can simulate a file in memory.</p><p>Use <code><a href="../.././Init/System/IO.html#IO.FS.Stream.ofBuffer">IO.FS.Stream.ofBuffer</a></code> to create a stream from a buffer.</p><ul class="structure_fields" id="IO.FS.Stream.Buffer.mk"><li id="IO.FS.Stream.Buffer.data" class="structure_field"><div class="structure_field_info">data : <a href="../.././Init/Data/ByteArray/Basic.html#ByteArray">ByteArray</a></div><div class="structure_field_doc"><p>The contents of the buffer.</p></div></li><li id="IO.FS.Stream.Buffer.pos" class="structure_field"><div class="structure_field_info">pos : <a href="../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>The read/write cursor's position in the buffer.</p></div></li></ul><details id="instances-for-list-IO.FS.Stream.Buffer" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.Stream.ofBuffer"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1619-L1648">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.Stream.ofBuffer"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">Stream</span>.<span class="name">ofBuffer</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">Ref</a> <a href="../.././Init/System/IO.html#IO.FS.Stream.Buffer">Buffer</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/System/IO.html#IO.FS.Stream">Stream</a></div></div><p>Creates a stream from a mutable reference to a buffer.</p><p>The resulting stream simulates a file, mutating the contents of the reference in response to writes
and reading from it in response to reads. These streams can be used with <code><a href="../.././Init/System/IO.html#IO.withStdin">IO.withStdin</a></code>,
<code><a href="../.././Init/System/IO.html#IO.setStdin">IO.setStdin</a></code>, and the corresponding operators for standard output and standard error to redirect
input and output.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.FS.Stream.ofBuffer" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="IO.FS.withIsolatedStreams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1652-L1666">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#IO.FS.withIsolatedStreams"><span class="name">IO</span>.<span class="name">FS</span>.<span class="name">withIsolatedStreams</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">isolateStderr</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a> := <a href="../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> (<a href="../.././Init/Prelude.html#String">String</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span>)</span></div></div><p>Runs an action with <code><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdin">stdin</a></code> emptied and <code><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdout">stdout</a></code> and <code><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stderr">stderr</a></code> captured into a <code><a href="../.././Init/Prelude.html#String">String</a></code>. If
<code>isolateStderr</code> is <code>false</code>, only <code><a href="../.././Init/System/IO.html#IO.Process.StdioConfig.stdout">stdout</a></code> is captured.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-IO.FS.withIsolatedStreams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="termPrintln!__"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1671-L1671">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#termPrintln!__"><span class="name">termPrintln!__</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-termPrintln!__" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Runtime.markMultiThreaded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1677-L1684">source</a></div><div class="attributes">@[extern  lean_runtime_mark_multi_threaded]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#Runtime.markMultiThreaded"><span class="name">Runtime</span>.<span class="name">markMultiThreaded</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></div></div><p>Marks given value and its object graph closure as multi-threaded if currently
marked single-threaded. This will make reference counter updates atomic and
thus more costly. It can still be useful to do eagerly when the value will be
shared between threads later anyway and there is available time budget to mark
it now.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#Runtime.markMultiThreaded">Runtime.markMultiThreaded</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li></ul></details><details id="instances-for-list-Runtime.markMultiThreaded" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Runtime.markPersistent"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1686-L1697">source</a></div><div class="attributes">@[extern  lean_runtime_mark_persistent]</div>
<div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#Runtime.markPersistent"><span class="name">Runtime</span>.<span class="name">markPersistent</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">α</span></span></div></div><p>Marks given value and its object graph closure as persistent. This will remove
reference counter updates but prevent the closure from being deallocated until
the end of the process! It can still be useful to do eagerly when the value
will be marked persistent later anyway and there is available time budget to
mark it now or it would be unnecessarily marked multi-threaded in between.</p><p>This function is only safe to use on objects (in the full closure) which are
not used concurrently or which are already persistent.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#Runtime.markPersistent">Runtime.markPersistent</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li></ul></details><details id="instances-for-list-Runtime.markPersistent" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Runtime.forget"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/System/IO.lean#L1700-L1708">source</a></div><div class="attributes">@[extern  lean_runtime_forget]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Init/System/IO.html#Runtime.forget"><span class="name">Runtime</span>.<span class="name">forget</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Discards the passed owned reference. This leads to <code>a</code> any any object reachable from it never being
freed. This can be a useful optimization for eliding deallocation time of big object graphs that are
kept alive close to the end of the process anyway (in which case calling <code><a href="../.././Init/System/IO.html#Runtime.markPersistent">Runtime.markPersistent</a></code>
would be similarly costly to deallocation). It is still considered a safe operation as it cannot
lead to undefined behavior.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Init/System/IO.html#Runtime.forget">Runtime.forget</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span></li></ul></details><details id="instances-for-list-Runtime.forget" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>