<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Init.Data.BitVec.Bitblast</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Init.Data.BitVec.Bitblast";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Init</span>.<span class="name">Data</span>.<span class="name">BitVec</span>.<span class="name">Bitblast</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init/Data/BitVec/Folds.html">Init.Data.BitVec.Folds</a></li><li><a href="../../.././Init/Data/BitVec/Lemmas.html">Init.Data.BitVec.Lemmas</a></li><li><a href="../../.././Init/Data/Int/LemmasAux.html">Init.Data.Int.LemmasAux</a></li><li><a href="../../.././Init/Data/Nat/Mod.html">Init.Data.Nat.Mod</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Init.Data.BitVec.Bitblast" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo"><span class="name">Bool</span>.<span class="name">atLeastTwo</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_left</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_mid</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_right</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_left</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_mid</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_right</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry"><span class="name">BitVec</span>.<span class="name">carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_zero"><span class="name">BitVec</span>.<span class="name">carry_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_succ"><span class="name">BitVec</span>.<span class="name">carry_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_succ_one"><span class="name">BitVec</span>.<span class="name">carry_succ_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">carry_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_width"><span class="name">BitVec</span>.<span class="name">carry_width</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toNat_add_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">toNat_add_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adcb"><span class="name">BitVec</span>.<span class="name">adcb</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adc"><span class="name">BitVec</span>.<span class="name">adc</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_add_add_bool"><span class="name">BitVec</span>.<span class="name">getLsbD_add_add_bool</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_add"><span class="name">BitVec</span>.<span class="name">getLsbD_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_add_add_bool"><span class="name">BitVec</span>.<span class="name">getElem_add_add_bool</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_add"><span class="name">BitVec</span>.<span class="name">getElem_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adc_spec"><span class="name">BitVec</span>.<span class="name">adc_spec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_eq_adc"><span class="name">BitVec</span>.<span class="name">add_eq_adc</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_add"><span class="name">BitVec</span>.<span class="name">getMsbD_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_add"><span class="name">BitVec</span>.<span class="name">msb_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_not_self"><span class="name">BitVec</span>.<span class="name">add_not_self</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.allOnes_sub_eq_not"><span class="name">BitVec</span>.<span class="name">allOnes_sub_eq_not</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_eq_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">add_eq_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_sub"><span class="name">BitVec</span>.<span class="name">getLsbD_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_sub"><span class="name">BitVec</span>.<span class="name">getMsbD_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_sub"><span class="name">BitVec</span>.<span class="name">getElem_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_sub"><span class="name">BitVec</span>.<span class="name">msb_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_testBit"><span class="name">BitVec</span>.<span class="name">bit_not_testBit</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_add_self"><span class="name">BitVec</span>.<span class="name">bit_not_add_self</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_eq_not"><span class="name">BitVec</span>.<span class="name">bit_not_eq_not</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_neg_eq_neg"><span class="name">BitVec</span>.<span class="name">bit_neg_eq_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_neg"><span class="name">BitVec</span>.<span class="name">getLsbD_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_neg"><span class="name">BitVec</span>.<span class="name">getElem_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_neg"><span class="name">BitVec</span>.<span class="name">getMsbD_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_neg"><span class="name">BitVec</span>.<span class="name">msb_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.signExtend_neg_of_le"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.signExtend_neg_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_ne_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.BitVec.setWidth_neg_of_le"><span class="name">BitVec</span>.<span class="name">BitVec</span>.<span class="name">setWidth_neg_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_abs"><span class="name">BitVec</span>.<span class="name">msb_abs</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ult_eq_not_carry"><span class="name">BitVec</span>.<span class="name">ult_eq_not_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ule_eq_not_ult"><span class="name">BitVec</span>.<span class="name">ule_eq_not_ult</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ule_eq_carry"><span class="name">BitVec</span>.<span class="name">ule_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.slt_eq_ult_of_msb_eq"><span class="name">BitVec</span>.<span class="name">slt_eq_ult_of_msb_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ult_eq_msb_of_msb_neq"><span class="name">BitVec</span>.<span class="name">ult_eq_msb_of_msb_neq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.slt_eq_not_ult_of_msb_neq"><span class="name">BitVec</span>.<span class="name">slt_eq_not_ult_of_msb_neq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.slt_eq_ult"><span class="name">BitVec</span>.<span class="name">slt_eq_ult</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.slt_eq_not_carry"><span class="name">BitVec</span>.<span class="name">slt_eq_not_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sle_eq_not_slt"><span class="name">BitVec</span>.<span class="name">sle_eq_not_slt</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.zero_sle_eq_not_msb"><span class="name">BitVec</span>.<span class="name">zero_sle_eq_not_msb</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.zero_sle_iff_msb_eq_false"><span class="name">BitVec</span>.<span class="name">zero_sle_iff_msb_eq_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toNat_toInt_of_sle"><span class="name">BitVec</span>.<span class="name">toNat_toInt_of_sle</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sle_eq_carry"><span class="name">BitVec</span>.<span class="name">sle_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_slt_zero"><span class="name">BitVec</span>.<span class="name">neg_slt_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sle_zero"><span class="name">BitVec</span>.<span class="name">neg_sle_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sle_eq_ule"><span class="name">BitVec</span>.<span class="name">sle_eq_ule</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sle_eq_ule_of_msb_eq"><span class="name">BitVec</span>.<span class="name">sle_eq_ule_of_msb_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec"><span class="name">BitVec</span>.<span class="name">mulRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_zero_eq"><span class="name">BitVec</span>.<span class="name">mulRec_zero_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_succ_eq"><span class="name">BitVec</span>.<span class="name">mulRec_succ_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><span class="name">BitVec</span>.<span class="name">setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow"><span class="name">BitVec</span>.<span class="name">zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_eq_mul_signExtend_setWidth"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_setWidth</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_eq_mul_signExtend_truncate"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_truncate</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_mul"><span class="name">BitVec</span>.<span class="name">getLsbD_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mul_eq_mulRec"><span class="name">BitVec</span>.<span class="name">mul_eq_mulRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_mul"><span class="name">BitVec</span>.<span class="name">getMsbD_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_mul"><span class="name">BitVec</span>.<span class="name">getElem_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeftRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_zero"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_succ"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">shiftLeft_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_eq"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_eq_shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeft_eq_shiftLeftRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">udiv_eq_of_mul_add_toNat</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umod_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">umod_eq_of_mul_add_toNat</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState"><span class="name">BitVec</span>.<span class="name">DivModState</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModArgs"><span class="name">BitVec</span>.<span class="name">DivModArgs</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Lawful.hw"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span>.<span class="name">hw</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">init</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.lawful_init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">lawful_init</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.udiv_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">udiv_eq_of_lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.umod_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">umod_eq_of_lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Poised"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Poised</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.wr_lt_w"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">wr_lt_w</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divSubtractShift"><span class="name">BitVec</span>.<span class="name">divSubtractShift</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.toNat_shiftRight_sub_one_eq"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">toNat_shiftRight_sub_one_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.lawful_divSubtractShift"><span class="name">BitVec</span>.<span class="name">lawful_divSubtractShift</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec"><span class="name">BitVec</span>.<span class="name">divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_zero"><span class="name">BitVec</span>.<span class="name">divRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_succ"><span class="name">BitVec</span>.<span class="name">divRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.lawful_divRec"><span class="name">BitVec</span>.<span class="name">lawful_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.wn_divRec"><span class="name">BitVec</span>.<span class="name">wn_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_eq_divRec"><span class="name">BitVec</span>.<span class="name">udiv_eq_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umod_eq_divRec"><span class="name">BitVec</span>.<span class="name">umod_eq_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_succ'"><span class="name">BitVec</span>.<span class="name">divRec_succ'</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_udiv"><span class="name">BitVec</span>.<span class="name">getElem_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_udiv"><span class="name">BitVec</span>.<span class="name">getLsbD_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_udiv"><span class="name">BitVec</span>.<span class="name">getMsbD_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_zero_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_zero_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_succ_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_succ_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">sshiftRight'_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRight_eq_sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRight_eq_sshiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec"><span class="name">BitVec</span>.<span class="name">ushiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_zero"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_succ"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">ushiftRight'_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftRight_eq_ushiftRightRec"><span class="name">BitVec</span>.<span class="name">shiftRight_eq_ushiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.uaddOverflow_eq"><span class="name">BitVec</span>.<span class="name">uaddOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.saddOverflow_eq"><span class="name">BitVec</span>.<span class="name">saddOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.usubOverflow_eq"><span class="name">BitVec</span>.<span class="name">usubOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ssubOverflow_eq"><span class="name">BitVec</span>.<span class="name">ssubOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.negOverflow_eq"><span class="name">BitVec</span>.<span class="name">negOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdivOverflow_eq"><span class="name">BitVec</span>.<span class="name">sdivOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umulOverflow_eq"><span class="name">BitVec</span>.<span class="name">umulOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.smulOverflow_eq"><span class="name">BitVec</span>.<span class="name">smulOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_umod"><span class="name">BitVec</span>.<span class="name">getElem_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_umod"><span class="name">BitVec</span>.<span class="name">getLsbD_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_umod"><span class="name">BitVec</span>.<span class="name">getMsbD_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.eq_iff_eq_of_inv"><span class="name">BitVec</span>.<span class="name">eq_iff_eq_of_inv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ne_intMin_of_lt_of_msb_false"><span class="name">BitVec</span>.<span class="name">ne_intMin_of_lt_of_msb_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ne_zero_of_msb_true"><span class="name">BitVec</span>.<span class="name">ne_zero_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_neg_of_ne_intMin_of_ne_zero"><span class="name">BitVec</span>.<span class="name">msb_neg_of_ne_intMin_of_ne_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_intMin_of_msb_false"><span class="name">BitVec</span>.<span class="name">udiv_intMin_of_msb_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_neg"><span class="name">BitVec</span>.<span class="name">sdiv_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sdiv"><span class="name">BitVec</span>.<span class="name">neg_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sdiv_neg"><span class="name">BitVec</span>.<span class="name">neg_sdiv_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_eq_neg_two_pow"><span class="name">BitVec</span>.<span class="name">intMin_eq_neg_two_pow</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_intMin_eq_bmod"><span class="name">BitVec</span>.<span class="name">toInt_intMin_eq_bmod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_bmod_cancel"><span class="name">BitVec</span>.<span class="name">toInt_bmod_cancel</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_ne_intMin_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_ne_intMin_of_ne_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_nonpos</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_udiv_eq_intMin_iff"><span class="name">BitVec</span>.<span class="name">intMin_udiv_eq_intMin_iff</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_udiv_ne_zero_of_ne_zero"><span class="name">BitVec</span>.<span class="name">intMin_udiv_ne_zero_of_ne_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_sdiv_of_ne_or_ne"><span class="name">BitVec</span>.<span class="name">toInt_sdiv_of_ne_or_ne</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_sdiv_neg_one"><span class="name">BitVec</span>.<span class="name">intMin_sdiv_neg_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_sdiv"><span class="name">BitVec</span>.<span class="name">toInt_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_umod_eq_false_of_left"><span class="name">BitVec</span>.<span class="name">msb_umod_eq_false_of_left</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_umod_of_le_of_ne_zero_of_le"><span class="name">BitVec</span>.<span class="name">msb_umod_of_le_of_ne_zero_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_srem"><span class="name">BitVec</span>.<span class="name">toInt_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_sub_comm"><span class="name">BitVec</span>.<span class="name">add_sub_comm</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sub_add_comm"><span class="name">BitVec</span>.<span class="name">sub_add_comm</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_add_one"><span class="name">BitVec</span>.<span class="name">not_add_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_add_eq_not_neg"><span class="name">BitVec</span>.<span class="name">not_add_eq_not_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_sub_one_eq_not_add_one"><span class="name">BitVec</span>.<span class="name">not_sub_one_eq_not_add_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_sub_eq_not_add"><span class="name">BitVec</span>.<span class="name">not_sub_eq_not_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_extractLsb'_eq_carry"><span class="name">BitVec</span>.<span class="name">carry_extractLsb'_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.extractLsb'_add"><span class="name">BitVec</span>.<span class="name">extractLsb'_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.extractLsb'_mul"><span class="name">BitVec</span>.<span class="name">extractLsb'_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.append_zero_add_zero_append"><span class="name">BitVec</span>.<span class="name">append_zero_add_zero_append</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.zero_append_add_append_zero"><span class="name">BitVec</span>.<span class="name">zero_append_add_append_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_shiftLeft_eq_or_shiftLeft"><span class="name">BitVec</span>.<span class="name">add_shiftLeft_eq_or_shiftLeft</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_add_eq_shiftLeft_or"><span class="name">BitVec</span>.<span class="name">shiftLeft_add_eq_shiftLeft_or</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Bit-blasting-of-bitvectors">Bit blasting of bitvectors <a class="hover-link" href="#Bit-blasting-of-bitvectors">#</a></h1><p>This module provides theorems for showing the equivalence between BitVec operations using
the <code><a href="../../.././Init/Prelude.html#Fin">Fin</a> 2^n</code> representation and Boolean vectors.  It is still under development, but
intended to provide a path for converting SAT and SMT solver proofs about BitVectors
as vectors of bits into proofs about Lean <code><a href="../../.././Init/Prelude.html#BitVec">BitVec</a></code> values.</p><p>The module is named for the bit-blasting operation in an SMT solver that converts bitvector
expressions into expressions about individual bits in each vector.</p><h3 class="markdown-heading" id="Example-How-bit-blasting-works-for-multiplication">Example: How bit blasting works for multiplication <a class="hover-link" href="#Example-How-bit-blasting-works-for-multiplication">#</a></h3><p>We explain how the lemmas here are used for bit blasting,
by using multiplication as a prototypical example.
Other bit blasters for other operations follow the same pattern.
To bit blast a multiplication of the form <code>x * y</code>,
we must unfold the above into a form that the SAT solver understands.</p><p>We assume that the solver already knows how to bit blast addition.
This is known to <code>bv_decide</code>, by exploiting the lemma <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc">add_eq_adc</a></code>,
which says that <code>x + y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w</code> equals <code>(adc x y false).2</code>,
where <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></code> builds an add-carry circuit in terms of the primitive operations
(bitwise and, bitwise or, bitwise xor) that bv_decide already understands.
In this way, we layer bit blasters on top of each other,
by reducing the multiplication bit blaster to an addition operation.</p><p>The core lemma is given by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_mul">getLsbD_mul</a></code>:</p><pre><code class="language-lean"> x y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w ⊢ (x * y).getLsbD i = (mulRec x y w).getLsbD i
</code></pre><p>Which says that the <code>i</code>th bit of <code>x * y</code> can be obtained by
evaluating the <code>i</code>th bit of <code>(mulRec x y w)</code>.
Once again, we assume that <code>bv_decide</code> knows how to implement <code>getLsbD</code>,
given that <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></code> can be understood by <code>bv_decide</code>.</p><p>We write two lemmas to enable <code>bv_decide</code> to unfold <code>(mulRec x y w)</code>
into a complete circuit, <strong>when <code>w</code> is a known constant</strong><code>. This is given by two recurrence lemmas, </code>mulRec_zero_eq<code>and</code>mulRec_succ_eq<code>, which are applied repeatedly when the width is </code>0<code>and when the width is</code>w' + 1`:</p><pre><code class="language-lean"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a> :
    <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y 0 =
      if y.getLsbD 0 then x else 0

<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a>
    <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y (s + 1) =
      <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y s +
      if y.getLsbD (s + 1) then (x &lt;&lt;&lt; (s + 1)) else 0 := <a href="../../.././Init/Prelude.html#rfl">rfl</a>
</code></pre><p>By repeatedly applying the lemmas <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a></code>,
one obtains a circuit for multiplication.
Note that this circuit uses <code><a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.add">BitVec.add</a></code>, <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">BitVec.getLsbD</a></code>, <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code>.
Here, <code><a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.add">BitVec.add</a></code> and <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code> are (recursively) bit blasted by <code>bv_decide</code>,
using the lemmas <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc">add_eq_adc</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec">shiftLeft_eq_shiftLeftRec</a></code>,
and <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">BitVec.getLsbD</a></code> is a primitive that <code>bv_decide</code> knows how to reduce to SAT.</p><p>The two lemmas, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a></code>, and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a></code>,
are used in <code>Std.Tactic.BVDecide.BVExpr.bitblast.blastMul</code>
to prove the correctness of the circuit that is built by <code>bv_decide</code>.</p><pre><code class="language-lean">def blastMul (aig : AIG BVBit) (input : AIG.BinaryRefVec aig w) : AIG.RefVecEntry BVBit w
theorem denote_blastMul (aig : AIG BVBit) (lhs rhs : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w) (assign : Assignment) :
   ...
   ⟦(blastMul aig input).aig, (blastMul aig input).vec[idx], assign.toAIGAssignment⟧
     =
   (lhs * rhs).getLsbD idx
</code></pre><p>The definition and theorem above are internal to <code>bv_decide</code>,
and use <code>mulRec_{zero,succ}_eq</code> to prove that the circuit built by <code>bv_decide</code>
computes the correct value for multiplication.</p><p>To zoom out, therefore, we follow two steps:
First, we prove bitvector lemmas to unfold a high-level operation (such as multiplication)
into already bit blastable operations (such as addition and left shift).
We then use these lemmas to prove the correctness of the circuit that <code>bv_decide</code> builds.</p><p>We use this workflow to implement bit blasting for all SMT-LIB v2 operations.</p><h2 class="markdown-heading" id="Main-results">Main results <a class="hover-link" href="#Main-results">#</a></h2><ul>
<li><code>x + y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w</code> is <code>(adc x y false).2</code>.</li>
</ul><h2 class="markdown-heading" id="Future-work">Future work <a class="hover-link" href="#Future-work">#</a></h2><p>All other operations are to be PR'ed later and are already proved in
<a href="https://github.com/mhk119/lean-smt/blob/bitvec/Smt/Data/Bitwise.lean">https://github.com/mhk119/lean-smt/blob/bitvec/Smt/Data/Bitwise.lean</a>.</p></div><div class="decl" id="Bool.atLeastTwo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L115-L121">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo"><span class="name">Bool</span>.<span class="name">atLeastTwo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>At least two out of three Booleans are true.</p><p>This function is typically used to model addition of binary numbers, to combine a carry bit with two
addend bits.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</li></ul></details><details id="instances-for-list-Bool.atLeastTwo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Bool.atLeastTwo_false_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L123-L123">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Bool.false">false</a>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_false_mid"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L124-L124">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_mid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <a href="../../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_false_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L125-L125">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">b</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L126-L126">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Bool.true">true</a>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_mid"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L127-L127">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_mid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L128-L128">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">b</span>)</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Preliminaries">Preliminaries <a class="hover-link" href="#Preliminaries">#</a></h3></div><div class="mod_doc"><h3 class="markdown-heading" id="Addition">Addition <a class="hover-link" href="#Addition">#</a></h3></div><div class="decl" id="BitVec.carry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L170-L172">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry"><span class="name">BitVec</span>.<span class="name">carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>carry i x y c returns true if the <code>i</code> carry bit is true when computing <code>x + y + c</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">BitVec.carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">c</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span>)</span></li></ul></details><details id="instances-for-list-BitVec.carry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.carry_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L174-L175">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_zero"><span class="name">BitVec</span>.<span class="name">carry_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w✝</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w✝</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">0</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">c</span></div></div></div></div><div class="decl" id="BitVec.carry_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L177-L184">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_succ"><span class="name">BitVec</span>.<span class="name">carry_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">(<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span>)</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.carry_succ_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L186-L208">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_succ_one"><span class="name">BitVec</span>.<span class="name">carry_succ_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span> (1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(∀ (<span class="fn">j</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>), <span class="fn"><span class="fn">j</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">i</span> → <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span></div></div></div></div><div class="decl" id="BitVec.carry_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L210-L221">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">carry_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div><p>If <code>x &amp;&amp;&amp; y = 0</code>, then the carry bit <code>(x + y + 0)</code> is always <code>false</code> for any index <code>i</code>.
Intuitively, this is because a carry is only produced when at least two of <code>x</code>, <code>y</code>, and the
previous carry are true. However, since <code>x &amp;&amp;&amp; y = 0</code>, at most one of <code>x, y</code> can be true,
and thus we never have a previous carry, which means that the sum cannot produce a carry.</p></div></div><div class="decl" id="BitVec.carry_width"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L223-L226">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_width"><span class="name">BitVec</span>.<span class="name">carry_width</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">c</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div><p>The final carry bit when computing <code>x + y + c</code> is <code>true</code> iff <code>x.toNat + y.toNat + c.toNat ≥ 2^w</code>.</p></div></div><div class="decl" id="BitVec.toNat_add_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L228-L239">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toNat_add_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">toNat_add_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></div><p>If <code>x &amp;&amp;&amp; y = 0</code>, then addition does not overflow, and thus <code>(x + y).toNat = x.toNat + y.toNat</code>.</p></div></div><div class="decl" id="BitVec.adcb"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L241-L242">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb"><span class="name">BitVec</span>.<span class="name">adcb</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Carry function for bitwise addition.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb">BitVec.adcb</a> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">y</span> <span class="fn">c</span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">x</span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn">c</span>)<a href="../../.././Init/Prelude.html#Prod.mk">)</a></li></ul></details><details id="instances-for-list-BitVec.adcb" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.adc"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L244-L246">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc"><span class="name">BitVec</span>.<span class="name">adc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Bool">Bool</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></span></div></div><p>Bitwise addition implemented via a ripple carry adder.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">BitVec.iunfoldr</a> <span class="fn">fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>) =&gt; <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb">BitVec.adcb</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span>)</span> <span class="fn">(<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span>)</span> <span class="fn">c</span></span></span></span></li></ul></details><details id="instances-for-list-BitVec.adc" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.getLsbD_add_add_bool"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L248-L267">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_add_add_bool"><span class="name">BitVec</span>.<span class="name">getLsbD_add_add_bool</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span>))</div></div></div></div><div class="decl" id="BitVec.getLsbD_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L269-L272">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_add"><span class="name">BitVec</span>.<span class="name">getLsbD_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_add_add_bool"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L274-L279">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_add_add_bool"><span class="name">BitVec</span>.<span class="name">getElem_add_add_bool</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L281-L283">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_add"><span class="name">BitVec</span>.<span class="name">getElem_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.adc_spec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L285-L296">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc_spec"><span class="name">BitVec</span>.<span class="name">adc_spec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></div></div></div></div><div class="decl" id="BitVec.add_eq_adc"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L298-L299">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc"><span class="name">BitVec</span>.<span class="name">add_eq_adc</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="add">add <a class="hover-link" href="#add">#</a></h3></div><div class="decl" id="BitVec.getMsbD_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L303-L306">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_add"><span class="name">BitVec</span>.<span class="name">getMsbD_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>) <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.msb_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L308-L316">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_add"><span class="name">BitVec</span>.<span class="name">msb_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.add_not_self"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L318-L322">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_not_self"><span class="name">BitVec</span>.<span class="name">add_not_self</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span></div></div><p>Adding a bitvector to its own complement yields the all ones bitpattern</p></div></div><div class="decl" id="BitVec.allOnes_sub_eq_not"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L324-L326">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.allOnes_sub_eq_not"><span class="name">BitVec</span>.<span class="name">allOnes_sub_eq_not</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span></div></div><p>Subtracting <code>x</code> from the all ones bitvector is equivalent to taking its complement</p></div></div><div class="decl" id="BitVec.add_eq_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L328-L341">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">add_eq_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">y</span></div></div><p>Addition of bitvectors is the same as bitwise or, if bitwise and is zero.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Sub">Sub <a class="hover-link" href="#Sub">#</a></h3></div><div class="decl" id="BitVec.getLsbD_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L345-L349">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_sub"><span class="name">BitVec</span>.<span class="name">getLsbD_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getMsbD_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L351-L356">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_sub"><span class="name">BitVec</span>.<span class="name">getMsbD_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>) <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L358-L360">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_sub"><span class="name">BitVec</span>.<span class="name">getElem_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> ((<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.msb_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L362-L365">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_sub"><span class="name">BitVec</span>.<span class="name">msb_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">0</span>) <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Negation">Negation <a class="hover-link" href="#Negation">#</a></h3></div><div class="decl" id="BitVec.bit_not_testBit"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L369-L371">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_testBit"><span class="name">BitVec</span>.<span class="name">bit_not_testBit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.bit_not_add_self"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L373-L380">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_add_self"><span class="name">BitVec</span>.<span class="name">bit_not_add_self</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">-<span class="fn">1</span></span></div></div></div></div><div class="decl" id="BitVec.bit_not_eq_not"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L382-L384">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_eq_not"><span class="name">BitVec</span>.<span class="name">bit_not_eq_not</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span></div></div></div></div><div class="decl" id="BitVec.bit_neg_eq_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L386-L391">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_neg_eq_neg"><span class="name">BitVec</span>.<span class="name">bit_neg_eq_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> (1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></div></div></div></div><div class="decl" id="BitVec.getLsbD_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L393-L425">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_neg"><span class="name">BitVec</span>.<span class="name">getLsbD_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div><p>Remember that negating a bitvector is equal to incrementing the complement
by one, i.e., <code>-x = ~~~x + 1</code>. See also <code>neg_eq_not_add</code>.</p><p>This computation has two crucial properties:</p><ul>
<li>The least significant bit of <code>-x</code> is the same as the least significant bit of <code>x</code>, and</li>
<li>The <code>i+1</code>-th least significant bit of <code>-x</code> is the complement of the <code>i+1</code>-th bit of <code>x</code>, unless
all of the preceding bits are <code>false</code>, in which case the bit is equal to the <code>i+1</code>-th bit of <code>x</code></li>
</ul></div></div><div class="decl" id="BitVec.getElem_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L427-L429">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_neg"><span class="name">BitVec</span>.<span class="name">getElem_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div></div></div><div class="decl" id="BitVec.getMsbD_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L431-L446">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_neg"><span class="name">BitVec</span>.<span class="name">getMsbD_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div></div></div><div class="decl" id="BitVec.msb_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L448-L487">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_neg"><span class="name">BitVec</span>.<span class="name">msb_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Core.html#bne">!=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">x</span> <a href="../../.././Init/Core.html#bne">!=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.signExtend_neg_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L489-L499">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_le"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">w</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">v</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">b</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> <span class="fn">b</span></span></div></div><p>This is false if <code>v &lt; w</code> and <code>b = intMin</code>. See also <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_ne_intMin">signExtend_neg_of_ne_intMin</a></code>.</p></div></div><div class="decl" id="BitVec.signExtend_neg_of_ne_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L501-L517">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_ne_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hb</span> : <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">b</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> <span class="fn">b</span></span></div></div><p>This is false if <code>v &lt; w</code> and <code>b = intMin</code>. See also <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_le">signExtend_neg_of_le</a></code>.</p></div></div><div class="decl" id="BitVec.BitVec.setWidth_neg_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L519-L520">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.BitVec.setWidth_neg_of_le"><span class="name">BitVec</span>.<span class="name">BitVec</span>.<span class="name">setWidth_neg_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">w</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">v</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">x</span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="abs">abs <a class="hover-link" href="#abs">#</a></h3></div><div class="decl" id="BitVec.msb_abs"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L524-L539">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_abs"><span class="name">BitVec</span>.<span class="name">msb_abs</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.abs">abs</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span>)</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Inequalities-le-lt">Inequalities (le / lt) <a class="hover-link" href="#Inequalities-le-lt">#</a></h3></div><div class="decl" id="BitVec.ult_eq_not_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L543-L547">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ult_eq_not_carry"><span class="name">BitVec</span>.<span class="name">ult_eq_not_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div></div></div><div class="decl" id="BitVec.ule_eq_not_ult"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L549-L550">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ule_eq_not_ult"><span class="name">BitVec</span>.<span class="name">ule_eq_not_ult</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ule">ule</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">x</span></span></div></div></div></div><div class="decl" id="BitVec.ule_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L552-L553">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ule_eq_carry"><span class="name">BitVec</span>.<span class="name">ule_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ule">ule</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">y</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div></div></div><div class="decl" id="BitVec.slt_eq_ult_of_msb_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L555-L559">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.slt_eq_ult_of_msb_eq"><span class="name">BitVec</span>.<span class="name">slt_eq_ult_of_msb_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span></div></div><p>If two bitvectors have the same <code>msb</code>, then signed and unsigned comparisons coincide</p></div></div><div class="decl" id="BitVec.ult_eq_msb_of_msb_neq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L561-L565">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ult_eq_msb_of_msb_neq"><span class="name">BitVec</span>.<span class="name">ult_eq_msb_of_msb_neq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div><p>If two bitvectors have different <code>msb</code>s, then unsigned comparison is determined by this bit</p></div></div><div class="decl" id="BitVec.slt_eq_not_ult_of_msb_neq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L567-L571">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.slt_eq_not_ult_of_msb_neq"><span class="name">BitVec</span>.<span class="name">slt_eq_not_ult_of_msb_neq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span></div></div><p>If two bitvectors have different <code>msb</code>s, then signed and unsigned comparisons are opposites</p></div></div><div class="decl" id="BitVec.slt_eq_ult"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L573-L578">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.slt_eq_ult"><span class="name">BitVec</span>.<span class="name">slt_eq_ult</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Core.html#bne">!=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span>)</div></div></div></div><div class="decl" id="BitVec.slt_eq_not_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L580-L583">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.slt_eq_not_carry"><span class="name">BitVec</span>.<span class="name">slt_eq_not_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</div></div></div></div><div class="decl" id="BitVec.sle_eq_not_slt"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L585-L586">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sle_eq_not_slt"><span class="name">BitVec</span>.<span class="name">sle_eq_not_slt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">x</span></span></div></div></div></div><div class="decl" id="BitVec.zero_sle_eq_not_msb"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L588-L589">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zero_sle_eq_not_msb"><span class="name">BitVec</span>.<span class="name">zero_sle_eq_not_msb</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div></div></div><div class="decl" id="BitVec.zero_sle_iff_msb_eq_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L591-L592">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zero_sle_iff_msb_eq_false"><span class="name">BitVec</span>.<span class="name">zero_sle_iff_msb_eq_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.toNat_toInt_of_sle"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L594-L595">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toNat_toInt_of_sle"><span class="name">BitVec</span>.<span class="name">toNat_toInt_of_sle</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">(0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/Basic.html#Int.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></div></div></div><div class="decl" id="BitVec.sle_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L597-L599">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sle_eq_carry"><span class="name">BitVec</span>.<span class="name">sle_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a>(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">y</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</div></div></div></div><div class="decl" id="BitVec.neg_slt_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L601-L612">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_slt_zero"><span class="name">BitVec</span>.<span class="name">neg_slt_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">(0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">x</span></span>)</div></div></div></div><div class="decl" id="BitVec.neg_sle_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L614-L617">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sle_zero"><span class="name">BitVec</span>.<span class="name">neg_sle_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">(0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">x</span></span>)</div></div></div></div><div class="decl" id="BitVec.sle_eq_ule"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L619-L620">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sle_eq_ule"><span class="name">BitVec</span>.<span class="name">sle_eq_ule</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Core.html#bne">!=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ule">ule</a></span> <span class="fn">y</span></span>)</div></div></div></div><div class="decl" id="BitVec.sle_eq_ule_of_msb_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L622-L623">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sle_eq_ule_of_msb_eq"><span class="name">BitVec</span>.<span class="name">sle_eq_ule_of_msb_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ule">ule</a></span> <span class="fn">y</span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="mul-recurrence-for-bit-blasting">mul recurrence for bit blasting <a class="hover-link" href="#mul-recurrence-for-bit-blasting">#</a></h3></div><div class="decl" id="BitVec.mulRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L627-L636">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec"><span class="name">BitVec</span>.<span class="name">mulRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div></div><p>A recurrence that describes multiplication as repeated addition.</p><p>This function is useful for bit blasting multiplication.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s_2</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></li></ul></details><details id="instances-for-list-BitVec.mulRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.mulRec_zero_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L638-L640">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq"><span class="name">BitVec</span>.<span class="name">mulRec_zero_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="BitVec.mulRec_succ_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L642-L643">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq"><span class="name">BitVec</span>.<span class="name">mulRec_succ_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L645-L669">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><span class="name">BitVec</span>.<span class="name">setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">i</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w</span> <span class="fn">i</span></span>)</div></div><p>Recurrence lemma: truncating to <code>i+1</code> bits and then zero extending to <code>w</code>
equals truncating upto <code>i</code> bits <code>[0..i-1]</code>, and then adding the <code>i</code>th bit of <code>x</code>.</p></div></div><div class="decl" id="BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L671-L674">source</a></div><div class="attributes">@[reducible, inline, deprecated BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow (since := &quot;2024-09-18&quot;)]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow"><span class="name">BitVec</span>.<span class="name">zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">i</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w</span> <span class="fn">i</span></span>)</div></div><p>Recurrence lemma: truncating to <code>i+1</code> bits and then zero extending to <code>w</code>
equals truncating upto <code>i</code> bits <code>[0..i-1]</code>, and then adding the <code>i</code>th bit of <code>x</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">@<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow">BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   @<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow">BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow</a></li></ul></details><details id="instances-for-list-BitVec.zeroExtend_truncate_succ_eq_zeroExtend_truncate_add_twoPow" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.mulRec_eq_mul_signExtend_setWidth"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L676-L700">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_eq_mul_signExtend_setWidth"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_setWidth</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div><p>Recurrence lemma: multiplying <code>x</code> with the first <code>s</code> bits of <code>y</code> is the
same as truncating <code>y</code> to <code>s</code> bits, then zero extending to the original length,
and performing the multiplication.</p></div></div><div class="decl" id="BitVec.mulRec_eq_mul_signExtend_truncate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L702-L704">source</a></div><div class="attributes">@[reducible, inline, deprecated BitVec.mulRec_eq_mul_signExtend_setWidth (since := &quot;2024-09-18&quot;)]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_eq_mul_signExtend_truncate"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_truncate</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div><p>Recurrence lemma: multiplying <code>x</code> with the first <code>s</code> bits of <code>y</code> is the
same as truncating <code>y</code> to <code>s</code> bits, then zero extending to the original length,
and performing the multiplication.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">@<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_eq_mul_signExtend_truncate">BitVec.mulRec_eq_mul_signExtend_truncate</a> <a href="../../.././Init/Prelude.html#Eq">=</a> @<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_eq_mul_signExtend_setWidth">BitVec.mulRec_eq_mul_signExtend_setWidth</a></li></ul></details><details id="instances-for-list-BitVec.mulRec_eq_mul_signExtend_truncate" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.getLsbD_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L706-L711">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_mul"><span class="name">BitVec</span>.<span class="name">getLsbD_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.mul_eq_mulRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L713-L717">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mul_eq_mulRec"><span class="name">BitVec</span>.<span class="name">mul_eq_mulRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L719-L724">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_mul"><span class="name">BitVec</span>.<span class="name">getMsbD_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.getElem_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L726-L728">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_mul"><span class="name">BitVec</span>.<span class="name">getElem_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="mod_doc"><h2 class="markdown-heading" id="shiftLeft-recurrence-for-bit-blasting">shiftLeft recurrence for bit blasting <a class="hover-link" href="#shiftLeft-recurrence-for-bit-blasting">#</a></h2></div><div class="decl" id="BitVec.shiftLeftRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L732-L745">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeftRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> to the left by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec">BitVec.shiftLeft_eq_shiftLeftRec</a></code> proves the equivalence of <code>(x &lt;&lt;&lt; y)</code> and
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">BitVec.shiftLeftRec</a> x y</code>.</p><p>Together with equations <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero">BitVec.shiftLeftRec_zero</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ">BitVec.shiftLeftRec_succ</a></code>, this allows
<code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code> to be unfolded into a circuit for bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span></span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</li></ul></details><details id="instances-for-list-BitVec.shiftLeftRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.shiftLeftRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L747-L750">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</div></div></div></div><div class="decl" id="BitVec.shiftLeftRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L752-L755">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</div></div></div></div><div class="decl" id="BitVec.shiftLeft_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L757-L767">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">shiftLeft_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">z</span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x &lt;&lt;&lt; (y ||| z) = x &lt;&lt;&lt; y &lt;&lt;&lt; z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x &lt;&lt;&lt; (y ||| z) = x &lt;&lt;&lt; (y + z) = x &lt;&lt;&lt; y &lt;&lt;&lt; z</code>.</p></div></div><div class="decl" id="BitVec.shiftLeftRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L769-L789">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_eq"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a> x y <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> shifts <code>x</code> to the left by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p></div></div><div class="decl" id="BitVec.shiftLeft_eq_shiftLeftRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L791-L799">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeft_eq_shiftLeftRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span></div></div><p>Show that <code>x &lt;&lt;&lt; y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero">shiftLeftRec_zero</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ">shiftLeftRec_succ</a></code> for bit blasting.</p></div></div><div class="mod_doc"><h1 class="markdown-heading" id="udiv-urem-recurrence-for-bit-blasting">udiv/urem recurrence for bit blasting <a class="hover-link" href="#udiv-urem-recurrence-for-bit-blasting">#</a></h1><p>In order to prove the correctness of the division algorithm on the integers,
one shows that <code>n.div <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> and <code>n.mod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> iff <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> * <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> + <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> and <code>0 ≤ <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> &lt; <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></code>.
Mnemonic: <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> is the numerator, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></code> is the denominator, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> is the quotient, and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> the remainder.</p><p>This <em>uniqueness of decomposition</em> is not true for bitvectors.
For <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> = 0, <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = 3, w = 3</code>, we can write:</p><ul>
<li><code>0 = 0 * 3 + 0</code> (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> = 0</code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 0 &lt; 3</code>.)</li>
<li><code>0 = 2 * 3 + 2 = 6 + 2 ≃ 0 (mod 8)</code> (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> = 2</code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 2 &lt; 3</code>).</li>
</ul><p>Such examples can be created by choosing different <code>(q, r)</code> for a fixed <code>(d, n)</code>
such that <code>(d * <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> + r)</code> overflows and wraps around to equal <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code>.</p><p>This tells us that the division algorithm must have more restrictions than just the ones
we have for integers. These restrictions are captured in <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a></code>.
The key idea is to state the relationship in terms of the toNat values of {n, d, q, r}.
If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.udiv <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> and <code>n.umod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code>.</p><p>Following this, we implement the division algorithm by repeated shift-subtract.</p><p>References:</p><ul>
<li>Fast 32-bit Division on the DSP56800E: Minimized nonrestoring division algorithm by David Baca</li>
<li>Bitwuzla sources for bitblasting.h</li>
</ul></div><div class="decl" id="BitVec.udiv_eq_of_mul_add_toNat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L840-L855">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">udiv_eq_of_mul_add_toNat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n </span><span class="fn">q </span><span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hrd</span> : <span class="fn">r</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdqnr</span> : <span class="fn"><span class="fn">d</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">q</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">q</span></div></div><p>If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.udiv <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code>.</p></div></div><div class="decl" id="BitVec.umod_eq_of_mul_add_toNat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L857-L871">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umod_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">umod_eq_of_mul_add_toNat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n </span><span class="fn">q </span><span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hrd</span> : <span class="fn">r</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdqnr</span> : <span class="fn"><span class="fn">d</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">q</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">r</span></div></div><p>If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.umod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code>.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="DivModState">DivModState <a class="hover-link" href="#DivModState">#</a></h3></div><div class="decl" id="BitVec.DivModState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L875-L884">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState"><span class="name">BitVec</span>.<span class="name">DivModState</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a></code> is a structure that maintains the state of recursive <code>divrem</code> calls.</p><ul class="structure_fields" id="BitVec.DivModState.mk"><li id="BitVec.DivModState.wn" class="structure_field"><div class="structure_field_info">wn : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>The number of bits in the numerator that are not yet processed</p></div></li><li id="BitVec.DivModState.wr" class="structure_field"><div class="structure_field_info">wr : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>The number of bits in the remainder (and quotient)</p></div></li><li id="BitVec.DivModState.q" class="structure_field"><div class="structure_field_info">q : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>The current quotient.</p></div></li><li id="BitVec.DivModState.r" class="structure_field"><div class="structure_field_info">r : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>The current remainder.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModArgs"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L887-L893">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs"><span class="name">BitVec</span>.<span class="name">DivModArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a></code> contains the arguments to a <code>divrem</code> call which remain constant throughout
execution.</p><ul class="structure_fields" id="BitVec.DivModArgs.mk"><li id="BitVec.DivModArgs.n" class="structure_field"><div class="structure_field_info">n : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>the numerator (aka, dividend)</p></div></li><li id="BitVec.DivModArgs.d" class="structure_field"><div class="structure_field_info">d : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>the denumerator (aka, divisor)</p></div></li></ul><details id="instances-for-list-BitVec.DivModArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.Lawful"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L895-L919">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a></code> is lawful if the remainder width <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code> plus the numerator width <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> equals <code>w</code>,
and the bitvectors <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> have values in the bounds given by bitwidths <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, resp. <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>.</p><p>This is a proof engineering choice: an alternative world could have been
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>, but this required much more dependent typing coercions.</p><p>Instead, we choose to declare all involved bitvectors as length <code>w</code>, and then prove that
the values are within their respective bounds.</p><p>We start with <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = w</code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a> = 0</code>, and then in each step, we decrement <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> and increment <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>.
In this way, we grow a legal remainder in each loop iteration.</p><ul class="structure_fields" id="BitVec.DivModState.Lawful.mk"><li id="BitVec.DivModState.Lawful.hwrn" class="structure_field"><div class="structure_field_info">hwrn : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">w</span></div><div class="structure_field_doc"><p>The sum of widths of the dividend and remainder is <code>w</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hdPos" class="structure_field"><div class="structure_field_info">hdPos : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span></div><div class="structure_field_doc"><p>The denominator is positive.</p></div></li><li id="BitVec.DivModState.Lawful.hrLtDivisor" class="structure_field"><div class="structure_field_info">hrLtDivisor : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div><div class="structure_field_doc"><p>The remainder is strictly less than the denominator.</p></div></li><li id="BitVec.DivModState.Lawful.hrWidth" class="structure_field"><div class="structure_field_info">hrWidth : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div><div class="structure_field_doc"><p>The remainder is morally a <code>Bitvec <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, and so has value less than <code>2^wr</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hqWidth" class="structure_field"><div class="structure_field_info">hqWidth : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div><div class="structure_field_doc"><p>The quotient is morally a <code>Bitvec <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, and so has value less than <code>2^wr</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hdiv" class="structure_field"><div class="structure_field_info">hdiv : <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div><div class="structure_field_doc"><p>The low <code>(w - wn)</code> bits of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> obey the invariant for division.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState.Lawful" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.Lawful.hw"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L921-L929">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hw"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span>.<span class="name">hw</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span></div></div><p>A lawful DivModState implies <code>w &gt; 0</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.Lawful.hw" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.init"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L931-L937">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">init</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>An initial value with both <code>q, <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 0</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">BitVec.DivModState.init</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">w</span>, <span class="fn">wr</span> := <span class="fn">0</span>, <span class="fn">q</span> := 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>, <span class="fn">r</span> := 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a></li></ul></details><details id="instances-for-list-BitVec.DivModState.init" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.lawful_init"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L939-L953">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.lawful_init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">lawful_init</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">init</a> <span class="fn">w</span>)</span></span></div></div><p>The initial state is lawful.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.lawful_init" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.udiv_eq_of_lawful"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L955-L966">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.udiv_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">udiv_eq_of_lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h_lawful</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_final</span> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span></div></div><p>A lawful DivModState with a fully consumed dividend (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>) witnesses that the
quotient has been correctly computed.</p></div></div><div class="decl" id="BitVec.DivModState.umod_eq_of_lawful"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L968-L980">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.umod_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">umod_eq_of_lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_final</span> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span></div></div><p>A lawful DivModState with a fully consumed dividend (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>) witnesses that the
remainder has been correctly computed.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="DivModState-Poised">DivModState.Poised <a class="hover-link" href="#DivModState-Poised">#</a></h3></div><div class="decl" id="BitVec.DivModState.Poised"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L984-L994">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Poised</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_extends">extends</span> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">BitVec.DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a></code> DivModState is a state which is <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a></code> and furthermore, has at least
one numerator bit left to process <code>(0 &lt; wn)</code></p><p>The input to the shift subtractor is a legal input to <code>divrem</code>, and we also need to have an
input bit to perform shift subtraction on, and thus we need <code>0 &lt; <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>.</p><ul class="structure_fields" id="BitVec.DivModState.Poised.mk"><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hwrn">hwrn</a> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">w</span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hdPos">hdPos</a> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hrLtDivisor">hrLtDivisor</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hrWidth">hrWidth</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hqWidth">hqWidth</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hdiv">hdiv</a> : <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></li><li id="BitVec.DivModState.Poised.hwn_lt" class="structure_field"><div class="structure_field_info">hwn_lt : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span></div><div class="structure_field_doc"><p>Only perform a round of shift-subtract if we have dividend bits.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState.Poised" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.wr_lt_w"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L996-L1003">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr_lt_w"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">wr_lt_w</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span></div></div><p>In the shift subtract input, the dividend is at least one bit long (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> &gt; 0</code>), so
the remainder has bits to be computed (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a> &lt; w</code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.wr_lt_w" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Division-shift-subtractor">Division shift subtractor <a class="hover-link" href="#Division-shift-subtractor">#</a></h3></div><div class="decl" id="BitVec.divSubtractShift"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1007-L1025">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift"><span class="name">BitVec</span>.<span class="name">divSubtractShift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>One round of the division algorithm. It tries to perform a subtract shift.</p><p>This should only be called when <code>r.msb = false</code>, so it will not overflow.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-BitVec.divSubtractShift" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.toNat_shiftRight_sub_one_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1027-L1039">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.toNat_shiftRight_sub_one_eq"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">toNat_shiftRight_sub_one_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> (<span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span></div></div><p>The value of shifting right by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> - 1</code> equals shifting by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> and grabbing the lsb at <code>(wn - 1)</code>.</p></div></div><div class="decl" id="BitVec.lawful_divSubtractShift"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1051-L1096">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.lawful_divSubtractShift"><span class="name">BitVec</span>.<span class="name">lawful_divSubtractShift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">DivModState.Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div><p>We show that the output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a></code> is lawful, which tells us that it
obeys the division equation.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Core-division-algorithm-circuit">Core division algorithm circuit <a class="hover-link" href="#Core-division-algorithm-circuit">#</a></h3></div><div class="decl" id="BitVec.divRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1100-L1105">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec"><span class="name">BitVec</span>.<span class="name">divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>A recursive definition of division for bit blasting, in terms of a shift-subtraction circuit.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn">0</span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">qr</span></li><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn">s_1</span> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">BitVec.divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></li></ul></details><details id="instances-for-list-BitVec.divRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.divRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1107-L1109">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_zero"><span class="name">BitVec</span>.<span class="name">divRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">0</span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">qr</span></div></div></div></div><div class="decl" id="BitVec.divRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1111-L1114">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_succ"><span class="name">BitVec</span>.<span class="name">divRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> (<span class="fn">m</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">m</span> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.lawful_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1116-L1131">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.lawful_divRec"><span class="name">BitVec</span>.<span class="name">lawful_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div><p>The output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a></code> is a lawful state</p></div></div><div class="decl" id="BitVec.wn_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1133-L1143">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.wn_divRec"><span class="name">BitVec</span>.<span class="name">wn_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <span class="fn">args</span> <span class="fn">qr</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div><p>The output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a></code> has no more bits left to process (i.e., <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>)</p></div></div><div class="decl" id="BitVec.udiv_eq_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1145-L1151">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_eq_divRec"><span class="name">BitVec</span>.<span class="name">udiv_eq_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">let <span class="fn">out</span> := <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span></span>;
<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">out</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span></span></div></div><p>The result of <code>udiv</code> agrees with the result of the division recurrence.</p></div></div><div class="decl" id="BitVec.umod_eq_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1153-L1159">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umod_eq_divRec"><span class="name">BitVec</span>.<span class="name">umod_eq_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">let <span class="fn">out</span> := <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span></span>;
<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">out</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span></span></div></div><p>The result of <code>umod</code> agrees with the result of the division recurrence.</p></div></div><div class="decl" id="BitVec.divRec_succ'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1161-L1177">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_succ'"><span class="name">BitVec</span>.<span class="name">divRec_succ'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> (<span class="fn">m</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let <span class="fn">wn</span> := <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>;
  <span class="fn">let <span class="fn">wr</span> := <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>;
  <span class="fn">let <span class="fn">r'</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">wn</span>)</span></span>;
  <span class="fn">let <span class="fn">input</span> :=
    <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">r'</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">wn</span>, <span class="fn">wr</span> := <span class="fn">wr</span>, <span class="fn">q</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>, <span class="fn">r</span> := <span class="fn">r'</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a>
    <a href="../../.././Init/Prelude.html#ite">else</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">wn</span>, <span class="fn">wr</span> := <span class="fn">wr</span>, <span class="fn">q</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>, <span class="fn">r</span> := <span class="fn">r'</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a>;
  <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">m</span> <span class="fn">args</span> <span class="fn">input</span></span></span></span></span></span></div></div></div></div><div class="decl" id="BitVec.getElem_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1179-L1181">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_udiv"><span class="name">BitVec</span>.<span class="name">getElem_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="decl" id="BitVec.getLsbD_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1183-L1188">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_udiv"><span class="name">BitVec</span>.<span class="name">getLsbD_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>)</div></div></div></div><div class="decl" id="BitVec.getMsbD_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1190-L1192">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_udiv"><span class="name">BitVec</span>.<span class="name">getMsbD_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>)</div></div></div></div><div class="decl" id="BitVec.sshiftRightRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1196-L1208">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> arithmetically (signed) to the right by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight_eq_sshiftRightRec">BitVec.sshiftRight_eq_sshiftRightRec</a></code> proves the equivalence of <code>(x.sshiftRight y)</code> and
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">BitVec.sshiftRightRec</a> x y</code>. Together with equations <code>BitVec.sshiftRightRec_zero</code>, and
<code>BitVec.sshiftRightRec_succ</code>, this allows <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight">BitVec.sshiftRight</a></code> to be unfolded into a circuit for
bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</span></li></ul></details><details id="instances-for-list-BitVec.sshiftRightRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.sshiftRightRec_zero_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1210-L1213">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_zero_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_zero_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</span></div></div></div></div><div class="decl" id="BitVec.sshiftRightRec_succ_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1215-L1218">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_succ_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_succ_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></div></div></div></div><div class="decl" id="BitVec.sshiftRight'_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1220-L1229">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">sshiftRight'_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">z</span></span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x.sshiftRight (y ||| z) = (x.sshiftRight y).sshiftRight z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x.sshiftRight (y ||| z) = x.sshiftRight (y + z) = (x.sshiftRight y).sshiftRight z</code>.</p></div></div><div class="decl" id="BitVec.sshiftRightRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1231-L1245">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.sshiftRight_eq_sshiftRightRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1247-L1255">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight_eq_sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRight_eq_sshiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div><p>Show that <code>x.sshiftRight y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_zero_eq">sshiftRightRec_zero_eq</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_succ_eq">sshiftRightRec_succ_eq</a></code> for bit blasting.</p></div></div><div class="decl" id="BitVec.ushiftRightRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1259-L1272">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec"><span class="name">BitVec</span>.<span class="name">ushiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> logically to the right by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftRight_eq_ushiftRightRec">BitVec.shiftRight_eq_ushiftRightRec</a></code> proves the equivalence
of <code>(x &gt;&gt;&gt; y)</code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">BitVec.ushiftRightRec</a></code>.</p><p>Together with equations <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero">BitVec.ushiftRightRec_zero</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ">BitVec.ushiftRightRec_succ</a></code>,
this allows <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ushiftRight">BitVec.ushiftRight</a></code> to be unfolded into a circuit for bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</li></ul></details><details id="instances-for-list-BitVec.ushiftRightRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.ushiftRightRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1274-L1277">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</div></div></div></div><div class="decl" id="BitVec.ushiftRightRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1279-L1282">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</div></div></div></div><div class="decl" id="BitVec.ushiftRight'_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1284-L1292">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">ushiftRight'_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">z</span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x &gt;&gt;&gt; (y ||| z) = x &gt;&gt;&gt; y &gt;&gt;&gt; z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x &gt;&gt;&gt; (y ||| z) = x &gt;&gt;&gt; (y + z) = x &gt;&gt;&gt; y &gt;&gt;&gt; z</code>.</p></div></div><div class="decl" id="BitVec.ushiftRightRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1294-L1308">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.shiftRight_eq_ushiftRightRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1310-L1318">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftRight_eq_ushiftRightRec"><span class="name">BitVec</span>.<span class="name">shiftRight_eq_ushiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span></div></div><p>Show that <code>x &gt;&gt;&gt; y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero">ushiftRightRec_zero</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ">ushiftRightRec_succ</a></code> for bit blasting.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Overflow-definitions">Overflow definitions <a class="hover-link" href="#Overflow-definitions">#</a></h3></div><div class="decl" id="BitVec.uaddOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1322-L1325">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uaddOverflow_eq"><span class="name">BitVec</span>.<span class="name">uaddOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.uaddOverflow">uaddOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div><p>Unsigned addition overflows iff the final carry bit of the addition circuit is <code>true</code>.</p></div></div><div class="decl" id="BitVec.saddOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1327-L1338">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.saddOverflow_eq"><span class="name">BitVec</span>.<span class="name">saddOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.saddOverflow">saddOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.usubOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1340-L1341">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.usubOverflow_eq"><span class="name">BitVec</span>.<span class="name">usubOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.usubOverflow">usubOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">y</span>)</span></div></div></div></div><div class="decl" id="BitVec.ssubOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1343-L1353">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ssubOverflow_eq"><span class="name">BitVec</span>.<span class="name">ssubOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ssubOverflow">ssubOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.negOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1355-L1362">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.negOverflow_eq"><span class="name">BitVec</span>.<span class="name">negOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.negOverflow">negOverflow</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</div></div></div></div><div class="decl" id="BitVec.sdivOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1364-L1394">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdivOverflow_eq"><span class="name">BitVec</span>.<span class="name">sdivOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdivOverflow">sdivOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span>)</span>)</div></div><p>Prove that signed division <code>x.toInt / y.toInt</code> only overflows when <code>x = intMin w</code> and <code>y = allOnes w</code> (for <code>0 &lt; w</code>).</p></div></div><div class="decl" id="BitVec.umulOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1396-L1406">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umulOverflow_eq"><span class="name">BitVec</span>.<span class="name">umulOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.umulOverflow">umulOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.zeroExtend">zeroExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.zeroExtend">zeroExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>)</span>)</div></div></div></div><div class="decl" id="BitVec.smulOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1408-L1419">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.smulOverflow_eq"><span class="name">BitVec</span>.<span class="name">smulOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smulOverflow">smulOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a>     (<span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMax">intMax</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> (<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a>       <span class="fn"><span class="fn">(<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>)</span></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1423-L1431">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_umod"><span class="name">BitVec</span>.<span class="name">getElem_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">n</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="decl" id="BitVec.getLsbD_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1433-L1439">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_umod"><span class="name">BitVec</span>.<span class="name">getLsbD_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1441-L1448">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_umod"><span class="name">BitVec</span>.<span class="name">getMsbD_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Mappings-to-and-from-BitVec">Mappings to and from BitVec <a class="hover-link" href="#Mappings-to-and-from-BitVec">#</a></h3></div><div class="decl" id="BitVec.eq_iff_eq_of_inv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1453-L1461">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.eq_iff_eq_of_inv"><span class="name">BitVec</span>.<span class="name">eq_iff_eq_of_inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span> → <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">∀ (<span class="fn">x</span> : <span class="fn">α</span>), <span class="fn"><span class="fn">g</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.ne_intMin_of_lt_of_msb_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1463-L1468">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ne_intMin_of_lt_of_msb_false"><span class="name">BitVec</span>.<span class="name">ne_intMin_of_lt_of_msb_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hw</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.ne_zero_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1470-L1476">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ne_zero_of_msb_true"><span class="name">BitVec</span>.<span class="name">ne_zero_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.msb_neg_of_ne_intMin_of_ne_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1478-L1482">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_neg_of_ne_intMin_of_ne_zero"><span class="name">BitVec</span>.<span class="name">msb_neg_of_ne_intMin_of_ne_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h'</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div></div></div><div class="decl" id="BitVec.udiv_intMin_of_msb_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1484-L1493">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_intMin_of_msb_false"><span class="name">BitVec</span>.<span class="name">udiv_intMin_of_msb_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.sdiv_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1495-L1510">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#ite">then</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">else</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.sdiv_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1512-L1518">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_neg"><span class="name">BitVec</span>.<span class="name">sdiv_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.neg_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1520-L1526">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sdiv"><span class="name">BitVec</span>.<span class="name">neg_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.neg_sdiv_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1528-L1542">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sdiv_neg"><span class="name">BitVec</span>.<span class="name">neg_sdiv_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.intMin_eq_neg_two_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1544-L1550">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_eq_neg_two_pow"><span class="name">BitVec</span>.<span class="name">intMin_eq_neg_two_pow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofInt">BitVec.ofInt</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span></div></div></div></div><div class="decl" id="BitVec.toInt_intMin_eq_bmod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1552-L1553">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_intMin_eq_bmod"><span class="name">BitVec</span>.<span class="name">toInt_intMin_eq_bmod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)).<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div></div></div><div class="decl" id="BitVec.toInt_bmod_cancel"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1555-L1557">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_bmod_cancel"><span class="name">BitVec</span>.<span class="name">toInt_bmod_cancel</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></div></div></div></div><div class="decl" id="BitVec.sdiv_ne_intMin_of_ne_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1559-L1573">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_ne_intMin_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_ne_intMin_of_ne_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1575-L1584">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">↑<span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></span></div></div></div></div><div class="decl" id="BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1586-L1592">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_nonpos</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#Or">∨</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">↑<span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></span></div></div></div></div><div class="decl" id="BitVec.intMin_udiv_eq_intMin_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1594-L1612">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_udiv_eq_intMin_iff"><span class="name">BitVec</span>.<span class="name">intMin_udiv_eq_intMin_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.intMin_udiv_ne_zero_of_ne_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1614-L1624">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_udiv_ne_zero_of_ne_zero"><span class="name">BitVec</span>.<span class="name">intMin_udiv_ne_zero_of_ne_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hb</span> : <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hb0</span> : <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.toInt_sdiv_of_ne_or_ne"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1626-L1695">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_sdiv_of_ne_or_ne"><span class="name">BitVec</span>.<span class="name">toInt_sdiv_of_ne_or_ne</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">a</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Or">∨</a> <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a>1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">b</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tdiv">tdiv</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></span></div></div></div></div><div class="decl" id="BitVec.intMin_sdiv_neg_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1697-L1704">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_sdiv_neg_one"><span class="name">BitVec</span>.<span class="name">intMin_sdiv_neg_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.toInt_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1706-L1716">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_sdiv"><span class="name">BitVec</span>.<span class="name">toInt_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">b</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tdiv">tdiv</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>)</span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div></div></div><div class="decl" id="BitVec.msb_umod_eq_false_of_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1718-L1723">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_umod_eq_false_of_left"><span class="name">BitVec</span>.<span class="name">msb_umod_eq_false_of_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.msb_umod_of_le_of_ne_zero_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1725-L1731">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_umod_of_le_of_ne_zero_of_le"><span class="name">BitVec</span>.<span class="name">msb_umod_of_le_of_ne_zero_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn">y</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy'</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Lemmas.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.toInt_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1733-L1759">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_srem"><span class="name">BitVec</span>.<span class="name">toInt_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tmod">tmod</a></span> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Lemmas-that-use-bit-blasting-circuits">Lemmas that use bit blasting circuits <a class="hover-link" href="#Lemmas-that-use-bit-blasting-circuits">#</a></h3></div><div class="decl" id="BitVec.add_sub_comm"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1763-L1767">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_sub_comm"><span class="name">BitVec</span>.<span class="name">add_sub_comm</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">z </span><span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.sub_add_comm"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1769-L1770">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sub_add_comm"><span class="name">BitVec</span>.<span class="name">sub_add_comm</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">z </span><span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.not_add_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1772-L1773">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_add_one"><span class="name">BitVec</span>.<span class="name">not_add_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.not_add_eq_not_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1775-L1778">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_add_eq_not_neg"><span class="name">BitVec</span>.<span class="name">not_add_eq_not_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.not_sub_one_eq_not_add_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1780-L1782">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_sub_one_eq_not_add_one"><span class="name">BitVec</span>.<span class="name">not_sub_one_eq_not_add_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.not_sub_eq_not_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1784-L1785">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_sub_eq_not_add"><span class="name">BitVec</span>.<span class="name">not_sub_eq_not_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.carry_extractLsb'_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1787-L1798">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_extractLsb'_eq_carry"><span class="name">BitVec</span>.<span class="name">carry_extractLsb'_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">len</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span>)</span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">b</span></span></div></div><p>The value of <code>(carry i x y false)</code> can be computed by truncating <code>x</code> and <code>y</code>
to <code>len</code> bits where <code>len ≥ i</code>.</p></div></div><div class="decl" id="BitVec.extractLsb'_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1800-L1808">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.extractLsb'_add"><span class="name">BitVec</span>.<span class="name">extractLsb'_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hlen</span> : <span class="fn">len</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span></span></div></div><p>The <code>[0..len)</code> low bits of <code>x + y</code> can be computed by truncating <code>x</code> and <code>y</code>
to <code>len</code> bits and then adding.</p></div></div><div class="decl" id="BitVec.extractLsb'_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1810-L1813">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.extractLsb'_mul"><span class="name">BitVec</span>.<span class="name">extractLsb'_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hlen</span> : <span class="fn">len</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span></span></div></div><p><code>extractLsb'</code> commutes with multiplication.</p></div></div><div class="decl" id="BitVec.append_zero_add_zero_append"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1815-L1825">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.append_zero_add_zero_append"><span class="name">BitVec</span>.<span class="name">append_zero_add_zero_append</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">v</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span></div></div><p>Adding bitvectors that are zero in complementary positions equals concatenation.
We add a <code>no_index</code> annotation to <code><a href="../../.././Init/Prelude.html#HAppend.hAppend">HAppend.hAppend</a></code> such that the width <code>v + w</code>
does not act as a key in the discrimination tree.
This is important to allow matching, when the type of the result of append
<code>x : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 3</code> and <code>y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 4</code> has been reduced to <code>x ++ y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 7</code>.</p></div></div><div class="decl" id="BitVec.zero_append_add_append_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1827-L1832">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zero_append_add_append_zero"><span class="name">BitVec</span>.<span class="name">zero_append_add_append_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type">0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">v</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> 0<a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span></div></div><p>Adding bitvectors that are zero in complementary positions equals concatenation.</p></div></div><div class="decl" id="BitVec.add_shiftLeft_eq_or_shiftLeft"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1834-L1845">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_shiftLeft_eq_or_shiftLeft"><span class="name">BitVec</span>.<span class="name">add_shiftLeft_eq_or_shiftLeft</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span></div></div><p>Heuristically, <code>y &lt;&lt;&lt; x</code> is much larger than <code>x</code>,
and hence low bits of <code>y &lt;&lt;&lt; x</code>. Thus, <code>x + (y &lt;&lt;&lt; x) = x ||| (y &lt;&lt;&lt; x).</code></p></div></div><div class="decl" id="BitVec.shiftLeft_add_eq_shiftLeft_or"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Init/Data/BitVec/Bitblast.lean#L1847-L1851">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_add_eq_shiftLeft_or"><span class="name">BitVec</span>.<span class="name">shiftLeft_add_eq_shiftLeft_or</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">x</span></div></div><p>Heuristically, <code>y &lt;&lt;&lt; x</code> is much larger than <code>x</code>,
and hence low bits of <code>y &lt;&lt;&lt; x</code>. Thus, <code>(y &lt;&lt;&lt; x) + x = (y &lt;&lt;&lt; x) ||| x.</code></p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>