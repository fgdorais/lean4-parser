{"name":"Lean.Widget.Diff","instances":[{"typeNames":["_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag"],"name":"Lean.Widget.instToStringExprDiffTag","className":"ToString"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instEmptyCollectionExprDiff","className":"EmptyCollection"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instAppendExprDiff","className":"Append"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instToStringExprDiff","className":"ToString"}],"imports":["Lean.Meta.PPGoal","Lean.Widget.InteractiveCode","Lean.Widget.InteractiveGoal","Lean.Data.Lsp.Extra","Lean.Elab.InfoTree"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L252-L279","name":"Lean.Widget.diffInteractiveGoals","line":252,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoals","doc":"Modifies `goalsAfter` with additional information about how it is different to `goalsBefore`.\nIf `useAfter` is `true` then `igs₁` is the set of interactive goals _after_ the tactic has been applied.\nOtherwise `igs₁` is the set of interactive goals _before_. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoals\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffInteractiveGoals</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">info</span> : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.TacticInfo\">Elab.TacticInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">igs₁</span> : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoals\">InteractiveGoals</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoals\">InteractiveGoals</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L233-L250","name":"Lean.Widget.diffInteractiveGoal","line":233,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoal","doc":"Decorates the given goal `i₁` with a diff by comparing with goal `g₀`.\nIf `useAfter` is true then `i₁` is _after_ and `g₀` is _before_. Otherwise they are swapped. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoal\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffInteractiveGoal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">g₀</span> : <a href=\"./Lean/Expr.html#Lean.MVarId\">MVarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">i₁</span> : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoal\">InteractiveGoal</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoal\">InteractiveGoal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L229-L231","name":"Lean.Widget.diffHypotheses","line":229,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypotheses","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypotheses\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypotheses</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx₀</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hs₁</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L221-L227","name":"Lean.Widget.diffHypothesesBundle.withTypeDiff","line":221,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle.withTypeDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle.withTypeDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypothesesBundle</span>.<span class=\"name\">withTypeDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">t₀</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h₁</span> : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L199-L227","name":"Lean.Widget.diffHypothesesBundle","line":199,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle","doc":"Diffs the given hypothesis bundle against the given local context.\n\nIf `useAfter == true`, `ctx₀` is the context _before_ and `h₁` is the bundle _after_.\nIf `useAfter == false`, these are swapped.\n "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypothesesBundle</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx₀</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h₁</span> : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">InteractiveHypothesisBundle</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L189-L195","name":"Lean.Widget.addDiffTags","line":189,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.addDiffTags","doc":"Given a `diff` between `before` and `after : Expr`, and the rendered `infoAfter : CodeWithInfos` for `after`,\nthis function decorates `infoAfter` with tags indicating where the expression has changed.\n\nIf `useAfter == false` before and after are swapped. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.addDiffTags\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">addDiffTags</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diff</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">info₁</span> : <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.CodeWithInfos\">CodeWithInfos</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.CodeWithInfos\">CodeWithInfos</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L180-L187","name":"Lean.Widget.exprDiff","line":180,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiff","doc":"Computes the diff for `e₀` and `e₁`. If `useAfter` is `false`, `e₀, e₁` are interpreted as `after, before` instead of `before, after`."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e₀ </span><span class=\"fn\">e₁</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L141-L178","name":"Lean.Widget.exprDiffCore.piDiff","line":141,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore.piDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore.piDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiffCore</span>.<span class=\"name\">piDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">before </span><span class=\"fn\">after</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">SubExpr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L91-L178","name":"Lean.Widget.exprDiffCore","line":91,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore","doc":"Computes a diff between `before` and `after` expressions.\n\nThis works by recursively comparing function arguments.\n\nTODO(ed): experiment with a 'greatest common subexpression' design where\n  given `e₀`, `e₁`, find the greatest common subexpressions `Xs : Array Expr` and a congruence `F` such that\n  `e₀ = F[A₀[..Xs]]` and `e₀ = F[A₁[..Xs]]`. Then, we can have fancy diff highlighting where common subexpressions are not highlighted.\n\n## Diffing binders\n\nTwo binding domains are identified if they have the same user name and the same type.\nThe most common tactic that modifies binders is after an `intros`.\nTo deal with this case, if `before = (a : α) → β` and `after`, is not a matching binder (ie: not `(a : α) → _`)\nthen we instantiate the `before` variable in a new context and continue diffing `β` against `after`.\n\n "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiffCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">before </span><span class=\"fn\">after</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">SubExpr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L87-L89","name":"Lean.Widget.ExprDiff.isEmpty","line":87,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.isEmpty","doc":"If true, the expression before and the expression after are identical. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.isEmpty\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">isEmpty</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L83-L85","name":"Lean.Widget.ExprDiff.withChange","line":83,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChange","doc":"Add a tag to the diff at the positions given by `before` and `after`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">withChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">before </span><span class=\"fn\">after</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">SubExpr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> := <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change✝</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L78-L81","name":"Lean.Widget.ExprDiff.withChangePos","line":78,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChangePos","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChangePos\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">withChangePos</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">before </span><span class=\"fn\">after</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> := <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change✝</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L74-L76","name":"Lean.Widget.ExprDiff.insertAfterChange","line":74,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertAfterChange","doc":"Add a tag at the given position to the `changesAfter` dict. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertAfterChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">insertAfterChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> := <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change✝</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">δ</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L70-L72","name":"Lean.Widget.ExprDiff.insertBeforeChange","line":70,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertBeforeChange","doc":"Add a tag at the given position to the `changesBefore` dict. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertBeforeChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">insertBeforeChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">p</span> : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> := <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change✝</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">δ</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L64-L68","name":"Lean.Widget.instToStringExprDiff","line":64,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instToStringExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L59-L63","name":"Lean.Widget.instAppendExprDiff","line":59,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instAppendExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instAppendExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instAppendExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Append\">Append</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L58-L58","name":"Lean.Widget.instEmptyCollectionExprDiff","line":58,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instEmptyCollectionExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instEmptyCollectionExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instEmptyCollectionExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#EmptyCollection\">EmptyCollection</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L56-L56","name":"Lean.Widget.ExprDiff.changesAfter","line":56,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesAfter","doc":"A map from subexpr positions in `e₁` to 'diff points' which are tags\ndescribing how the expression has changed relative to `before` at the given position."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesAfter\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">changesAfter</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L53-L53","name":"Lean.Widget.ExprDiff.changesBefore","line":53,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesBefore","doc":"Map from subexpr positions in `e₀` to diff points."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesBefore\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">changesBefore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L51-L51","name":"Lean.Widget.ExprDiff.mk","line":51,"kind":"ctor","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">changesBefore </span><span class=\"fn\">changesAfter</span> : <span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L47-L56","name":"Lean.Widget.ExprDiff","line":47,"kind":"structure","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff","doc":"A description of the differences between a pair of expressions `before`, `after : Expr`.\nThe information can be used to display a 'visual diff' for\neither `before`, showing the parts of the expression that are about to change,\nor `after` showing which parts of the expression have changed. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L45-L45","name":"Lean.Widget.instToStringExprDiffTag","line":45,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiffTag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiffTag\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instToStringExprDiffTag</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L40-L43","name":"Lean.Widget.ExprDiffTag.toString","line":40,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toString","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toString\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiffTag</span>.<span class=\"name\">toString</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> → <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L32-L38","name":"Lean.Widget.ExprDiffTag.toDiffTag","line":32,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toDiffTag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toDiffTag\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiffTag</span>.<span class=\"name\">toDiffTag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">useAfter</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag✝</a> → <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.DiffTag\">DiffTag</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Widget/Diff.lean#L16-L19","name":"Lean.Widget.showTacticDiff","line":16,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.showTacticDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.showTacticDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">showTacticDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"}]}