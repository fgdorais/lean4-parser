{"name":"Batteries.Linter.UnreachableTactic","instances":[],"imports":["Init","Lean.Elab.Command","Lean.Linter.Util","Lean.Parser.Syntax","Batteries.Tactic.Unreachable"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L90-L115","name":"Batteries.Linter.UnreachableTactic.unreachableTacticLinter","line":90,"kind":"def","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.unreachableTacticLinter","doc":"Enables the 'unreachable tactic' linter. This will warn on any tactics that are never executed.\nFor example, in `example : True := by trivial <;> done`, the tactic `done` is never executed\nbecause `trivial` produces no subgoals; you could put `sorry` or `apply I_don't_exist`\nor anything else there and no error would result.\n\nA common source of such things is `simp <;> tac` in the case that `simp` improves and\ncloses a subgoal that was previously being closed by `tac`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.unreachableTacticLinter\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">unreachableTacticLinter</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Elab/Command.html#Lean.Elab.Command.Linter\">Lean.Linter</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L78-L86","name":"Batteries.Linter.UnreachableTactic.eraseUsedTactics","line":78,"kind":"opaque","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.eraseUsedTactics","doc":"Search for tactic executions in the info tree and remove executed tactic syntaxes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.eraseUsedTactics\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">eraseUsedTactics</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree\">Lean.Elab.InfoTree</a> → <span class=\"fn\"><a href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L74-L76","name":"Batteries.Linter.UnreachableTactic.eraseUsedTacticsList","line":74,"kind":"opaque","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.eraseUsedTacticsList","doc":"Search for tactic executions in the info tree and remove executed tactic syntaxes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.eraseUsedTacticsList\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">eraseUsedTacticsList</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trees</span> : <span class=\"fn\"><a href=\"./Lean/Data/PersistentArray.html#Lean.PersistentArray\">Lean.PersistentArray</a> <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree\">Lean.Elab.InfoTree</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L63-L70","name":"Batteries.Linter.UnreachableTactic.getTactics","line":63,"kind":"opaque","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.getTactics","doc":"Accumulates the set of tactic syntaxes that should be evaluated at least once. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.getTactics\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">getTactics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ignoreTacticKinds</span> : <a href=\"./Lean/Data/NameMap.html#Lean.NameHashSet\">Lean.NameHashSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isTacKind</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.SyntaxNodeKind\">Lean.SyntaxNodeKind</a> → <a href=\"./Init/Prelude.html#Bool\">Bool</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">stx</span> : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L55-L60","name":"Batteries.Linter.UnreachableTactic.addIgnoreTacticKind","line":55,"kind":"def","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.addIgnoreTacticKind","doc":"Adds a new syntax kind whose children will be ignored by the `unreachableTactic` linter.\nThis should be called from an `initialize` block.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.addIgnoreTacticKind\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">addIgnoreTacticKind</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Init/Prelude.html#Lean.SyntaxNodeKind\">Lean.SyntaxNodeKind</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L49-L53","name":"Batteries.Linter.UnreachableTactic.isIgnoreTacticKind","line":49,"kind":"def","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.isIgnoreTacticKind","doc":"Is this a syntax kind that contains intentionally unevaluated tactic subterms? "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.isIgnoreTacticKind\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">isIgnoreTacticKind</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ignoreTacticKinds</span> : <a href=\"./Lean/Data/NameMap.html#Lean.NameHashSet\">Lean.NameHashSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">k</span> : <a href=\"./Init/Prelude.html#Lean.SyntaxNodeKind\">Lean.SyntaxNodeKind</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L35-L47","name":"Batteries.Linter.UnreachableTactic.ignoreTacticKindsRef","line":35,"kind":"opaque","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.ignoreTacticKindsRef","doc":"A list of blacklisted syntax kinds, which are expected to have subterms that contain\nunevaluated tactics.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.ignoreTacticKindsRef\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">ignoreTacticKindsRef</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Data/NameMap.html#Lean.NameHashSet\">Lean.NameHashSet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L32-L33","name":"Batteries.Linter.UnreachableTactic.M","line":32,"kind":"def","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.M","doc":"The monad for collecting used tactic syntaxes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.M\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">M</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L29-L30","name":"Batteries.Linter.UnreachableTactic.getLinterUnreachableTactic","line":29,"kind":"def","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.getLinterUnreachableTactic","doc":"Gets the value of the `linter.unreachableTactic` option. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.UnreachableTactic.getLinterUnreachableTactic\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">UnreachableTactic</span>.<span class=\"name\">getLinterUnreachableTactic</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">o</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover-community/batteries/blob/78e1181c4752c7e10874d2ed5a6a15063f4a35b6/Batteries/Linter/UnreachableTactic.lean#L14-L26","name":"Batteries.Linter.linter.unreachableTactic","line":14,"kind":"opaque","docLink":"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.linter.unreachableTactic","doc":"Enables the 'unreachable tactic' linter. This will warn on any tactics that are never executed.\nFor example, in `example : True := by trivial <;> done`, the tactic `done` is never executed\nbecause `trivial` produces no subgoals; you could put `sorry` or `apply I_don't_exist`\nor anything else there and no error would result.\n\nA common source of such things is `simp <;> tac` in the case that `simp` improves and\ncloses a subgoal that was previously being closed by `tac`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Batteries/Linter/UnreachableTactic.html#Batteries.Linter.linter.unreachableTactic\"><span class=\"name\">Batteries</span>.<span class=\"name\">Linter</span>.<span class=\"name\">linter</span>.<span class=\"name\">unreachableTactic</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"}]}