{"name":"Lean.Compiler.IR.Borrow","instances":[{"typeNames":["Lean.IR.Borrow.OwnedSet.Key"],"name":"Lean.IR.Borrow.OwnedSet.instBEqKey","className":"BEq"},{"typeNames":["Lean.IR.Borrow.OwnedSet.Key"],"name":"Lean.IR.Borrow.OwnedSet.instHashableKey","className":"Hashable"},{"typeNames":["Lean.IR.Borrow.ParamMap.Key"],"name":"Lean.IR.Borrow.ParamMap.instBEqKey","className":"BEq"},{"typeNames":["Lean.IR.Borrow.ParamMap.Key"],"name":"Lean.IR.Borrow.ParamMap.instHashableKey","className":"Hashable"},{"typeNames":["Lean.IR.Borrow.ParamMap"],"name":"Lean.IR.Borrow.instToFormatParamMap","className":"Std.ToFormat"},{"typeNames":["Lean.IR.Borrow.ParamMap"],"name":"Lean.IR.Borrow.instToStringParamMap","className":"ToString"}],"imports":["Lean.Compiler.ExportAttr","Lean.Compiler.IR.CompilerM","Lean.Compiler.IR.NormIds"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L312-L315","name":"Lean.IR.inferBorrow","line":312,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.inferBorrow","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.inferBorrow\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">inferBorrow</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/CompilerM.html#Lean.IR.CompilerM\">CompilerM</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L307-L308","name":"Lean.IR.Borrow.infer","line":307,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.infer","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.infer\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">infer</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L302-L305","name":"Lean.IR.Borrow.collectDecls","line":302,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectDecls</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L292-L300","name":"Lean.IR.Borrow.whileModifing","line":292,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.whileModifing","doc":"Keep executing `x` until it reaches a fixpoint "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.whileModifing\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">whileModifing</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L285-L290","name":"Lean.IR.Borrow.collectDecl","line":285,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecl\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectDecl</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L270-L283","name":"Lean.IR.Borrow.collectFnBody","line":270,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectFnBody</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">FnBody</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L267-L268","name":"Lean.IR.Borrow.updateParamSet","line":267,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">updateParamSet</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ctx</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ps</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L257-L265","name":"Lean.IR.Borrow.preserveTailCall","line":257,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.preserveTailCall","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.preserveTailCall\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">preserveTailCall</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">VarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">v</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">b</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">FnBody</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L243-L255","name":"Lean.IR.Borrow.collectExpr","line":243,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectExpr","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectExpr\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectExpr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">z</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Expr\">Expr</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L226-L241","name":"Lean.IR.Borrow.ownArgsIfParam","line":226,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsIfParam","doc":"Mark `xs[i]` as owned if it is one of the parameters `ps`.\nWe use this action to mark function parameters that are being \"packed\" inside constructors.\nThis is a heuristic, and is not related with the effectiveness of the reset/reuse optimization.\nIt is useful for code such as\n```\ndef f (x y : obj) :=\nlet z := ctor_1 x y;\nret z\n```\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsIfParam\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgsIfParam</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">xs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Arg</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L213-L224","name":"Lean.IR.Borrow.ownParamsUsingArgs","line":213,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownParamsUsingArgs","doc":"For each xs[i], if xs[i] is owned, then mark ps[i] as owned.\nWe use this action to preserve tail calls. That is, if we have\na tail call `f xs`, if the i-th parameter is borrowed, but `xs[i]` is owned\nwe would have to insert a `dec xs[i]` after `f xs` and consequently\n\"break\" the tail call. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownParamsUsingArgs\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownParamsUsingArgs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">xs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Arg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ps</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L206-L211","name":"Lean.IR.Borrow.ownArgsUsingParams","line":206,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsUsingParams","doc":"For each ps[i], if ps[i] is owned, then mark xs[i] as owned. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsUsingParams\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgsUsingParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">xs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Arg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ps</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L193-L204","name":"Lean.IR.Borrow.getParamInfo","line":193,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getParamInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getParamInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">getParamInfo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">k</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">ParamMap.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L178-L191","name":"Lean.IR.Borrow.updateParamMap","line":178,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamMap","doc":"Updates `map[k]` using the current set of `owned` variables. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">updateParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">k</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">ParamMap.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L173-L176","name":"Lean.IR.Borrow.isOwned","line":173,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.isOwned","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.isOwned\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">isOwned</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L170-L171","name":"Lean.IR.Borrow.ownArgs","line":170,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgs\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">xs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Arg</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L165-L168","name":"Lean.IR.Borrow.ownArg","line":165,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArg\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArg</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Arg</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L159-L163","name":"Lean.IR.Borrow.ownVar","line":159,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownVar","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownVar\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownVar</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L156-L157","name":"Lean.IR.Borrow.markModified","line":156,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.markModified","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.markModified\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">markModified</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L152-L154","name":"Lean.IR.Borrow.getCurrFn","line":152,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getCurrFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getCurrFn\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">getCurrFn</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">M</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L150-L150","name":"Lean.IR.Borrow.M","line":150,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">M</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L148-L148","name":"Lean.IR.Borrow.BorrowInfState.paramMap","line":148,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.paramMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.paramMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">paramMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L147-L147","name":"Lean.IR.Borrow.BorrowInfState.modified","line":147,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.modified","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.modified\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">modified</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L146-L146","name":"Lean.IR.Borrow.BorrowInfState.owned","line":146,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.owned","doc":"Set of variables that must be `owned`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.owned\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">owned</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">OwnedSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L144-L144","name":"Lean.IR.Borrow.BorrowInfState.mk","line":144,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">owned</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">modified</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">paramMap</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">BorrowInfState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L144-L148","name":"Lean.IR.Borrow.BorrowInfState","line":144,"kind":"structure","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L142-L142","name":"Lean.IR.Borrow.BorrowInfCtx.paramSet","line":142,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.paramSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.paramSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">paramSet</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.IndexSet\">IndexSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L141-L141","name":"Lean.IR.Borrow.BorrowInfCtx.currFn","line":141,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.currFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.currFn\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">currFn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L140-L140","name":"Lean.IR.Borrow.BorrowInfCtx.decls","line":140,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.decls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.decls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">decls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L139-L139","name":"Lean.IR.Borrow.BorrowInfCtx.env","line":139,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.env","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.env\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">env</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L138-L138","name":"Lean.IR.Borrow.BorrowInfCtx.mk","line":138,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">currFn</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">paramSet</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.IndexSet\">IndexSet</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">BorrowInfCtx</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L138-L142","name":"Lean.IR.Borrow.BorrowInfCtx","line":138,"kind":"structure","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L135-L136","name":"Lean.IR.Borrow.applyParamMap","line":135,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.applyParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.applyParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">applyParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">map</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L124-L131","name":"Lean.IR.Borrow.ApplyParamMap.visitDecls","line":124,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ApplyParamMap</span>.<span class=\"name\">visitDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">paramMap</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L108-L122","name":"Lean.IR.Borrow.ApplyParamMap.visitFnBody","line":108,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ApplyParamMap</span>.<span class=\"name\">visitFnBody</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fn</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">paramMap</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">FnBody</a> → <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">FnBody</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L101-L102","name":"Lean.IR.Borrow.mkInitParamMap","line":101,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.mkInitParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.mkInitParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">mkInitParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L92-L98","name":"Lean.IR.Borrow.InitParamMap.visitDecls","line":92,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">visitDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Control/State.html#StateM\">StateM</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L81-L90","name":"Lean.IR.Borrow.InitParamMap.visitFnBody","line":81,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">visitFnBody</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fnid</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">FnBody</a> → <span class=\"fn\"><a href=\"./Init/Control/State.html#StateM\">StateM</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L71-L79","name":"Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported","line":71,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported","doc":"We do not perform borrow inference for constants marked as `export`.\nReason: we current write wrappers in C++ for using exported functions.\nThese wrappers use smart pointers such as `object_ref`.\nWhen writing a new wrapper we need to know whether an argument is a borrow\ninference or not.\nWe can revise this decision when we implement code for generating\nthe wrappers automatically. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">initBorrowIfNotExported</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exported</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ps</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L67-L69","name":"Lean.IR.Borrow.InitParamMap.initBorrow","line":67,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrow","doc":"Mark parameters that take a reference as borrow "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrow\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">initBorrow</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ps</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Param</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L64-L64","name":"Lean.IR.Borrow.instToStringParamMap","line":64,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToStringParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToStringParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">instToStringParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L63-L63","name":"Lean.IR.Borrow.instToFormatParamMap","line":63,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToFormatParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToFormatParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">instToFormatParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Format/Basic.html#Std.ToFormat\">ToFormat</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L54-L61","name":"Lean.IR.Borrow.ParamMap.fmt","line":54,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.fmt","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.fmt\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">fmt</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">map</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Data/Format/Basic.html#Std.Format\">Format</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L52-L52","name":"Lean.IR.Borrow.ParamMap","line":52,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L48-L48","name":"Lean.IR.Borrow.ParamMap.instHashableKey","line":48,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instHashableKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instHashableKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">instHashableKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Hashable\">Hashable</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L44-L46","name":"Lean.IR.Borrow.ParamMap.getHash","line":44,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.getHash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.getHash\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">getHash</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Key</a> → <a href=\"./Init/Prelude.html#UInt64\">UInt64</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L42-L42","name":"Lean.IR.Borrow.ParamMap.instBEqKey","line":42,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instBEqKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instBEqKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">instBEqKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L41-L41","name":"Lean.IR.Borrow.ParamMap.Key.jp","line":41,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.jp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.jp\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span>.<span class=\"name\">jp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">jpid</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.JoinPointId\">JoinPointId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Key</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L40-L40","name":"Lean.IR.Borrow.ParamMap.Key.decl","line":40,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.decl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.decl\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span>.<span class=\"name\">decl</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">FunId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Key</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L39-L42","name":"Lean.IR.Borrow.ParamMap.Key","line":39,"kind":"inductive","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L31-L31","name":"Lean.IR.Borrow.OwnedSet.contains","line":31,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.contains","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.contains\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">contains</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">k</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L30-L30","name":"Lean.IR.Borrow.OwnedSet.insert","line":30,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.insert","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.insert\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">insert</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">k</span> : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">OwnedSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L29-L29","name":"Lean.IR.Borrow.OwnedSet","line":29,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L25-L25","name":"Lean.IR.Borrow.OwnedSet.instHashableKey","line":25,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instHashableKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instHashableKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">instHashableKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Hashable\">Hashable</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L23-L24","name":"Lean.IR.Borrow.OwnedSet.getHash","line":23,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.getHash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.getHash\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">getHash</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a> → <a href=\"./Init/Prelude.html#UInt64\">UInt64</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L21-L21","name":"Lean.IR.Borrow.OwnedSet.instBEqKey","line":21,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instBEqKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instBEqKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">instBEqKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L18-L19","name":"Lean.IR.Borrow.OwnedSet.beq","line":18,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.beq","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.beq\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">beq</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a> → <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Key</a> → <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Lean/Compiler/IR/Borrow.lean#L16-L16","name":"Lean.IR.Borrow.OwnedSet.Key","line":16,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">Key</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"}]}